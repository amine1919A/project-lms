Download the React DevTools for a better development experience: https://react.dev/link/react-devtools
AuthContext.jsx:18 ?? AuthContext - Initialisation: {hasToken: true, hasUserData: true, userRole: 'student'}
AuthContext.jsx:26 ? AuthContext - Utilisateur restauré
AuthContext.jsx:18 ?? AuthContext - Initialisation: {hasToken: true, hasUserData: true, userRole: 'student'}
AuthContext.jsx:26 ? AuthContext - Utilisateur restauré
StudentLayout.jsx:111 Erreur chargement données utilisateur: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadUserData @ StudentLayout.jsx:111
await in loadUserData
loadInitialData @ StudentLayout.jsx:75
(anonymous) @ StudentLayout.jsx:64
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13062
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13187
(anonymous) @ react-dom_client.js?v=8a4f7835:12776
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<StudentLayout>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
AppRouter @ Router.jsx:143
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<AppRouter>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
App @ App.jsx:11
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 70 more frames
Show lessUnderstand this error
StudentLayout.jsx:138 Erreur chargement sessions live: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadLiveSessions @ StudentLayout.jsx:138
await in loadLiveSessions
loadInitialData @ StudentLayout.jsx:76
(anonymous) @ StudentLayout.jsx:64
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13062
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13187
(anonymous) @ react-dom_client.js?v=8a4f7835:12776
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<StudentLayout>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
AppRouter @ Router.jsx:143
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<AppRouter>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
App @ App.jsx:11
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 70 more frames
Show lessUnderstand this error
StudentLayout.jsx:190 Erreur chargement notifications: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadNotifications @ StudentLayout.jsx:190
await in loadNotifications
loadInitialData @ StudentLayout.jsx:77
(anonymous) @ StudentLayout.jsx:64
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13062
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13187
(anonymous) @ react-dom_client.js?v=8a4f7835:12776
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<StudentLayout>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
AppRouter @ Router.jsx:143
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<AppRouter>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
App @ App.jsx:11
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 70 more frames
Show lessUnderstand this error
StudentLayout.jsx:111 Erreur chargement données utilisateur: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadUserData @ StudentLayout.jsx:111
await in loadUserData
loadInitialData @ StudentLayout.jsx:75
(anonymous) @ StudentLayout.jsx:64
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13062
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13187
(anonymous) @ react-dom_client.js?v=8a4f7835:12776
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<StudentLayout>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
AppRouter @ Router.jsx:143
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<AppRouter>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
App @ App.jsx:11
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 59 more frames
Show lessUnderstand this error
StudentLayout.jsx:138 Erreur chargement sessions live: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadLiveSessions @ StudentLayout.jsx:138
await in loadLiveSessions
loadInitialData @ StudentLayout.jsx:76
(anonymous) @ StudentLayout.jsx:64
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13062
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13187
(anonymous) @ react-dom_client.js?v=8a4f7835:12776
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<StudentLayout>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
AppRouter @ Router.jsx:143
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<AppRouter>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
App @ App.jsx:11
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 59 more frames
Show lessUnderstand this error
StudentLayout.jsx:190 Erreur chargement notifications: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadNotifications @ StudentLayout.jsx:190
await in loadNotifications
loadInitialData @ StudentLayout.jsx:77
(anonymous) @ StudentLayout.jsx:64
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13062
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13187
(anonymous) @ react-dom_client.js?v=8a4f7835:12776
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<StudentLayout>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
AppRouter @ Router.jsx:143
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<AppRouter>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
App @ App.jsx:11
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 59 more frames
Show lessUnderstand this error
StudentTests.jsx:127 Erreur chargement tests: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadTests @ StudentTests.jsx:127
await in loadTests
(anonymous) @ StudentTests.jsx:108
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<StudentTests>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
AppRouter @ Router.jsx:154
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<AppRouter>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
App @ App.jsx:11
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 97 more frames
Show lessUnderstand this error
StudentTests.jsx:148 Erreur chargement résultats: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadResults @ StudentTests.jsx:148
await in loadResults
(anonymous) @ StudentTests.jsx:109
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<StudentTests>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
AppRouter @ Router.jsx:154
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<AppRouter>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
App @ App.jsx:11
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 97 more frames
Show lessUnderstand this error
StudentTests.jsx:355 MUI Grid: The `item` prop has been removed and is no longer necessary. You can safely remove it.

(anonymous) @ chunk-UURBDZKC.js?v=8a4f7835:7813
deleteLegacyGridProps @ chunk-UURBDZKC.js?v=8a4f7835:7810
Grid3 @ chunk-UURBDZKC.js?v=8a4f7835:7883
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooks @ react-dom_client.js?v=8a4f7835:5654
updateForwardRef @ react-dom_client.js?v=8a4f7835:7198
beginWork @ react-dom_client.js?v=8a4f7835:8735
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<ForwardRef(Grid3)>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
StudentTests @ StudentTests.jsx:355
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<StudentTests>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
AppRouter @ Router.jsx:154
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<AppRouter>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
App @ App.jsx:11
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 53 more frames
Show lessUnderstand this warning
StudentTests.jsx:377 MUI Grid: The `xs` prop has been removed. See https://mui.com/material-ui/migration/upgrade-to-grid-v2/ for migration instructions.

(anonymous) @ chunk-UURBDZKC.js?v=8a4f7835:7813
deleteLegacyGridProps @ chunk-UURBDZKC.js?v=8a4f7835:7810
Grid3 @ chunk-UURBDZKC.js?v=8a4f7835:7883
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooks @ react-dom_client.js?v=8a4f7835:5654
updateForwardRef @ react-dom_client.js?v=8a4f7835:7198
beginWork @ react-dom_client.js?v=8a4f7835:8735
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<ForwardRef(Grid3)>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
StudentTests @ StudentTests.jsx:377
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<StudentTests>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
AppRouter @ Router.jsx:154
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<AppRouter>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
App @ App.jsx:11
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 53 more frames
Show lessUnderstand this warning
StudentTests.jsx:377 MUI Grid: The `sm` prop has been removed. See https://mui.com/material-ui/migration/upgrade-to-grid-v2/ for migration instructions.

(anonymous) @ chunk-UURBDZKC.js?v=8a4f7835:7813
deleteLegacyGridProps @ chunk-UURBDZKC.js?v=8a4f7835:7810
Grid3 @ chunk-UURBDZKC.js?v=8a4f7835:7883
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooks @ react-dom_client.js?v=8a4f7835:5654
updateForwardRef @ react-dom_client.js?v=8a4f7835:7198
beginWork @ react-dom_client.js?v=8a4f7835:8735
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<ForwardRef(Grid3)>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
StudentTests @ StudentTests.jsx:377
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<StudentTests>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
AppRouter @ Router.jsx:154
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<AppRouter>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
App @ App.jsx:11
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 53 more frames
Show lessUnderstand this warning
StudentTests.jsx:377 MUI Grid: The `md` prop has been removed. See https://mui.com/material-ui/migration/upgrade-to-grid-v2/ for migration instructions.

(anonymous) @ chunk-UURBDZKC.js?v=8a4f7835:7813
deleteLegacyGridProps @ chunk-UURBDZKC.js?v=8a4f7835:7810
Grid3 @ chunk-UURBDZKC.js?v=8a4f7835:7883
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooks @ react-dom_client.js?v=8a4f7835:5654
updateForwardRef @ react-dom_client.js?v=8a4f7835:7198
beginWork @ react-dom_client.js?v=8a4f7835:8735
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<ForwardRef(Grid3)>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
StudentTests @ StudentTests.jsx:377
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<StudentTests>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
AppRouter @ Router.jsx:154
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<AppRouter>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
App @ App.jsx:11
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 53 more frames
Show lessUnderstand this warning
StudentTests.jsx:127 Erreur chargement tests: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadTests @ StudentTests.jsx:127
await in loadTests
(anonymous) @ StudentTests.jsx:108
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11317
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11265
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11317
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11265
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 50 more frames
Show lessUnderstand this error
StudentTests.jsx:148 Erreur chargement résultats: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadResults @ StudentTests.jsx:148
await in loadResults
(anonymous) @ StudentTests.jsx:109
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11317
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11265
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11317
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11265
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 50 more frames
Show lessUnderstand this error
LiveSessionTeams.jsx:105 WebSocket connection to 'ws://localhost:5173/ws/chat/demo-123/' failed: WebSocket is closed before the connection is established.
(anonymous) @ LiveSessionTeams.jsx:105
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18573
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListUnmount @ react-dom_client.js?v=8a4f7835:9449
commitHookPassiveUnmountEffects @ react-dom_client.js?v=8a4f7835:9468
disconnectPassiveEffect @ react-dom_client.js?v=8a4f7835:11560
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 32 more frames
Show lessUnderstand this warning
LiveSessionTeams.jsx:151 Erreur: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadSession @ LiveSessionTeams.jsx:151
await in loadSession
(anonymous) @ LiveSessionTeams.jsx:81
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 43 more frames
Show lessUnderstand this error
LiveSessionTeams.jsx:151 Erreur: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadSession @ LiveSessionTeams.jsx:151
await in loadSession
(anonymous) @ LiveSessionTeams.jsx:81
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 32 more frames
Show lessUnderstand this error
LiveSessionTeams.jsx:382 Erreur: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
leaveSession @ LiveSessionTeams.jsx:382
await in leaveSession
executeDispatch @ react-dom_client.js?v=8a4f7835:13622
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
processDispatchQueue @ react-dom_client.js?v=8a4f7835:13658
(anonymous) @ react-dom_client.js?v=8a4f7835:14071
batchedUpdates$1 @ react-dom_client.js?v=8a4f7835:2626
dispatchEventForPluginEventSystem @ react-dom_client.js?v=8a4f7835:13763
dispatchEvent @ react-dom_client.js?v=8a4f7835:16784
dispatchDiscreteEvent @ react-dom_client.js?v=8a4f7835:16765
<button>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
LiveSessionTeams @ LiveSessionTeams.jsx:457
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 21 more frames
Show lessUnderstand this error
LiveSessionTeams.jsx:105 WebSocket connection to 'ws://localhost:5173/ws/chat/demo-123/' failed: WebSocket is closed before the connection is established.
(anonymous) @ LiveSessionTeams.jsx:105
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18573
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListUnmount @ react-dom_client.js?v=8a4f7835:9449
commitHookPassiveUnmountEffects @ react-dom_client.js?v=8a4f7835:9468
commitPassiveUnmountEffectsInsideOfDeletedTree_begin @ react-dom_client.js?v=8a4f7835:11593
recursivelyTraversePassiveUnmountEffects @ react-dom_client.js?v=8a4f7835:11465
commitPassiveUnmountOnFiber @ react-dom_client.js?v=8a4f7835:11489
recursivelyTraversePassiveUnmountEffects @ react-dom_client.js?v=8a4f7835:11481
commitPassiveUnmountOnFiber @ react-dom_client.js?v=8a4f7835:11516
recursivelyTraversePassiveUnmountEffects @ react-dom_client.js?v=8a4f7835:11481
commitPassiveUnmountOnFiber @ react-dom_client.js?v=8a4f7835:11489
recursivelyTraversePassiveUnmountEffects @ react-dom_client.js?v=8a4f7835:11481
commitPassiveUnmountOnFiber @ react-dom_client.js?v=8a4f7835:11489
recursivelyTraversePassiveUnmountEffects @ react-dom_client.js?v=8a4f7835:11481
commitPassiveUnmountOnFiber @ react-dom_client.js?v=8a4f7835:11516
recursivelyTraversePassiveUnmountEffects @ react-dom_client.js?v=8a4f7835:11481
commitPassiveUnmountOnFiber @ react-dom_client.js?v=8a4f7835:11516
recursivelyTraversePassiveUnmountEffects @ react-dom_client.js?v=8a4f7835:11481
commitPassiveUnmountOnFiber @ react-dom_client.js?v=8a4f7835:11489
recursivelyTraversePassiveUnmountEffects @ react-dom_client.js?v=8a4f7835:11481
commitPassiveUnmountOnFiber @ react-dom_client.js?v=8a4f7835:11489
recursivelyTraversePassiveUnmountEffects @ react-dom_client.js?v=8a4f7835:11481
commitPassiveUnmountOnFiber @ react-dom_client.js?v=8a4f7835:11489
recursivelyTraversePassiveUnmountEffects @ react-dom_client.js?v=8a4f7835:11481
commitPassiveUnmountOnFiber @ react-dom_client.js?v=8a4f7835:11516
recursivelyTraversePassiveUnmountEffects @ react-dom_client.js?v=8a4f7835:11481
commitPassiveUnmountOnFiber @ react-dom_client.js?v=8a4f7835:11489
recursivelyTraversePassiveUnmountEffects @ react-dom_client.js?v=8a4f7835:11481
commitPassiveUnmountOnFiber @ react-dom_client.js?v=8a4f7835:11489
recursivelyTraversePassiveUnmountEffects @ react-dom_client.js?v=8a4f7835:11481
commitPassiveUnmountOnFiber @ react-dom_client.js?v=8a4f7835:11516
recursivelyTraversePassiveUnmountEffects @ react-dom_client.js?v=8a4f7835:11481
commitPassiveUnmountOnFiber @ react-dom_client.js?v=8a4f7835:11498
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13146
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 43 more frames
Show lessUnderstand this warning
LiveSessionTeams.jsx:382 Erreur: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
leaveSession @ LiveSessionTeams.jsx:382
await in leaveSession
executeDispatch @ react-dom_client.js?v=8a4f7835:13622
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
processDispatchQueue @ react-dom_client.js?v=8a4f7835:13658
(anonymous) @ react-dom_client.js?v=8a4f7835:14071
batchedUpdates$1 @ react-dom_client.js?v=8a4f7835:2626
dispatchEventForPluginEventSystem @ react-dom_client.js?v=8a4f7835:13763
dispatchEvent @ react-dom_client.js?v=8a4f7835:16784
dispatchDiscreteEvent @ react-dom_client.js?v=8a4f7835:16765
<button>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
LiveSessionTeams @ LiveSessionTeams.jsx:457
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 21 more frames
Show lessUnderstand this error
StudentLayout.jsx:111 Erreur chargement données utilisateur: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadUserData @ StudentLayout.jsx:111
await in loadUserData
loadInitialData @ StudentLayout.jsx:75
(anonymous) @ StudentLayout.jsx:64
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 43 more frames
Show lessUnderstand this error
StudentLayout.jsx:138 Erreur chargement sessions live: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadLiveSessions @ StudentLayout.jsx:138
await in loadLiveSessions
loadInitialData @ StudentLayout.jsx:76
(anonymous) @ StudentLayout.jsx:64
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 43 more frames
Show lessUnderstand this error
StudentLayout.jsx:190 Erreur chargement notifications: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadNotifications @ StudentLayout.jsx:190
await in loadNotifications
loadInitialData @ StudentLayout.jsx:77
(anonymous) @ StudentLayout.jsx:64
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 43 more frames
Show lessUnderstand this error
StudentLayout.jsx:111 Erreur chargement données utilisateur: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadUserData @ StudentLayout.jsx:111
await in loadUserData
loadInitialData @ StudentLayout.jsx:75
(anonymous) @ StudentLayout.jsx:64
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 32 more frames
Show lessUnderstand this error
StudentLayout.jsx:138 Erreur chargement sessions live: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadLiveSessions @ StudentLayout.jsx:138
await in loadLiveSessions
loadInitialData @ StudentLayout.jsx:76
(anonymous) @ StudentLayout.jsx:64
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 32 more frames
Show lessUnderstand this error
StudentLayout.jsx:190 Erreur chargement notifications: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadNotifications @ StudentLayout.jsx:190
await in loadNotifications
loadInitialData @ StudentLayout.jsx:77
(anonymous) @ StudentLayout.jsx:64
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 32 more frames
Show lessUnderstand this error
StudentDashboard.jsx:126 Erreur chargement /schedule/student/my-schedule/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:138
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /accounts/me/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:139
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /notifications/?type=announcement&limit=3: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:140
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /live/sessions/active/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:141
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /classes/classes/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:142
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /schedule/student/my-schedule/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:138
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11317
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11265
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11317
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11265
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 50 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:469 MUI Grid: The `lg` prop has been removed. See https://mui.com/material-ui/migration/upgrade-to-grid-v2/ for migration instructions.

(anonymous) @ chunk-UURBDZKC.js?v=8a4f7835:7813
deleteLegacyGridProps @ chunk-UURBDZKC.js?v=8a4f7835:7810
Grid3 @ chunk-UURBDZKC.js?v=8a4f7835:7883
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooks @ react-dom_client.js?v=8a4f7835:5654
updateForwardRef @ react-dom_client.js?v=8a4f7835:7198
beginWork @ react-dom_client.js?v=8a4f7835:8735
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<ForwardRef(Grid3)>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
StudentDashboard @ StudentDashboard.jsx:469
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 27 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /accounts/me/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:139
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11317
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11265
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11317
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11265
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 50 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /notifications/?type=announcement&limit=3: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:140
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11317
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11265
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11317
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11265
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 50 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /live/sessions/active/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:141
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11317
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11265
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11317
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11265
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 50 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /classes/classes/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:142
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11317
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11265
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11317
recursivelyTraverseReconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11240
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11265
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 50 more frames
Show lessUnderstand this warning
StudentSubjectDetails.jsx:61 Erreur chargement matière: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadSubjectData @ StudentSubjectDetails.jsx:61
await in loadSubjectData
(anonymous) @ StudentSubjectDetails.jsx:52
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this error
StudentSubjectDetails.jsx:61 Erreur chargement matière: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadSubjectData @ StudentSubjectDetails.jsx:61
await in loadSubjectData
(anonymous) @ StudentSubjectDetails.jsx:52
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 46 more frames
Show lessUnderstand this error
StudentDashboard.jsx:126 Erreur chargement /schedule/student/my-schedule/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:138
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /accounts/me/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:139
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /notifications/?type=announcement&limit=3: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:140
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /live/sessions/active/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:141
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /classes/classes/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:142
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /schedule/student/my-schedule/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:138
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 46 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /accounts/me/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:139
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 46 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /notifications/?type=announcement&limit=3: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:140
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 46 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /live/sessions/active/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:141
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 46 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /classes/classes/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:142
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 46 more frames
Show lessUnderstand this warning
StudentClasses.jsx:73 Erreur chargement classes: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadClasses @ StudentClasses.jsx:73
await in loadClasses
(anonymous) @ StudentClasses.jsx:45
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this error
StudentClasses.jsx:73 Erreur chargement classes: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadClasses @ StudentClasses.jsx:73
await in loadClasses
(anonymous) @ StudentClasses.jsx:45
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 46 more frames
Show lessUnderstand this error
StudentClassDetails.jsx:116 Erreur: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadClassData @ StudentClassDetails.jsx:116
await in loadClassData
(anonymous) @ StudentClassDetails.jsx:105
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this error
StudentClassDetails.jsx:147 Erreur sessions: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadLiveSessions @ StudentClassDetails.jsx:147
await in loadLiveSessions
(anonymous) @ StudentClassDetails.jsx:106
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this error
StudentClassDetails.jsx:116 Erreur: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadClassData @ StudentClassDetails.jsx:116
await in loadClassData
(anonymous) @ StudentClassDetails.jsx:105
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 46 more frames
Show lessUnderstand this error
StudentClassDetails.jsx:147 Erreur sessions: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadLiveSessions @ StudentClassDetails.jsx:147
await in loadLiveSessions
(anonymous) @ StudentClassDetails.jsx:106
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 46 more frames
Show lessUnderstand this error
StudentDashboard.jsx:126 Erreur chargement /schedule/student/my-schedule/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:138
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /accounts/me/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:139
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /notifications/?type=announcement&limit=3: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:140
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /live/sessions/active/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:141
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /classes/classes/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:142
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /schedule/student/my-schedule/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:138
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 46 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /accounts/me/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:139
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 46 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /notifications/?type=announcement&limit=3: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:140
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 46 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /live/sessions/active/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:141
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 46 more frames
Show lessUnderstand this warning
StudentDashboard.jsx:126 Erreur chargement /classes/classes/: timeout of 10000ms exceeded
loadData @ StudentDashboard.jsx:126
await in loadData
loadDashboardData @ StudentDashboard.jsx:142
(anonymous) @ StudentDashboard.jsx:113
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 46 more frames
Show lessUnderstand this warning
StudentChat.jsx:84 Erreur chargement contacts: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadContacts @ StudentChat.jsx:84
await in loadContacts
(anonymous) @ StudentChat.jsx:58
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this error
StudentChat.jsx:84 Erreur chargement contacts: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadContacts @ StudentChat.jsx:84
await in loadContacts
(anonymous) @ StudentChat.jsx:58
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 46 more frames
Show lessUnderstand this error
StudentChat.jsx:473 React does not recognize the `isMe` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `isme` instead. If you accidentally passed it from a parent component, remove it from the DOM element.
validateProperty @ react-dom_client.js?v=8a4f7835:2403
warnUnknownProperties @ react-dom_client.js?v=8a4f7835:2541
validatePropertiesInDevelopment @ react-dom_client.js?v=8a4f7835:14129
setInitialProperties @ react-dom_client.js?v=8a4f7835:14554
completeWork @ react-dom_client.js?v=8a4f7835:9077
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
completeUnitOfWork @ react-dom_client.js?v=8a4f7835:12669
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12575
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
processRootScheduleInMicrotask @ react-dom_client.js?v=8a4f7835:13437
(anonymous) @ react-dom_client.js?v=8a4f7835:13531
<div>
exports.createElement @ chunk-YX2XZWS3.js?v=8a4f7835:793
(anonymous) @ chunk-UURBDZKC.js?v=8a4f7835:3402
MuiPaper-root @ chunk-UURBDZKC.js?v=8a4f7835:2513
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateForwardRef @ react-dom_client.js?v=8a4f7835:7198
beginWork @ react-dom_client.js?v=8a4f7835:8735
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
processRootScheduleInMicrotask @ react-dom_client.js?v=8a4f7835:13437
(anonymous) @ react-dom_client.js?v=8a4f7835:13531
<MuiPaperRoot>
exports.jsx @ chunk-T7ATK2ZT.js?v=8a4f7835:247
Paper2 @ @mui_material.js?v=8a4f7835:2345
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateForwardRef @ react-dom_client.js?v=8a4f7835:7198
beginWork @ react-dom_client.js?v=8a4f7835:8735
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
processRootScheduleInMicrotask @ react-dom_client.js?v=8a4f7835:13437
(anonymous) @ react-dom_client.js?v=8a4f7835:13531
<ForwardRef(Paper2)>
exports.createElement @ chunk-YX2XZWS3.js?v=8a4f7835:793
(anonymous) @ chunk-UURBDZKC.js?v=8a4f7835:3402
Styled(Component) @ chunk-UURBDZKC.js?v=8a4f7835:2513
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateForwardRef @ react-dom_client.js?v=8a4f7835:7198
beginWork @ react-dom_client.js?v=8a4f7835:8735
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
processRootScheduleInMicrotask @ react-dom_client.js?v=8a4f7835:13437
(anonymous) @ react-dom_client.js?v=8a4f7835:13531
<Styled(ForwardRef(Paper2))>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
(anonymous) @ StudentChat.jsx:473
StudentChat @ StudentChat.jsx:472
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
processRootScheduleInMicrotask @ react-dom_client.js?v=8a4f7835:13437
(anonymous) @ react-dom_client.js?v=8a4f7835:13531
Show 80 more frames
Show lessUnderstand this error
StudentChat.jsx:473 React does not recognize the `isTeacher` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `isteacher` instead. If you accidentally passed it from a parent component, remove it from the DOM element.
validateProperty @ react-dom_client.js?v=8a4f7835:2403
warnUnknownProperties @ react-dom_client.js?v=8a4f7835:2541
validatePropertiesInDevelopment @ react-dom_client.js?v=8a4f7835:14129
setInitialProperties @ react-dom_client.js?v=8a4f7835:14554
completeWork @ react-dom_client.js?v=8a4f7835:9077
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
completeUnitOfWork @ react-dom_client.js?v=8a4f7835:12669
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12575
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
processRootScheduleInMicrotask @ react-dom_client.js?v=8a4f7835:13437
(anonymous) @ react-dom_client.js?v=8a4f7835:13531
<div>
exports.createElement @ chunk-YX2XZWS3.js?v=8a4f7835:793
(anonymous) @ chunk-UURBDZKC.js?v=8a4f7835:3402
MuiPaper-root @ chunk-UURBDZKC.js?v=8a4f7835:2513
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateForwardRef @ react-dom_client.js?v=8a4f7835:7198
beginWork @ react-dom_client.js?v=8a4f7835:8735
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
processRootScheduleInMicrotask @ react-dom_client.js?v=8a4f7835:13437
(anonymous) @ react-dom_client.js?v=8a4f7835:13531
<MuiPaperRoot>
exports.jsx @ chunk-T7ATK2ZT.js?v=8a4f7835:247
Paper2 @ @mui_material.js?v=8a4f7835:2345
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateForwardRef @ react-dom_client.js?v=8a4f7835:7198
beginWork @ react-dom_client.js?v=8a4f7835:8735
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
processRootScheduleInMicrotask @ react-dom_client.js?v=8a4f7835:13437
(anonymous) @ react-dom_client.js?v=8a4f7835:13531
<ForwardRef(Paper2)>
exports.createElement @ chunk-YX2XZWS3.js?v=8a4f7835:793
(anonymous) @ chunk-UURBDZKC.js?v=8a4f7835:3402
Styled(Component) @ chunk-UURBDZKC.js?v=8a4f7835:2513
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateForwardRef @ react-dom_client.js?v=8a4f7835:7198
beginWork @ react-dom_client.js?v=8a4f7835:8735
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
processRootScheduleInMicrotask @ react-dom_client.js?v=8a4f7835:13437
(anonymous) @ react-dom_client.js?v=8a4f7835:13531
<Styled(ForwardRef(Paper2))>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
(anonymous) @ StudentChat.jsx:473
StudentChat @ StudentChat.jsx:472
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
processRootScheduleInMicrotask @ react-dom_client.js?v=8a4f7835:13437
(anonymous) @ react-dom_client.js?v=8a4f7835:13531
Show 80 more frames
Show lessUnderstand this error
StudentChat.jsx:175 Received `true` for a non-boolean attribute `button`.

If you want to write it to the DOM, pass a string instead: button="true" or button={value.toString()}.
validateProperty @ react-dom_client.js?v=8a4f7835:2469
warnUnknownProperties @ react-dom_client.js?v=8a4f7835:2541
validatePropertiesInDevelopment @ react-dom_client.js?v=8a4f7835:14129
setInitialProperties @ react-dom_client.js?v=8a4f7835:14554
completeWork @ react-dom_client.js?v=8a4f7835:9077
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
completeUnitOfWork @ react-dom_client.js?v=8a4f7835:12669
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12575
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
processRootScheduleInMicrotask @ react-dom_client.js?v=8a4f7835:13437
(anonymous) @ react-dom_client.js?v=8a4f7835:13531
<li>
exports.createElement @ chunk-YX2XZWS3.js?v=8a4f7835:793
(anonymous) @ chunk-UURBDZKC.js?v=8a4f7835:3402
MuiListItem-root @ chunk-UURBDZKC.js?v=8a4f7835:2513
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateForwardRef @ react-dom_client.js?v=8a4f7835:7198
beginWork @ react-dom_client.js?v=8a4f7835:8735
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
processRootScheduleInMicrotask @ react-dom_client.js?v=8a4f7835:13437
(anonymous) @ react-dom_client.js?v=8a4f7835:13531
<MuiListItemRoot>
exports.jsxs @ chunk-T7ATK2ZT.js?v=8a4f7835:258
ListItem2 @ @mui_material.js?v=8a4f7835:24907
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateForwardRef @ react-dom_client.js?v=8a4f7835:7198
beginWork @ react-dom_client.js?v=8a4f7835:8735
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
processRootScheduleInMicrotask @ react-dom_client.js?v=8a4f7835:13437
(anonymous) @ react-dom_client.js?v=8a4f7835:13531
<ForwardRef(ListItem2)>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
(anonymous) @ StudentChat.jsx:175
renderContacts @ StudentChat.jsx:174
StudentChat @ StudentChat.jsx:397
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13517
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
processRootScheduleInMicrotask @ react-dom_client.js?v=8a4f7835:13437
(anonymous) @ react-dom_client.js?v=8a4f7835:13531
Show 63 more frames
Show lessUnderstand this error
StudentLiveSessions.jsx:53 Erreur chargement sessions: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadSessions @ StudentLiveSessions.jsx:53
await in loadSessions
(anonymous) @ StudentLiveSessions.jsx:33
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11040
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11033
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11201
recursivelyTraversePassiveMountEffects @ react-dom_client.js?v=8a4f7835:11010
commitPassiveMountOnFiber @ react-dom_client.js?v=8a4f7835:11066
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13150
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 71 more frames
Show lessUnderstand this error
StudentLiveSessions.jsx:105 Each child in a list should have a unique "key" prop.

Check the render method of `MuiStackRoot`. It was passed a child from StudentLiveSessions. See https://react.dev/link/warning-keys for more information.
(anonymous) @ react-dom_client.js?v=8a4f7835:18618
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
warnForMissingKey @ react-dom_client.js?v=8a4f7835:18617
warnOnInvalidKey @ react-dom_client.js?v=8a4f7835:4912
reconcileChildrenArray @ react-dom_client.js?v=8a4f7835:4965
reconcileChildFibersImpl @ react-dom_client.js?v=8a4f7835:5171
(anonymous) @ react-dom_client.js?v=8a4f7835:5237
reconcileChildren @ react-dom_client.js?v=8a4f7835:7182
beginWork @ react-dom_client.js?v=8a4f7835:8701
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
<ForwardRef(Card2)>
exports.jsxDEV @ react_jsx-dev-runtime.js?v=8a4f7835:247
renderSessionCard @ StudentLiveSessions.jsx:105
(anonymous) @ StudentLiveSessions.jsx:272
StudentLiveSessions @ StudentLiveSessions.jsx:272
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18509
renderWithHooksAgain @ react-dom_client.js?v=8a4f7835:5729
renderWithHooks @ react-dom_client.js?v=8a4f7835:5665
updateFunctionComponent @ react-dom_client.js?v=8a4f7835:7475
beginWork @ react-dom_client.js?v=8a4f7835:8525
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
performUnitOfWork @ react-dom_client.js?v=8a4f7835:12561
workLoopSync @ react-dom_client.js?v=8a4f7835:12424
renderRootSync @ react-dom_client.js?v=8a4f7835:12408
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11766
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 29 more frames
Show lessUnderstand this error
StudentLiveSessions.jsx:53 Erreur chargement sessions: AxiosError {message: 'timeout of 10000ms exceeded', name: 'AxiosError', code: 'ECONNABORTED', config: {…}, request: XMLHttpRequest, …}
loadSessions @ StudentLiveSessions.jsx:53
await in loadSessions
(anonymous) @ StudentLiveSessions.jsx:33
react_stack_bottom_frame @ react-dom_client.js?v=8a4f7835:18567
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
commitHookEffectListMount @ react-dom_client.js?v=8a4f7835:9411
commitHookPassiveMountEffects @ react-dom_client.js?v=8a4f7835:9465
reconnectPassiveEffects @ react-dom_client.js?v=8a4f7835:11273
doubleInvokeEffectsOnFiber @ react-dom_client.js?v=8a4f7835:13339
runWithFiberInDEV @ react-dom_client.js?v=8a4f7835:997
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13312
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
recursivelyTraverseAndDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13317
commitDoubleInvokeEffectsInDEV @ react-dom_client.js?v=8a4f7835:13347
flushPassiveEffects @ react-dom_client.js?v=8a4f7835:13157
flushPendingEffects @ react-dom_client.js?v=8a4f7835:13088
performSyncWorkOnRoot @ react-dom_client.js?v=8a4f7835:13514
flushSyncWorkAcrossRoots_impl @ react-dom_client.js?v=8a4f7835:13414
flushSpawnedWork @ react-dom_client.js?v=8a4f7835:13067
commitRoot @ react-dom_client.js?v=8a4f7835:12804
commitRootWhenReady @ react-dom_client.js?v=8a4f7835:12016
performWorkOnRoot @ react-dom_client.js?v=8a4f7835:11950
performWorkOnRootViaSchedulerTask @ react-dom_client.js?v=8a4f7835:13505
performWorkUntilDeadline @ react-dom_client.js?v=8a4f7835:36
Show 46 more frames
Show lessUnderstand this error                               voila tout les pages et chaque pages a un probleme donner le code  complete exact de correction de oprobleme deja tu a le backend   // src/pages/student/StudentChat.jsx - PAGE COMPLÈTE
import React, { useState, useEffect, useRef } from 'react';
import { useNavigate } from 'react-router-dom';
import { toast } from 'react-toastify';
import api from '../../services/api';
import {
  Container, Paper, TextField, Button, Avatar,
  Typography, Box, IconButton, List, ListItem,
  ListItemAvatar, ListItemText, Divider, Badge,
  Chip, Grid, Card, CardContent, InputAdornment,
  Tabs, Tab, Stack, alpha, styled
} from '@mui/material';
import {
  Send as SendIcon,
  Search as SearchIcon,
  VideoCall as VideoCallIcon,
  Group as GroupIcon,
  AttachFile as AttachFileIcon,
  EmojiEmotions as EmojiIcon,
  Mic as MicIcon,
  MoreVert as MoreVertIcon,
  ArrowBack as ArrowBackIcon,
  OnlinePrediction as OnlineIcon,
  Person as PersonIcon,
  School as SchoolIcon,
  Chat as ChatIcon,
  Notifications as NotificationsIcon,
  FilterList as FilterIcon
} from '@mui/icons-material';

const MessageBubble = styled(Paper)(({ theme, isMe, isTeacher }) => ({
  padding: theme.spacing(1.5, 2),
  borderRadius: 18,
  maxWidth: '70%',
  backgroundColor: isMe ? '#e53935' : isTeacher ? '#1976d2' : '#f5f5f5',
  color: isMe || isTeacher ? 'white' : 'text.primary',
  borderTopRightRadius: isMe ? 4 : 18,
  borderTopLeftRadius: isMe ? 18 : 4,
  marginBottom: theme.spacing(1),
  alignSelf: isMe ? 'flex-end' : 'flex-start',
}));

export default function StudentChat() {
  const navigate = useNavigate();
  const [messages, setMessages] = useState([]);
  const [newMessage, setNewMessage] = useState('');
  const [activeTab, setActiveTab] = useState(0);
  const [selectedChat, setSelectedChat] = useState(null);
  const [searchTerm, setSearchTerm] = useState('');
  const [teachers, setTeachers] = useState([]);
  const [students, setStudents] = useState([]);
  const [groups, setGroups] = useState([]);
  
  const messagesEndRef = useRef();
  const fileInputRef = useRef();

  useEffect(() => {
    loadContacts();
    loadInitialMessages();
  }, []);

  useEffect(() => {
    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
  }, [messages]);

  const loadContacts = async () => {
    try {
      // Charger les enseignants
      const teachersRes = await api.get('/accounts/users/?role=teacher&approved=true');
      setTeachers(teachersRes.data.users?.slice(0, 5) || []);

      // Charger les étudiants (camarades de classe)
      const studentsRes = await api.get('/accounts/users/?role=student&approved=true');
      setStudents(studentsRes.data.users?.slice(0, 5) || []);

      // Groupes simulés
      setGroups([
        { id: 1, name: 'Classe ING1 Info', members: 25, unread: 3 },
        { id: 2, name: 'Groupe Algorithmique', members: 12, unread: 1 },
        { id: 3, name: 'Projet Base de Données', members: 4, unread: 0 },
      ]);

    } catch (error) {
      console.error('Erreur chargement contacts:', error);
      // Données simulées
      setTeachers([
        { id: 1, username: 'Dr. Smith', email: 'smith@iteam.com', isOnline: true, specialty: 'Algorithmique' },
        { id: 2, username: 'Prof. Johnson', email: 'johnson@iteam.com', isOnline: false, specialty: 'Base de Données' },
      ]);
      setStudents([
        { id: 3, username: 'Ahmed Benali', email: 'ahmed@iteam.com', isOnline: true, class: 'ING1 Info' },
        { id: 4, username: 'Fatima Zahra', email: 'fatima@iteam.com', isOnline: true, class: 'ING1 Info' },
      ]);
    }
  };

  const loadInitialMessages = () => {
    // Messages initiaux simulés
    setMessages([
      {
        id: 1,
        sender: 'Dr. Smith',
        message: 'Bonjour, avez-vous des questions sur le cours d\'algorithmique ?',
        time: '10:30',
        isTeacher: true,
        unread: false
      },
      {
        id: 2,
        sender: 'Moi',
        message: 'Oui, je ne comprends pas l\'exercice 3 du TD',
        time: '10:32',
        isTeacher: false,
        unread: false
      },
      {
        id: 3,
        sender: 'Dr. Smith',
        message: 'Je vais expliquer lors de la prochaine session. En attendant, vérifiez la section 2.4 du cours.',
        time: '10:33',
        isTeacher: true,
        unread: false
      },
      {
        id: 4,
        sender: 'Ahmed Benali',
        message: 'Salut, tu as compris l\'exercice 2 ?',
        time: '14:20',
        isTeacher: false,
        unread: true
      }
    ]);
  };

  const sendMessage = () => {
    if (!newMessage.trim()) return;
    
    const newMsg = {
      id: messages.length + 1,
      sender: 'Moi',
      message: newMessage,
      time: new Date().toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' }),
      isTeacher: false,
      unread: false
    };
    
    setMessages(prev => [...prev, newMsg]);
    setNewMessage('');
    
    // Simuler une réponse automatique
    setTimeout(() => {
      if (selectedChat?.isTeacher) {
        const reply = {
          id: messages.length + 2,
          sender: selectedChat.name,
          message: 'Merci pour votre message. Je vous répondrai dès que possible.',
          time: new Date().toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' }),
          isTeacher: true,
          unread: false
        };
        setMessages(prev => [...prev, reply]);
      }
    }, 1000);
  };

  const startVideoCall = (user) => {
    toast.info(`Appel vidéo avec ${user.username}`);
    // Ici, vous intégrerez l'appel vidéo réel
  };

  const renderContacts = () => {
    switch (activeTab) {
      case 0: // Enseignants
        return teachers.map(teacher => (
          <ListItem
            key={teacher.id}
            button
            onClick={() => setSelectedChat({
              id: teacher.id,
              name: teacher.username,
              role: 'teacher',
              isOnline: teacher.isOnline,
              info: teacher.specialty || 'Enseignant'
            })}
            sx={{
              borderRadius: 2,
              mb: 1,
              bgcolor: selectedChat?.id === teacher.id ? 'primary.light' : 'transparent'
            }}
          >
            <ListItemAvatar>
              <Badge
                color="success"
                variant="dot"
                invisible={!teacher.isOnline}
                anchorOrigin={{
                  vertical: 'bottom',
                  horizontal: 'right'
                }}
              >
                <Avatar sx={{ bgcolor: '#1976d2' }}>
                  {teacher.username?.charAt(0) || 'T'}
                </Avatar>
              </Badge>
            </ListItemAvatar>
            <ListItemText
              primary={
                <Box display="flex" alignItems="center" gap={1}>
                  <Typography variant="subtitle2" fontWeight="600">
                    {teacher.username}
                  </Typography>
                  {teacher.isOnline && (
                    <Chip label="En ligne" size="small" color="success" variant="outlined" />
                  )}
                </Box>
              }
              secondary={
                <Typography variant="caption" color="textSecondary">
                  {teacher.specialty || 'Enseignant'}
                </Typography>
              }
            />
          </ListItem>
        ));

      case 1: // Étudiants
        return students.map(student => (
          <ListItem
            key={student.id}
            button
            onClick={() => setSelectedChat({
              id: student.id,
              name: student.username,
              role: 'student',
              isOnline: student.isOnline,
              info: student.class || 'Étudiant'
            })}
            sx={{
              borderRadius: 2,
              mb: 1,
              bgcolor: selectedChat?.id === student.id ? 'primary.light' : 'transparent'
            }}
          >
            <ListItemAvatar>
              <Badge
                color="success"
                variant="dot"
                invisible={!student.isOnline}
                anchorOrigin={{
                  vertical: 'bottom',
                  horizontal: 'right'
                }}
              >
                <Avatar sx={{ bgcolor: '#4caf50' }}>
                  {student.username?.charAt(0) || 'E'}
                </Avatar>
              </Badge>
            </ListItemAvatar>
            <ListItemText
              primary={
                <Box display="flex" alignItems="center" gap={1}>
                  <Typography variant="subtitle2" fontWeight="600">
                    {student.username}
                  </Typography>
                  {student.isOnline && (
                    <Chip label="En ligne" size="small" color="success" variant="outlined" />
                  )}
                </Box>
              }
              secondary={
                <Typography variant="caption" color="textSecondary">
                  {student.class || 'Étudiant'}
                </Typography>
              }
            />
          </ListItem>
        ));

      case 2: // Groupes
        return groups.map(group => (
          <ListItem
            key={group.id}
            button
            onClick={() => setSelectedChat({
              id: group.id,
              name: group.name,
              role: 'group',
              members: group.members,
              info: `${group.members} membres`
            })}
            sx={{
              borderRadius: 2,
              mb: 1,
              bgcolor: selectedChat?.id === group.id ? 'primary.light' : 'transparent'
            }}
          >
            <ListItemAvatar>
              <Badge
                badgeContent={group.unread}
                color="error"
              >
                <Avatar sx={{ bgcolor: '#9c27b0' }}>
                  <GroupIcon />
                </Avatar>
              </Badge>
            </ListItemAvatar>
            <ListItemText
              primary={
                <Box display="flex" alignItems="center" gap={1}>
                  <Typography variant="subtitle2" fontWeight="600">
                    {group.name}
                  </Typography>
                  {group.unread > 0 && (
                    <Chip label={`${group.unread} nouveau(x)`} size="small" color="error" />
                  )}
                </Box>
              }
              secondary={
                <Typography variant="caption" color="textSecondary">
                  {group.members} membres
                </Typography>
              }
            />
          </ListItem>
        ));

      default:
        return null;
    }
  };

  const filteredMessages = selectedChat
    ? messages.filter(msg => 
        msg.sender === selectedChat.name || 
        msg.sender === 'Moi' || 
        (selectedChat.role === 'teacher' && msg.isTeacher) ||
        (selectedChat.role === 'group' && !msg.isTeacher)
      )
    : [];

  return (
    <Container maxWidth="xl" sx={{ py: 4 }}>
      {/* Header */}
      <Box sx={{ mb: 4 }}>
        <Button
          startIcon={<ArrowBackIcon />}
          onClick={() => navigate('/student/dashboard')}
          sx={{ mb: 2 }}
        >
          Retour
        </Button>
        
        <Typography variant="h4" fontWeight="600" gutterBottom>
          ?? Messagerie en temps réel
        </Typography>
        <Typography variant="body1" color="textSecondary">
          Discutez avec vos enseignants et camarades de classe
        </Typography>
      </Box>

      <Grid container spacing={3}>
        {/* Liste des contacts */}
        <Grid item xs={12} md={4}>
          <Card sx={{ height: '80vh', overflow: 'hidden', display: 'flex', flexDirection: 'column' }}>
            <CardContent sx={{ flex: 1, overflow: 'hidden', display: 'flex', flexDirection: 'column' }}>
              {/* Recherche */}
              <Box sx={{ mb: 3 }}>
                <TextField
                  fullWidth
                  placeholder="Rechercher un contact..."
                  value={searchTerm}
                  onChange={(e) => setSearchTerm(e.target.value)}
                  InputProps={{
                    startAdornment: (
                      <InputAdornment position="start">
                        <SearchIcon />
                      </InputAdornment>
                    )
                  }}
                  size="small"
                />
              </Box>

              {/* Tabs */}
              <Tabs
                value={activeTab}
                onChange={(e, newValue) => setActiveTab(newValue)}
                sx={{ mb: 2 }}
              >
                <Tab label="Enseignants" />
                <Tab label="Étudiants" />
                <Tab label="Groupes" />
              </Tabs>

              {/* Liste des contacts */}
              <List sx={{ overflowY: 'auto', flex: 1 }}>
                {renderContacts()}
              </List>

              {/* Quick Actions */}
              <Box sx={{ mt: 2, pt: 2, borderTop: 1, borderColor: 'divider' }}>
                <Button
                  fullWidth
                  variant="outlined"
                  startIcon={<VideoCallIcon />}
                  onClick={() => navigate('/student/live-sessions')}
                >
                  Sessions Live
                </Button>
              </Box>
            </CardContent>
          </Card>
        </Grid>

        {/* Zone de chat */}
        <Grid item xs={12} md={8}>
          <Card sx={{ height: '80vh', display: 'flex', flexDirection: 'column' }}>
            {selectedChat ? (
              <>
                {/* Header du chat */}
                <Box sx={{ p: 2, borderBottom: 1, borderColor: 'divider' }}>
                  <Box display="flex" alignItems="center" justifyContent="space-between">
                    <Box display="flex" alignItems="center" gap={2}>
                      <Badge
                        color="success"
                        variant="dot"
                        invisible={!selectedChat.isOnline && selectedChat.role !== 'group'}
                      >
                        <Avatar sx={{ 
                          bgcolor: selectedChat.role === 'teacher' ? '#1976d2' : 
                                   selectedChat.role === 'group' ? '#9c27b0' : '#4caf50'
                        }}>
                          {selectedChat.role === 'group' ? 
                            <GroupIcon /> : selectedChat.name?.charAt(0) || 'U'}
                        </Avatar>
                      </Badge>
                      <Box>
                        <Typography variant="h6" fontWeight="600">
                          {selectedChat.name}
                        </Typography>
                        <Typography variant="body2" color="textSecondary">
                          {selectedChat.info}
                          {selectedChat.isOnline && selectedChat.role !== 'group' && ' • En ligne'}
                        </Typography>
                      </Box>
                    </Box>
                    <Box>
                      {selectedChat.role !== 'group' && (
                        <IconButton 
                          onClick={() => startVideoCall(selectedChat)}
                          sx={{ mr: 1 }}
                        >
                          <VideoCallIcon />
                        </IconButton>
                      )}
                      <IconButton>
                        <MoreVertIcon />
                      </IconButton>
                    </Box>
                  </Box>
                </Box>

                {/* Messages */}
                <Box sx={{ 
                  flex: 1, 
                  overflowY: 'auto', 
                  p: 2,
                  display: 'flex',
                  flexDirection: 'column',
                  gap: 1
                }}>
                  {filteredMessages.map(msg => (
                    <MessageBubble
                      key={msg.id}
                      isMe={msg.sender === 'Moi'}
                      isTeacher={msg.isTeacher && msg.sender !== 'Moi'}
                    >
                      <Typography variant="caption" display="block" mb={0.5}>
                        <strong>{msg.sender}</strong> • {msg.time}
                        {msg.unread && <Chip label="Nouveau" size="small" sx={{ ml: 1 }} />}
                      </Typography>
                      <Typography variant="body1">
                        {msg.message}
                      </Typography>
                    </MessageBubble>
                  ))}
                  <div ref={messagesEndRef} />
                </Box>

                {/* Input */}
                <Box sx={{ p: 2, borderTop: 1, borderColor: 'divider' }}>
                  <Box display="flex" gap={1} alignItems="center">
                    <IconButton onClick={() => fileInputRef.current.click()}>
                      <AttachFileIcon />
                    </IconButton>
                    <IconButton>
                      <EmojiIcon />
                    </IconButton>
                    <input
                      type="file"
                      ref={fileInputRef}
                      style={{ display: 'none' }}
                      onChange={(e) => toast.info(`Fichier "${e.target.files[0]?.name}" sélectionné`)}
                    />
                    
                    <TextField
                      fullWidth
                      placeholder="Écrivez votre message..."
                      value={newMessage}
                      onChange={(e) => setNewMessage(e.target.value)}
                      onKeyPress={(e) => e.key === 'Enter' && sendMessage()}
                      size="small"
                      variant="outlined"
                    />
                    
                    <Button
                      variant="contained"
                      onClick={sendMessage}
                      startIcon={<SendIcon />}
                      sx={{ 
                        minWidth: 'auto',
                        bgcolor: '#e53935',
                        '&:hover': { bgcolor: '#c62828' }
                      }}
                    >
                      Envoyer
                    </Button>
                  </Box>
                </Box>
              </>
            ) : (
              <Box sx={{ 
                flex: 1, 
                display: 'flex', 
                flexDirection: 'column', 
                alignItems: 'center', 
                justifyContent: 'center',
                p: 3 
              }}>
                <Avatar sx={{ width: 80, height: 80, mb: 2, bgcolor: '#e53935' }}>
                  <ChatIcon sx={{ fontSize: 40 }} />
                </Avatar>
                <Typography variant="h5" gutterBottom align="center">
                  ?? Bienvenue sur la messagerie
                </Typography>
                <Typography variant="body1" color="textSecondary" align="center" sx={{ mb: 3 }}>
                  Sélectionnez un contact pour commencer à discuter
                </Typography>
                
                <Grid container spacing={2} sx={{ maxWidth: 500 }}>
                  <Grid item xs={6}>
                    <Button
                      fullWidth
                      variant="outlined"
                      startIcon={<PersonIcon />}
                      onClick={() => setSelectedChat(teachers[0] || {})}
                    >
                      Contacter un enseignant
                    </Button>
                  </Grid>
                  <Grid item xs={6}>
                    <Button
                      fullWidth
                      variant="outlined"
                      startIcon={<SchoolIcon />}
                      onClick={() => setSelectedChat(students[0] || {})}
                    >
                      Discuter avec un étudiant
                    </Button>
                  </Grid>
                </Grid>
              </Box>
            )}
          </Card>
        </Grid>
      </Grid>
    </Container>
  );
}// src/pages/student/StudentClassDetails.jsx
import React, { useState, useEffect } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import { toast } from 'react-toastify';
import api from '../../services/api';
import {
  Container,
  Grid,
  Card,
  CardContent,
  Typography,
  Button,
  Chip,
  Box,
  LinearProgress,
  Tabs,
  Tab,
  Avatar,
  IconButton,
  Paper,
  List,
  ListItem,
  ListItemAvatar,
  ListItemText,
  Divider,
  Badge,
  Fab,
  Dialog,
  DialogTitle,
  DialogContent,
  DialogActions,
  TextField,
  MenuItem,
  InputAdornment,
  alpha,
  styled
} from '@mui/material';
import {
  ArrowBack as ArrowBackIcon,
  People as PeopleIcon,
  Book as BookIcon,
  VideoCall as VideoCallIcon,
  Assignment as AssignmentIcon,
  Chat as ChatIcon,
  Schedule as ScheduleIcon,
  Folder as FolderIcon,
  MoreVert as MoreVertIcon,
  Search as SearchIcon,
  FilterList as FilterIcon,
  Add as AddIcon,
  Download as DownloadIcon,
  Visibility as ViewIcon,
  PlayCircle as PlayIcon,
  AccessTime as TimeIcon,
  Person as PersonIcon,
  School as SchoolIcon
} from '@mui/icons-material';

const SubjectCard = styled(Paper)(({ theme }) => ({
  padding: theme.spacing(3),
  borderRadius: '12px',
  height: '100%',
  cursor: 'pointer',
  transition: 'all 0.2s',
  border: '1px solid transparent',
  '&:hover': {
    transform: 'translateY(-4px)',
    boxShadow: theme.shadows[8],
    borderColor: theme.palette.primary.main,
    backgroundColor: alpha(theme.palette.primary.main, 0.02)
  }
}));

const LiveSessionCard = styled(Paper)(({ theme }) => ({
  padding: theme.spacing(2),
  borderRadius: '12px',
  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
  color: 'white',
  position: 'relative',
  overflow: 'hidden',
  '&::before': {
    content: '""',
    position: 'absolute',
    top: 0,
    left: 0,
    right: 0,
    bottom: 0,
    background: 'rgba(0,0,0,0.1)'
  }
}));

export default function StudentClassDetails() {
  const { id } = useParams();
  const navigate = useNavigate();
  const [classData, setClassData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [tabValue, setTabValue] = useState(0);
  const [openChat, setOpenChat] = useState(false);
  const [message, setMessage] = useState('');
  const [chatMessages, setChatMessages] = useState([]);
  const [liveSessions, setLiveSessions] = useState([]);
  const [activeLiveSession, setActiveLiveSession] = useState(null);

  useEffect(() => {
    loadClassData();
    loadLiveSessions();
    loadChatMessages();
  }, [id]);

  const loadClassData = async () => {
    try {
      setLoading(true);
      const res = await api.get(`/classes/classes/${id}/`);
      setClassData(res.data);
    } catch (err) {
      console.error('Erreur:', err);
      toast.error('Erreur de chargement de la classe');
      navigate('/student/dashboard');
    } finally {
      setLoading(false);
    }
  };

  const loadLiveSessions = async () => {
    try {
      const res = await api.get('/live/sessions/active/');
      const filtered = res.data.filter(session => 
        session.subject?.class_assigned?.toString() === id
      );
      setLiveSessions(filtered);
      
      // Simuler une session active
      if (filtered.length === 0) {
        setLiveSessions([
          {
            id: 1,
            title: 'Algorithmique - Séance Live',
            teacher: 'Dr. Smith',
            start_time: new Date().toISOString(),
            participants_count: 12,
            is_active: true,
            subject: { name: 'Algorithmique' }
          }
        ]);
      }
    } catch (err) {
      console.error('Erreur sessions:', err);
    }
  };

  const loadChatMessages = () => {
    // Simuler des messages de chat
    const mockMessages = [
      { id: 1, user: 'Dr. Smith', message: 'Bonjour à tous ! La session commence maintenant.', time: '10:00', isTeacher: true },
      { id: 2, user: 'Ahmed', message: 'Bonjour professeur !', time: '10:01', isTeacher: false },
      { id: 3, user: 'Fatima', message: 'J\'ai une question sur l\'exercice 3', time: '10:02', isTeacher: false },
      { id: 4, user: 'Dr. Smith', message: 'Je vais expliquer maintenant.', time: '10:03', isTeacher: true }
    ];
    setChatMessages(mockMessages);
  };

  const joinLiveSession = (sessionId) => {
    navigate(`/live-session/${sessionId}`);
  };

  const sendMessage = () => {
    if (!message.trim()) return;
    
    const newMessage = {
      id: chatMessages.length + 1,
      user: 'Moi',
      message: message,
      time: new Date().toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' }),
      isTeacher: false
    };
    
    setChatMessages([...chatMessages, newMessage]);
    setMessage('');
  };

  const downloadResource = (resource) => {
    toast.info(`Téléchargement de ${resource.name}...`);
    // Implémentation du téléchargement réel
  };

  if (loading) {
    return (
      <Container maxWidth="xl" sx={{ py: 4 }}>
        <LinearProgress />
      </Container>
    );
  }

  if (!classData) {
    return (
      <Container maxWidth="xl" sx={{ py: 4, textAlign: 'center' }}>
        <Typography variant="h5" color="textSecondary">
          Classe introuvable
        </Typography>
        <Button
          startIcon={<ArrowBackIcon />}
          onClick={() => navigate('/student/dashboard')}
          sx={{ mt: 2 }}
        >
          Retour au tableau de bord
        </Button>
      </Container>
    );
  }

  const tabs = [
    { label: 'Matières', icon: <BookIcon />, count: classData.subjects?.length || 0 },
    { label: 'Cours', icon: <FolderIcon />, count: 8 },
    { label: 'Live', icon: <VideoCallIcon />, count: liveSessions.length },
    { label: 'Chat', icon: <ChatIcon />, count: chatMessages.length },
    { label: 'Emploi du temps', icon: <ScheduleIcon /> },
    { label: 'Membres', icon: <PeopleIcon />, count: classData.students?.length || 0 }
  ];

  return (
    <Container maxWidth="xl" sx={{ py: 4 }}>
      {/* Header */}
      <Box sx={{ mb: 4 }}>
        <Button
          startIcon={<ArrowBackIcon />}
          onClick={() => navigate('/student/dashboard')}
          sx={{ mb: 2 }}
        >
          Retour
        </Button>
        
        <Grid container alignItems="center" justifyContent="space-between" spacing={2}>
          <Grid item>
            <Typography variant="h4" component="h1" fontWeight="600">
              {classData.name}
            </Typography>
            <Box display="flex" alignItems="center" gap={2} mt={1}>
              <Chip
                icon={<PeopleIcon />}
                label={`${classData.students?.length || 0} étudiants`}
                size="small"
                color="primary"
                variant="outlined"
              />
              <Chip
                icon={<BookIcon />}
                label={`${classData.subjects?.length || 0} matières`}
                size="small"
                color="secondary"
                variant="outlined"
              />
              <Chip
                icon={<SchoolIcon />}
                label="ING1 Informatique"
                size="small"
                variant="outlined"
              />
            </Box>
          </Grid>
          <Grid item>
            <Box display="flex" gap={1}>
              <Button
                variant="outlined"
                startIcon={<ScheduleIcon />}
                onClick={() => navigate(`/student/schedule/${id}`)}
              >
                Emploi du temps
              </Button>
              <Button
                variant="contained"
                startIcon={<ChatIcon />}
                onClick={() => setOpenChat(true)}
              >
                Ouvrir le chat
              </Button>
            </Box>
          </Grid>
        </Grid>
      </Box>

      {/* Live Sessions Banner */}
      {liveSessions.filter(s => s.is_active).length > 0 && (
        <LiveSessionCard sx={{ mb: 4 }}>
          <Grid container alignItems="center" spacing={2}>
            <Grid item xs={12} md={8}>
              <Box position="relative" zIndex={1}>
                <Typography variant="h6" fontWeight="600" gutterBottom>
                  ?? Session en cours
                </Typography>
                <Typography variant="body1">
                  {liveSessions[0].title} avec {liveSessions[0].teacher}
                </Typography>
                <Box display="flex" alignItems="center" gap={2} mt={1}>
                  <Chip
                    label="EN DIRECT"
                    size="small"
                    sx={{ background: 'rgba(255,255,255,0.2)', color: 'white' }}
                  />
                  <Typography variant="body2">
                    ?? {liveSessions[0].participants_count} participants
                  </Typography>
                </Box>
              </Box>
            </Grid>
            <Grid item xs={12} md={4} textAlign="right">
              <Button
                variant="contained"
                startIcon={<PlayIcon />}
                sx={{
                  background: 'white',
                  color: '#764ba2',
                  '&:hover': { background: 'rgba(255,255,255,0.9)' }
                }}
                onClick={() => joinLiveSession(liveSessions[0].id)}
              >
                Rejoindre
              </Button>
            </Grid>
          </Grid>
        </LiveSessionCard>
      )}

      {/* Tabs */}
      <Box sx={{ borderBottom: 1, borderColor: 'divider', mb: 4 }}>
        <Tabs
          value={tabValue}
          onChange={(e, v) => setTabValue(v)}
          variant="scrollable"
          scrollButtons="auto"
        >
          {tabs.map((tab, index) => (
            <Tab
              key={index}
              icon={tab.icon}
              iconPosition="start"
              label={
                <Box display="flex" alignItems="center" gap={1}>
                  {tab.label}
                  {tab.count !== undefined && (
                    <Badge
                      badgeContent={tab.count}
                      color="primary"
                      sx={{ '& .MuiBadge-badge': { fontSize: '0.7rem' } }}
                    />
                  )}
                </Box>
              }
            />
          ))}
        </Tabs>
      </Box>

      {/* Subjects Tab */}
      {tabValue === 0 && (
        <Grid container spacing={3}>
          {classData.subjects?.map(subject => (
            <Grid item xs={12} sm={6} md={4} key={subject.id}>
              <SubjectCard onClick={() => navigate(`/student/subject/${subject.id}`)}>
                <Box display="flex" alignItems="flex-start" justifyContent="space-between" mb={2}>
                  <Avatar sx={{ bgcolor: 'primary.main', mb: 1 }}>
                    <BookIcon />
                  </Avatar>
                  <IconButton size="small">
                    <MoreVertIcon />
                  </IconButton>
                </Box>
                
                <Typography variant="h6" fontWeight="600" gutterBottom>
                  {subject.name}
                </Typography>
                
                {subject.teacher_name && (
                  <Box display="flex" alignItems="center" gap={1} mb={2}>
                    <PersonIcon fontSize="small" color="action" />
                    <Typography variant="body2" color="textSecondary">
                      {subject.teacher_name}
                    </Typography>
                  </Box>
                )}
                
                <Box display="flex" justifyContent="space-between" alignItems="center" mt={3}>
                  <Button
                    size="small"
                    startIcon={<FolderIcon />}
                    onClick={(e) => {
                      e.stopPropagation();
                      navigate(`/student/subject/${subject.id}?tab=courses`);
                    }}
                  >
                    Cours
                  </Button>
                  <Button
                    size="small"
                    startIcon={<AssignmentIcon />}
                    onClick={(e) => {
                      e.stopPropagation();
                      navigate(`/student/subject/${subject.id}?tab=tests`);
                    }}
                  >
                    Tests
                  </Button>
                </Box>
              </SubjectCard>
            </Grid>
          ))}
        </Grid>
      )}

      {/* Courses Tab */}
      {tabValue === 1 && (
        <Card>
          <CardContent>
            <Box display="flex" justifyContent="space-between" alignItems="center" mb={3}>
              <Typography variant="h6" fontWeight="600">
                ?? Cours disponibles
              </Typography>
              <Box display="flex" gap={1}>
                <TextField
                  size="small"
                  placeholder="Rechercher un cours..."
                  InputProps={{
                    startAdornment: (
                      <InputAdornment position="start">
                        <SearchIcon />
                      </InputAdornment>
                    )
                  }}
                />
                <Button startIcon={<FilterIcon />} size="small">
                  Filtrer
                </Button>
              </Box>
            </Box>

            <List disablePadding>
              {[
                { id: 1, title: 'Introduction à l\'Algorithmique', teacher: 'Dr. Smith', date: '2024-01-15', files: 3 },
                { id: 2, title: 'Structures de données', teacher: 'Dr. Smith', date: '2024-01-18', files: 5 },
                { id: 3, title: 'Algorithmes de tri', teacher: 'Dr. Smith', date: '2024-01-22', files: 2 },
                { id: 4, title: 'Complexité algorithmique', teacher: 'Dr. Smith', date: '2024-01-25', files: 4 }
              ].map((course, index) => (
                <React.Fragment key={course.id}>
                  <ListItem
                    alignItems="flex-start"
                    sx={{
                      '&:hover': { backgroundColor: 'action.hover' },
                      borderRadius: 1,
                      mb: 1
                    }}
                    secondaryAction={
                      <Box display="flex" gap={1}>
                        <IconButton size="small" onClick={() => downloadResource(course)}>
                          <DownloadIcon />
                        </IconButton>
                        <IconButton size="small" onClick={() => toast.info('Vue détaillée')}>
                          <ViewIcon />
                        </IconButton>
                      </Box>
                    }
                  >
                    <ListItemAvatar>
                      <Avatar sx={{ bgcolor: 'primary.main' }}>
                        <FolderIcon />
                      </Avatar>
                    </ListItemAvatar>
                    <ListItemText
                      primary={
                        <Typography variant="subtitle1" fontWeight="600">
                          {course.title}
                        </Typography>
                      }
                      secondary={
                        <>
                          <Typography variant="body2" color="textSecondary">
                            ????? {course.teacher} • ?? {new Date(course.date).toLocaleDateString('fr-FR')}
                          </Typography>
                          <Chip
                            label={`${course.files} fichiers`}
                            size="small"
                            variant="outlined"
                            sx={{ mt: 1 }}
                          />
                        </>
                      }
                    />
                  </ListItem>
                  {index < 3 && <Divider />}
                </React.Fragment>
              ))}
            </List>
          </CardContent>
        </Card>
      )}

      {/* Live Sessions Tab */}
      {tabValue === 2 && (
        <Grid container spacing={3}>
          {liveSessions.map(session => (
            <Grid item xs={12} md={6} key={session.id}>
              <Card>
                <CardContent>
                  <Box display="flex" justifyContent="space-between" alignItems="flex-start" mb={2}>
                    <Box>
                      <Typography variant="h6" fontWeight="600" gutterBottom>
                        {session.title}
                      </Typography>
                      <Typography variant="body2" color="textSecondary">
                        ?? {session.subject?.name} • ????? {session.teacher}
                      </Typography>
                    </Box>
                    <Chip
                      label={session.is_active ? 'EN DIRECT' : 'TERMINÉE'}
                      color={session.is_active ? 'error' : 'default'}
                      size="small"
                    />
                  </Box>
                  
                  <Box display="flex" alignItems="center" justifyContent="space-between" mt={3}>
                    <Box display="flex" alignItems="center" gap={2}>
                      <Box display="flex" alignItems="center" gap={0.5}>
                        <PeopleIcon fontSize="small" />
                        <Typography variant="body2">
                          {session.participants_count || 0} participants
                        </Typography>
                      </Box>
                      <Box display="flex" alignItems="center" gap={0.5}>
                        <TimeIcon fontSize="small" />
                        <Typography variant="body2">
                          {new Date(session.start_time).toLocaleTimeString('fr-FR', { 
                            hour: '2-digit', 
                            minute: '2-digit' 
                          })}
                        </Typography>
                      </Box>
                    </Box>
                    <Button
                      variant={session.is_active ? 'contained' : 'outlined'}
                      startIcon={session.is_active ? <PlayIcon /> : <ViewIcon />}
                      onClick={() => session.is_active ? joinLiveSession(session.id) : toast.info('Voir l\'enregistrement')}
                    >
                      {session.is_active ? 'Rejoindre' : 'Voir'}
                    </Button>
                  </Box>
                </CardContent>
              </Card>
            </Grid>
          ))}
        </Grid>
      )}

      {/* Chat Dialog */}
      <Dialog
        open={openChat}
        onClose={() => setOpenChat(false)}
        maxWidth="sm"
        fullWidth
        PaperProps={{ sx: { height: '80vh' } }}
      >
        <DialogTitle sx={{ borderBottom: 1, borderColor: 'divider' }}>
          <Box display="flex" alignItems="center" gap={1}>
            <ChatIcon />
            Chat de la classe - {classData.name}
          </Box>
        </DialogTitle>
        <DialogContent sx={{ p: 0, display: 'flex', flexDirection: 'column' }}>
          {/* Messages */}
          <Box flex={1} p={2} sx={{ overflowY: 'auto' }}>
            {chatMessages.map(msg => (
              <Box
                key={msg.id}
                sx={{
                  mb: 2,
                  display: 'flex',
                  flexDirection: msg.isTeacher ? 'row' : 'row-reverse'
                }}
              >
                <Paper
                  sx={{
                    p: 2,
                    maxWidth: '70%',
                    bgcolor: msg.isTeacher ? 'primary.main' : 'grey.100',
                    color: msg.isTeacher ? 'white' : 'text.primary',
                    borderRadius: 2,
                    borderTopLeftRadius: msg.isTeacher ? 2 : 12,
                    borderTopRightRadius: msg.isTeacher ? 12 : 2
                  }}
                >
                  <Typography variant="caption" display="block" mb={0.5}>
                    <strong>{msg.user}</strong> • {msg.time}
                  </Typography>
                  <Typography variant="body2">
                    {msg.message}
                  </Typography>
                </Paper>
              </Box>
            ))}
          </Box>

          {/* Input */}
          <Box p={2} sx={{ borderTop: 1, borderColor: 'divider' }}>
            <TextField
              fullWidth
              placeholder="Écrivez votre message..."
              value={message}
              onChange={(e) => setMessage(e.target.value)}
              onKeyPress={(e) => e.key === 'Enter' && sendMessage()}
              InputProps={{
                endAdornment: (
                  <InputAdornment position="end">
                    <IconButton onClick={sendMessage} color="primary">
                      <SendIcon />
                    </IconButton>
                  </InputAdornment>
                )
              }}
            />
          </Box>
        </DialogContent>
        <DialogActions sx={{ p: 2, borderTop: 1, borderColor: 'divider' }}>
          <Button onClick={() => setOpenChat(false)}>Fermer</Button>
        </DialogActions>
      </Dialog>

      {/* Floating Action Button for Quick Actions */}
      <Fab
        color="primary"
        sx={{ position: 'fixed', bottom: 24, right: 24 }}
        onClick={() => toast.info('Menu rapide')}
      >
        <AddIcon />
      </Fab>
    </Container>
  );
}// src/pages/student/StudentClasses.jsx
import React, { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { toast } from 'react-toastify';
import api from '../../services/api';
import {
  Container, Grid, Card, CardContent, Typography, Button,
  Chip, Box, LinearProgress, Avatar, Paper, Stack,
  List, ListItem, ListItemAvatar, ListItemText, Divider,
  alpha, styled
} from '@mui/material';
import {
  ArrowBack as ArrowBackIcon,
  People as PeopleIcon,
  Book as BookIcon,
  School as SchoolIcon,
  AccessTime as TimeIcon,
  Person as PersonIcon,
  CalendarToday as CalendarIcon,
  Chat as ChatIcon,
  VideoCall as VideoCallIcon
} from '@mui/icons-material';

const ClassCard = styled(Paper)(({ theme }) => ({
  padding: theme.spacing(3),
  borderRadius: '16px',
  cursor: 'pointer',
  transition: 'all 0.3s',
  border: '2px solid transparent',
  '&:hover': {
    transform: 'translateY(-8px)',
    boxShadow: theme.shadows[8],
    borderColor: '#e53935',
    backgroundColor: alpha('#e53935', 0.02)
  }
}));

export default function StudentClasses() {
  const navigate = useNavigate();
  const [loading, setLoading] = useState(true);
  const [classes, setClasses] = useState([]);
  const [subjects, setSubjects] = useState([]);

  useEffect(() => {
    loadClasses();
  }, []);

  const loadClasses = async () => {
    try {
      setLoading(true);
      
      // Charger les classes de l'étudiant
      const userRes = await api.get('/accounts/me/');
      const userData = userRes.data.user;
      
      const classesRes = await api.get('/classes/classes/');
      const studentClasses = classesRes.data.filter(cls => 
        cls.students?.some(s => s.id === userData.id)
      );
      
      setClasses(studentClasses);
      
      // Extraire toutes les matières
      const allSubjects = [];
      studentClasses.forEach(cls => {
        if (cls.subjects) {
          allSubjects.push(...cls.subjects);
        }
      });
      setSubjects(allSubjects);

    } catch (error) {
      console.error('Erreur chargement classes:', error);
      // Données simulées
      setClasses([
        {
          id: 1,
          name: 'ING1 Informatique',
          max_students: 30,
          students_count: 25,
          subjects: [
            { id: 1, name: 'Algorithmique', teacher_name: 'Dr. Smith' },
            { id: 2, name: 'Base de Données', teacher_name: 'Prof. Johnson' },
            { id: 3, name: 'Programmation Web', teacher_name: 'Dr. Williams' },
          ]
        }
      ]);
      setSubjects([
        { id: 1, name: 'Algorithmique', teacher_name: 'Dr. Smith', class_name: 'ING1 Info' },
        { id: 2, name: 'Base de Données', teacher_name: 'Prof. Johnson', class_name: 'ING1 Info' },
      ]);
    } finally {
      setLoading(false);
    }
  };

  const viewClassDetails = (classId) => {
    navigate(`/student/class/${classId}`);
  };

  const viewSubjectDetails = (subjectId) => {
    navigate(`/student/subject/${subjectId}`);
  };

  const joinClassChat = (classId) => {
    toast.info(`Ouverture du chat de la classe`);
    // Naviguer vers le chat de la classe
  };

  if (loading) {
    return (
      <Container maxWidth="xl" sx={{ py: 4 }}>
        <LinearProgress />
      </Container>
    );
  }

  return (
    <Container maxWidth="xl" sx={{ py: 4 }}>
      {/* Header */}
      <Box sx={{ mb: 4 }}>
        <Button
          startIcon={<ArrowBackIcon />}
          onClick={() => navigate('/student/dashboard')}
          sx={{ mb: 2 }}
        >
          Retour
        </Button>
        
        <Typography variant="h4" fontWeight="600" gutterBottom>
          ?? Mes Classes
        </Typography>
        <Typography variant="body1" color="textSecondary">
          Gérez vos classes et matières
        </Typography>
      </Box>

      {/* Stats */}
      <Grid container spacing={3} sx={{ mb: 4 }}>
        <Grid item xs={12} sm={6} md={3}>
          <Card sx={{ textAlign: 'center', p: 2 }}>
            <Typography variant="h3" color="#e53935" fontWeight="700">
              {classes.length}
            </Typography>
            <Typography variant="body2" color="text.secondary">
              Classes
            </Typography>
          </Card>
        </Grid>
        <Grid item xs={12} sm={6} md={3}>
          <Card sx={{ textAlign: 'center', p: 2 }}>
            <Typography variant="h3" color="#1976d2" fontWeight="700">
              {subjects.length}
            </Typography>
            <Typography variant="body2" color="text.secondary">
              Matières
            </Typography>
          </Card>
        </Grid>
        <Grid item xs={12} sm={6} md={3}>
          <Card sx={{ textAlign: 'center', p: 2 }}>
            <Typography variant="h3" color="#2e7d32" fontWeight="700">
              25
            </Typography>
            <Typography variant="body2" color="text.secondary">
              Camarades
            </Typography>
          </Card>
        </Grid>
        <Grid item xs={12} sm={6} md={3}>
          <Card sx={{ textAlign: 'center', p: 2 }}>
            <Typography variant="h3" color="#ed6c02" fontWeight="700">
              92%
            </Typography>
            <Typography variant="body2" color="text.secondary">
              Présence
            </Typography>
          </Card>
        </Grid>
      </Grid>

      {/* Mes Classes */}
      <Typography variant="h5" fontWeight="600" gutterBottom sx={{ mb: 3 }}>
        Mes Classes ({classes.length})
      </Typography>
      
      {classes.length > 0 ? (
        <Grid container spacing={3} sx={{ mb: 6 }}>
          {classes.map(cls => (
            <Grid item xs={12} md={6} key={cls.id}>
              <ClassCard onClick={() => viewClassDetails(cls.id)}>
                <Box display="flex" alignItems="center" gap={2} mb={3}>
                  <Avatar sx={{ bgcolor: '#e53935', width: 60, height: 60 }}>
                    <SchoolIcon fontSize="large" />
                  </Avatar>
                  <Box flex={1}>
                    <Typography variant="h5" fontWeight="700">
                      {cls.name}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      {cls.students_count || 0} étudiants • Max: {cls.max_students}
                    </Typography>
                  </Box>
                </Box>
                
                <Box mb={3}>
                  <Typography variant="subtitle2" fontWeight="600" gutterBottom>
                    Matières ({cls.subjects?.length || 0})
                  </Typography>
                  <Box display="flex" flexWrap="wrap" gap={1}>
                    {cls.subjects?.slice(0, 3).map(subject => (
                      <Chip
                        key={subject.id}
                        label={subject.name}
                        size="small"
                        variant="outlined"
                        onClick={(e) => {
                          e.stopPropagation();
                          viewSubjectDetails(subject.id);
                        }}
                      />
                    ))}
                    {cls.subjects?.length > 3 && (
                      <Chip
                        label={`+${cls.subjects.length - 3} autres`}
                        size="small"
                        variant="outlined"
                      />
                    )}
                  </Box>
                </Box>
                
                <Box display="flex" gap={1}>
                  <Button
                    variant="outlined"
                    size="small"
                    startIcon={<ChatIcon />}
                    onClick={(e) => {
                      e.stopPropagation();
                      joinClassChat(cls.id);
                    }}
                  >
                    Chat
                  </Button>
                  <Button
                    variant="contained"
                    size="small"
                    startIcon={<BookIcon />}
                    onClick={(e) => {
                      e.stopPropagation();
                      viewClassDetails(cls.id);
                    }}
                    sx={{ bgcolor: '#e53935' }}
                  >
                    Voir détails
                  </Button>
                </Box>
              </ClassCard>
            </Grid>
          ))}
        </Grid>
      ) : (
        <Paper sx={{ p: 6, textAlign: 'center', mb: 6 }}>
          <SchoolIcon sx={{ fontSize: 60, color: 'text.secondary', mb: 2 }} />
          <Typography variant="h6" color="text.secondary" gutterBottom>
            Vous n'êtes pas encore assigné à une classe
          </Typography>
          <Typography variant="body2" color="text.secondary" sx={{ mb: 3 }}>
            Contactez votre administrateur pour être affecté à une classe
          </Typography>
          <Button
            variant="outlined"
            onClick={() => toast.info('Demande envoyée à l\'administrateur')}
          >
            Demander une affectation
          </Button>
        </Paper>
      )}

      {/* Toutes les matières */}
      <Typography variant="h5" fontWeight="600" gutterBottom sx={{ mb: 3 }}>
        Toutes mes matières ({subjects.length})
      </Typography>
      
      {subjects.length > 0 ? (
        <Grid container spacing={2}>
          {subjects.map(subject => (
            <Grid item xs={12} md={6} lg={4} key={subject.id}>
              <Card>
                <CardContent>
                  <Box display="flex" alignItems="center" gap={2} mb={2}>
                    <Avatar sx={{ bgcolor: '#1976d2' }}>
                      <BookIcon />
                    </Avatar>
                    <Box flex={1}>
                      <Typography variant="h6" fontWeight="600">
                        {subject.name}
                      </Typography>
                      <Typography variant="body2" color="text.secondary">
                        {subject.teacher_name || 'Enseignant'}
                      </Typography>
                    </Box>
                  </Box>
                  
                  <Box mb={2}>
                    <Chip
                      label={subject.class_name || 'Classe'}
                      size="small"
                      variant="outlined"
                      sx={{ mb: 1 }}
                    />
                  </Box>
                  
                  <Box display="flex" justifyContent="space-between" alignItems="center">
                    <Button
                      size="small"
                      onClick={() => viewSubjectDetails(subject.id)}
                    >
                      Accéder
                    </Button>
                    <Button
                      size="small"
                      startIcon={<ChatIcon />}
                      onClick={() => navigate(`/student/subject-chat/${subject.id}`)}
                    >
                      Chat
                    </Button>
                  </Box>
                </CardContent>
              </Card>
            </Grid>
          ))}
        </Grid>
      ) : (
        <Paper sx={{ p: 6, textAlign: 'center' }}>
          <BookIcon sx={{ fontSize: 60, color: 'text.secondary', mb: 2 }} />
          <Typography variant="h6" color="text.secondary" gutterBottom>
            Aucune matière disponible
          </Typography>
        </Paper>
      )}
    </Container>
  );
}  // src/pages/student/StudentCourses.jsx
import React, { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { toast } from 'react-toastify';
import api from '../../services/api';

export default function StudentCourses() {
  const navigate = useNavigate();
  const [courses, setCourses] = useState([]);
  const [filteredCourses, setFilteredCourses] = useState([]);
  const [subjects, setSubjects] = useState([]);
  const [selectedSubject, setSelectedSubject] = useState('all');
  const [searchTerm, setSearchTerm] = useState('');
  const [loading, setLoading] = useState(true);
  const [stats, setStats] = useState({
    total: 0,
    subjects: 0,
    teachers: 0,
    lastUpdated: null
  });

  useEffect(() => {
    loadData();
  }, []);

  useEffect(() => {
    filterCourses();
  }, [selectedSubject, searchTerm, courses]);

  const loadData = async () => {
    try {
      // Récupérer les cours accessibles à l'étudiant
      const user = JSON.parse(localStorage.getItem('user') || '{}');
      const userClasses = user.enrolled_classes || [];
      
      let allCourses = [];
      let allSubjects = new Set();
      let allTeachers = new Set();

      // Récupérer les matières des classes de l'étudiant
      for (const classId of userClasses) {
        try {
          const subjectsRes = await api.get(`/classes/classes/${classId}/`);
          const classSubjects = subjectsRes.data?.subjects || [];
          
          // Récupérer les cours pour chaque matière
          for (const subject of classSubjects) {
            allSubjects.add(subject.name);
            
            const coursesRes = await api.get('/courses/courses/', {
              params: { subject: subject.id }
            });
            
            const subjectCourses = coursesRes.data || [];
            subjectCourses.forEach(course => {
              allTeachers.add(course.teacher_name);
              allCourses.push({
                ...course,
                subject_name: subject.name,
                class_name: subjectsRes.data.name
              });
            });
          }
        } catch (err) {
          console.error(`Erreur chargement classe ${classId}:`, err);
        }
      }

      setCourses(allCourses);
      setSubjects(Array.from(allSubjects));
      setStats({
        total: allCourses.length,
        subjects: allSubjects.size,
        teachers: allTeachers.size,
        lastUpdated: new Date()
      });

    } catch (err) {
      console.error('Erreur chargement cours:', err);
      toast.error('Erreur lors du chargement des cours');
    } finally {
      setLoading(false);
    }
  };

  const filterCourses = () => {
    let filtered = [...courses];

    // Filtrer par matière
    if (selectedSubject !== 'all') {
      filtered = filtered.filter(course => course.subject_name === selectedSubject);
    }

    // Filtrer par recherche
    if (searchTerm) {
      const term = searchTerm.toLowerCase();
      filtered = filtered.filter(course =>
        course.title.toLowerCase().includes(term) ||
        course.description.toLowerCase().includes(term) ||
        course.teacher_name?.toLowerCase().includes(term)
      );
    }

    setFilteredCourses(filtered);
  };

  const downloadFile = async (fileUrl, fileName) => {
    try {
      // Pour les démos, on simule juste le téléchargement
      const link = document.createElement('a');
      link.href = fileUrl;
      link.download = fileName;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      
      toast.success('Téléchargement démarré');
    } catch (err) {
      toast.error('Erreur lors du téléchargement');
    }
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <p>Chargement de vos cours...</p>
      </div>
    );
  }

  return (
    <div className="student-courses-container">
      {/* En-tête */}
      <div className="courses-header">
        <div className="header-left">
          <button onClick={() => navigate('/student/dashboard')} className="back-btn">
            ? Retour
          </button>
          <h1>?? Mes Cours</h1>
          <p>Accédez à toutes vos ressources pédagogiques</p>
        </div>
        
        <div className="header-stats">
          <div className="stat-badge">
            <span className="stat-value">{stats.total}</span>
            <span className="stat-label">Cours</span>
          </div>
          <div className="stat-badge">
            <span className="stat-value">{stats.subjects}</span>
            <span className="stat-label">Matières</span>
          </div>
          <div className="stat-badge">
            <span className="stat-value">{stats.teachers}</span>
            <span className="stat-label">Enseignants</span>
          </div>
        </div>
      </div>

      {/* Filtres et recherche */}
      <div className="courses-controls">
        <div className="search-box">
          <input
            type="text"
            placeholder="?? Rechercher un cours, un enseignant..."
            value={searchTerm}
            onChange={(e) => setSearchTerm(e.target.value)}
          />
        </div>
        
        <div className="filter-controls">
          <select
            value={selectedSubject}
            onChange={(e) => setSelectedSubject(e.target.value)}
            className="subject-filter"
          >
            <option value="all">Toutes les matières</option>
            {subjects.map((subject, index) => (
              <option key={index} value={subject}>{subject}</option>
            ))}
          </select>
          
          <button className="refresh-btn" onClick={loadData}>
            ?? Actualiser
          </button>
        </div>
      </div>

      {/* Résultats */}
      <div className="courses-content">
        {filteredCourses.length === 0 ? (
          <div className="empty-courses">
            <div className="empty-icon">??</div>
            <h2>Aucun cours trouvé</h2>
            <p>
              {searchTerm || selectedSubject !== 'all' 
                ? 'Aucun cours ne correspond à vos critères de recherche'
                : 'Vous n\'avez pas encore accès à des cours. Contactez votre administrateur.'}
            </p>
            {(searchTerm || selectedSubject !== 'all') && (
              <button
                onClick={() => {
                  setSearchTerm('');
                  setSelectedSubject('all');
                }}
                className="btn-clear-filters"
              >
                Effacer les filtres
              </button>
            )}
          </div>
        ) : (
          <>
            <div className="results-info">
              <span>{filteredCourses.length} cours trouvés</span>
              <div className="sort-controls">
                <span>Trier par:</span>
                <select>
                  <option>Date (plus récent)</option>
                  <option>Date (plus ancien)</option>
                  <option>Titre (A-Z)</option>
                  <option>Matière</option>
                </select>
              </div>
            </div>

            <div className="courses-grid">
              {filteredCourses.map(course => (
                <div key={course.id} className="course-card">
                  <div className="course-header">
                    <div className="course-subject">
                      <span className="subject-badge">{course.subject_name}</span>
                      <span className="class-badge">{course.class_name}</span>
                    </div>
                    <div className="course-actions">
                      <button
                        onClick={() => navigate(`/student/course/${course.id}`)}
                        className="btn-view"
                      >
                        ??? Voir
                      </button>
                    </div>
                  </div>
                  
                  <div className="course-body">
                    <h3 className="course-title">{course.title}</h3>
                    <p className="course-description">{course.description}</p>
                    
                    <div className="course-info">
                      <div className="info-item">
                        <span className="info-icon">?????</span>
                        <span className="info-text">{course.teacher_name || 'Enseignant'}</span>
                      </div>
                      <div className="info-item">
                        <span className="info-icon">??</span>
                        <span className="info-text">
                          Publié le {new Date(course.created_at).toLocaleDateString('fr-FR')}
                        </span>
                      </div>
                      <div className="info-item">
                        <span className="info-icon">??</span>
                        <span className="info-text">{course.files_count || 0} fichiers</span>
                      </div>
                    </div>
                  </div>
                  
                  <div className="course-footer">
                    <button
                      onClick={() => navigate(`/student/course/${course.id}`)}
                      className="btn-access"
                    >
                      Accéder au cours ?
                    </button>
                  </div>
                </div>
              ))}
            </div>
          </>
        )}
      </div>

      {/* Aide et informations */}
      <div className="courses-help">
        <h3>?? Comment accéder aux cours ?</h3>
        <div className="help-steps">
          <div className="step">
            <div className="step-number">1</div>
            <div className="step-content">
              <h4>Cliquez sur "Voir"</h4>
              <p>Accédez aux détails d'un cours pour voir tous les fichiers</p>
            </div>
          </div>
          <div className="step">
            <div className="step-number">2</div>
            <div className="step-content">
              <h4>Téléchargez les ressources</h4>
              <p>Téléchargez les fichiers PDF, présentations et exercices</p>
            </div>
          </div>
          <div className="step">
            <div className="step-number">3</div>
            <div className="step-content">
              <h4>Organisez votre travail</h4>
              <p>Créez des dossiers sur votre ordinateur pour chaque matière</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}  // src/pages/student/StudentDashboard.jsx - VERSION CORRIGÉE
import React, { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';
import api from '../../services/api';
import { toast } from 'react-toastify';
import {
  Container, Grid, Card, CardContent, Typography, Button, Avatar,
  Chip, Box, LinearProgress, IconButton, Badge, Tooltip, Paper,
  List, ListItem, ListItemAvatar, ListItemText, Divider,
  Tabs, Tab, Stack, alpha, styled
} from '@mui/material';
import {
  CalendarToday, School, Assignment, VideoCall,
  Notifications, TrendingUp, People, Book,
  AccessTime, Announcement, ArrowForward, MoreVert,
  CheckCircle, EmojiEvents, Chat, Schedule,
  Today, Grade, Class, Videocam, Forum,
  Description, TrendingDown, Favorite, AccessAlarm
} from '@mui/icons-material';

// Styles personnalisés
const StatCard = styled(Card)(({ theme, color = 'primary' }) => ({
  borderRadius: '16px',
  border: '1px solid',
  borderColor: theme.palette[color].light,
  background: `linear-gradient(135deg, ${alpha(theme.palette[color].main, 0.1)} 0%, ${alpha(theme.palette[color].light, 0.05)} 100%)`,
  height: '100%',
  transition: 'all 0.3s ease',
  '&:hover': {
    transform: 'translateY(-4px)',
    boxShadow: theme.shadows[8],
    borderColor: theme.palette[color].main
  }
}));

const LiveSessionCard = styled(Card)(({ theme }) => ({
  borderRadius: '16px',
  background: 'linear-gradient(135deg, #e53935 0%, #c62828 100%)',
  color: 'white',
  position: 'relative',
  overflow: 'hidden',
  '&::before': {
    content: '""',
    position: 'absolute',
    top: 0,
    left: 0,
    right: 0,
    bottom: 0,
    background: 'rgba(0,0,0,0.1)'
  }
}));

const SubjectCard = styled(Paper)(({ theme }) => ({
  padding: theme.spacing(3),
  borderRadius: '12px',
  cursor: 'pointer',
  transition: 'all 0.2s',
  border: '1px solid',
  borderColor: theme.palette.divider,
  '&:hover': {
    transform: 'translateY(-4px)',
    boxShadow: theme.shadows[8],
    borderColor: '#e53935',
    backgroundColor: alpha('#e53935', 0.02)
  }
}));

// Données simulées pour le développement
const mockDashboardData = (user) => ({
  upcomingClasses: [
    { 
      id: 1, 
      subject: 'Algorithmique', 
      teacher: 'Dr. Smith', 
      time: '10:00 - 12:00', 
      room: 'Salle 101', 
      type: 'course',
      subjectColor: '#4CAF50'
    }
  ],
  recentGrades: [
    { id: 1, test: 'Quiz Algorithmique', score: 16, max: 20, percentage: 80, date: '2024-01-15', subject: 'Algorithmique', subjectColor: '#4CAF50' },
  ],
  announcements: [
    { id: 1, title: 'Bienvenue !', message: 'Bienvenue sur la plateforme ITEAM LMS', date: new Date().toISOString(), type: 'info' },
  ],
  liveSessions: [],
  subjects: [
    { id: 1, name: 'Algorithmique', teacher: 'Dr. Smith', progress: 75, class: 'ING1 Info' },
    { id: 2, name: 'Base de Données', teacher: 'Prof. Johnson', progress: 60, class: 'ING1 Info' },
  ],
  classes: [
    { id: 1, name: 'ING1 Informatique', studentCount: 25, maxStudents: 30 }
  ],
  stats: { 
    classesCount: 1, 
    assignmentsPending: 2, 
    attendanceRate: 92, 
    averageScore: 15.8,
    totalHours: 24,
    completedCourses: 8
  }
});

export default function StudentDashboard() {
  const { user } = useAuth();
  const navigate = useNavigate();
  const [loading, setLoading] = useState(true);
  const [dashboardData, setDashboardData] = useState(mockDashboardData(user));

  useEffect(() => {
    loadDashboardData();
  }, []);

  const loadDashboardData = async () => {
    try {
      setLoading(true);
      
      // Charger les données avec gestion d'erreur
      const loadData = async (endpoint, defaultValue = []) => {
        try {
          const res = await api.get(endpoint);
          return res.data || defaultValue;
        } catch (error) {
          console.warn(`Erreur chargement ${endpoint}:`, error.message);
          return defaultValue;
        }
      };

      const [
        scheduleData,
        userData,
        announcementsData,
        liveSessionsData,
        classesData
      ] = await Promise.all([
        loadData('/schedule/student/my-schedule/', { data: { time_slots: [] } }),
        loadData('/accounts/me/', { user: { id: 1, first_name: user?.first_name, username: user?.username } }),
        loadData('/notifications/?type=announcement&limit=3', []),
        loadData('/live/sessions/active/', []),
        loadData('/classes/classes/', [])
      ]);

      // Traitement des données
      const upcomingClasses = formatUpcomingClasses(scheduleData);
      const liveSessions = formatLiveSessions(liveSessionsData);
      const subjects = extractSubjects(classesData);
      const studentClasses = classesData.filter(cls => 
        cls.students?.some(s => s.id === userData.user?.id)
      ) || [];

      setDashboardData({
        upcomingClasses,
        recentGrades: [
          { id: 1, test: 'Quiz Algorithmique', score: 16, max: 20, percentage: 80, date: '2024-01-15', subject: 'Algorithmique', subjectColor: '#4CAF50' },
          { id: 2, test: 'Examen BD', score: 32, max: 40, percentage: 80, date: '2024-01-10', subject: 'Base de Données', subjectColor: '#2196F3' },
        ],
        announcements: announcementsData,
        liveSessions,
        subjects: subjects.slice(0, 4),
        classes: studentClasses,
        stats: {
          classesCount: studentClasses.length,
          assignmentsPending: 2,
          attendanceRate: 92,
          averageScore: 15.8,
          totalHours: 24,
          completedCourses: 8
        }
      });

    } catch (error) {
      console.error('Erreur générale dashboard:', error);
      // Utiliser les données simulées
      setDashboardData(mockDashboardData(user));
    } finally {
      setLoading(false);
    }
  };

  const formatUpcomingClasses = (data) => {
    if (!data?.data?.time_slots) return [];
    
    const today = new Date().toLocaleDateString('fr-FR', { weekday: 'long' });
    const todaySlots = data.data.time_slots.filter(slot => 
      slot.day_display === today || slot.day === today
    );
    
    return todaySlots.map(slot => ({
      id: slot.id,
      subject: slot.subject_name || 'Matière',
      teacher: slot.teacher_name || 'Enseignant',
      time: `${slot.start_time || '--:--'} - ${slot.end_time || '--:--'}`,
      room: slot.classroom || 'Salle non définie',
      type: 'course',
      subjectColor: '#4CAF50'
    }));
  };

  const formatLiveSessions = (data) => {
    if (!data) return [];
    return data.map(session => ({
      id: session.id,
      title: session.title,
      teacher: session.teacher_details?.username || session.teacher || 'Enseignant',
      subject: session.subject_details?.name || session.subject || 'Matière',
      participants: session.participants_count || 0,
      isActive: session.status === 'live',
      startTime: session.start_time,
      meetingId: session.meeting_id
    }));
  };

  const extractSubjects = (classes) => {
    const subjects = [];
    classes.forEach(cls => {
      if (cls.subjects) {
        cls.subjects.forEach(subject => {
          subjects.push({
            id: subject.id,
            name: subject.name,
            teacher: subject.teacher_name || 'Enseignant',
            progress: Math.floor(Math.random() * 100),
            class: cls.name
          });
        });
      }
    });
    return subjects.length > 0 ? subjects : [
      { id: 1, name: 'Algorithmique', teacher: 'Dr. Smith', progress: 75, class: 'ING1 Info' },
      { id: 2, name: 'Base de Données', teacher: 'Prof. Johnson', progress: 60, class: 'ING1 Info' },
    ];
  };

  const joinLiveSession = (session) => {
    if (session.meetingId) {
      navigate(`/live-session-teams/${session.meetingId}`);
    } else {
      toast.info('Session non disponible pour le moment');
    }
  };

  const viewClassDetails = (classId) => {
    navigate(`/student/class/${classId}`);
  };

  const viewSubjectDetails = (subjectId) => {
    navigate(`/student/subject/${subjectId}`);
  };

  if (loading) {
    return (
      <Container maxWidth="xl" sx={{ py: 8, textAlign: 'center' }}>
        <LinearProgress sx={{ mb: 3 }} />
        <Typography variant="h6" color="text.secondary">
          Chargement de votre tableau de bord...
        </Typography>
      </Container>
    );
  }

  return (
    <Container maxWidth="xl" sx={{ py: 3 }}>
      {/* Header avec bienvenue */}
      <Box sx={{ mb: 4 }}>
        <Grid container spacing={2} alignItems="center">
          <Grid item xs={12} md={8}>
            <Typography variant="h3" fontWeight={700} sx={{ color: '#e53935', mb: 1 }}>
              Bonjour, {user?.first_name || user?.username || 'Étudiant'} ??
            </Typography>
            <Typography variant="body1" color="text.secondary" sx={{ mb: 2 }}>
              Voici un aperçu de votre progression académique
            </Typography>
            
            {/* Badges rapides */}
            <Box display="flex" gap={2} flexWrap="wrap">
              <Chip 
                icon={<Today />} 
                label={`${new Date().toLocaleDateString('fr-FR', { weekday: 'long' })}`} 
                color="primary" 
                variant="outlined" 
              />
              <Chip 
                icon={<Grade />} 
                label={`Moyenne: ${dashboardData.stats.averageScore}/20`} 
                color="success" 
                variant="outlined" 
              />
              <Chip 
                icon={<CheckCircle />} 
                label={`${dashboardData.stats.attendanceRate}% Présence`} 
                color="info" 
                variant="outlined" 
              />
              <Chip 
                icon={<Class />} 
                label={`${dashboardData.classes.length} classe(s)`} 
                color="warning" 
                variant="outlined" 
              />
            </Box>
          </Grid>
          
          <Grid item xs={12} md={4}>
            <Box display="flex" gap={2} justifyContent={{ xs: 'flex-start', md: 'flex-end' }}>
              <Button
                variant="contained"
                startIcon={<VideoCall />}
                onClick={() => navigate('/student/live-sessions')}
                sx={{
                  borderRadius: '12px',
                  background: 'linear-gradient(135deg, #e53935 0%, #c62828 100%)',
                  px: 3,
                  py: 1.5
                }}
              >
                Sessions Live
              </Button>
              <Button
                variant="outlined"
                startIcon={<Schedule />}
                onClick={() => navigate('/student/schedule')}
                sx={{ borderRadius: '12px', py: 1.5 }}
              >
                Emploi
              </Button>
            </Box>
          </Grid>
        </Grid>
      </Box>

      {/* Session Live Active */}
      {dashboardData.liveSessions.filter(s => s.isActive).length > 0 && (
        <LiveSessionCard sx={{ mb: 4 }}>
          <CardContent>
            <Grid container spacing={2} alignItems="center">
              <Grid item xs={12} md={8}>
                <Box position="relative" zIndex={1}>
                  <Box display="flex" alignItems="center" gap={2} mb={1}>
                    <Videocam sx={{ fontSize: 32 }} />
                    <Typography variant="h5" fontWeight={700}>
                      Session en cours
                    </Typography>
                  </Box>
                  <Typography variant="h6" fontWeight={600}>
                    {dashboardData.liveSessions[0].title}
                  </Typography>
                  <Typography variant="body1" sx={{ opacity: 0.9 }}>
                    ????? {dashboardData.liveSessions[0].teacher} • ?? {dashboardData.liveSessions[0].participants} participants
                  </Typography>
                </Box>
              </Grid>
              <Grid item xs={12} md={4} sx={{ textAlign: { xs: 'left', md: 'right' } }}>
                <Button
                  variant="contained"
                  size="large"
                  startIcon={<VideoCall />}
                  sx={{
                    background: 'white',
                    color: '#e53935',
                    fontWeight: 600,
                    borderRadius: '12px',
                    px: 4,
                    py: 1.5,
                    '&:hover': {
                      background: 'rgba(255,255,255,0.9)'
                    }
                  }}
                  onClick={() => joinLiveSession(dashboardData.liveSessions[0])}
                >
                  Rejoindre
                </Button>
              </Grid>
            </Grid>
          </CardContent>
        </LiveSessionCard>
      )}

      {/* Stats Grid */}
      <Grid container spacing={3} sx={{ mb: 4 }}>
        <Grid item xs={12} sm={6} md={3}>
          <StatCard color="error">
            <CardContent>
              <Box display="flex" alignItems="center" justifyContent="space-between">
                <Box>
                  <Typography color="textSecondary" variant="body2">
                    Mes classes
                  </Typography>
                  <Typography variant="h3" fontWeight={700} sx={{ mt: 1, color: '#e53935' }}>
                    {dashboardData.stats.classesCount}
                  </Typography>
                </Box>
                <Avatar sx={{ bgcolor: '#e53935', width: 56, height: 56 }}>
                  <School sx={{ fontSize: 28 }} />
                </Avatar>
              </Box>
            </CardContent>
          </StatCard>
        </Grid>
        
        <Grid item xs={12} sm={6} md={3}>
          <StatCard color="success">
            <CardContent>
              <Box display="flex" alignItems="center" justifyContent="space-between">
                <Box>
                  <Typography color="textSecondary" variant="body2">
                    Moyenne générale
                  </Typography>
                  <Typography variant="h3" fontWeight={700} sx={{ mt: 1, color: '#2e7d32' }}>
                    {dashboardData.stats.averageScore.toFixed(1)}
                  </Typography>
                  <Typography variant="caption" color="success.main">
                    <TrendingUp sx={{ fontSize: 14, verticalAlign: 'middle' }} /> +2.5%
                  </Typography>
                </Box>
                <Avatar sx={{ bgcolor: '#2e7d32', width: 56, height: 56 }}>
                  <TrendingUp sx={{ fontSize: 28 }} />
                </Avatar>
              </Box>
            </CardContent>
          </StatCard>
        </Grid>
        
        <Grid item xs={12} sm={6} md={3}>
          <StatCard color="warning">
            <CardContent>
              <Box display="flex" alignItems="center" justifyContent="space-between">
                <Box>
                  <Typography color="textSecondary" variant="body2">
                    Devoirs en attente
                  </Typography>
                  <Typography variant="h3" fontWeight={700} sx={{ mt: 1, color: '#ed6c02' }}>
                    {dashboardData.stats.assignmentsPending}
                  </Typography>
                </Box>
                <Avatar sx={{ bgcolor: '#ed6c02', width: 56, height: 56 }}>
                  <Assignment sx={{ fontSize: 28 }} />
                </Avatar>
              </Box>
            </CardContent>
          </StatCard>
        </Grid>
        
        <Grid item xs={12} sm={6} md={3}>
          <StatCard color="info">
            <CardContent>
              <Box display="flex" alignItems="center" justifyContent="space-between">
                <Box>
                  <Typography color="textSecondary" variant="body2">
                    Taux de présence
                  </Typography>
                  <Typography variant="h3" fontWeight={700} sx={{ mt: 1, color: '#0288d1' }}>
                    {dashboardData.stats.attendanceRate}%
                  </Typography>
                </Box>
                <Avatar sx={{ bgcolor: '#0288d1', width: 56, height: 56 }}>
                  <CheckCircle sx={{ fontSize: 28 }} />
                </Avatar>
              </Box>
            </CardContent>
          </StatCard>
        </Grid>
      </Grid>

      {/* Main Content Grid */}
      <Grid container spacing={3}>
        {/* Colonne gauche */}
        <Grid item xs={12} lg={8}>
          {/* Mes matières */}
          <Card sx={{ mb: 3, borderRadius: 3 }}>
            <CardContent>
              <Box display="flex" justifyContent="space-between" alignItems="center" mb={3}>
                <Box display="flex" alignItems="center" gap={2}>
                  <Book sx={{ color: '#e53935', fontSize: 28 }} />
                  <Box>
                    <Typography variant="h5" fontWeight={700}>
                      Mes matières
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Accédez rapidement à vos matières
                    </Typography>
                  </Box>
                </Box>
                <Button
                  size="small"
                  endIcon={<ArrowForward />}
                  onClick={() => navigate('/student/classes')}
                >
                  Voir toutes
                </Button>
              </Box>
              
              <Grid container spacing={2}>
                {dashboardData.subjects.map((subject) => (
                  <Grid item xs={12} sm={6} key={subject.id}>
                    <SubjectCard onClick={() => viewSubjectDetails(subject.id)}>
                      <Box display="flex" alignItems="center" gap={2} mb={2}>
                        <Avatar sx={{ bgcolor: '#e53935' }}>
                          <Book sx={{ fontSize: 20 }} />
                        </Avatar>
                        <Box>
                          <Typography variant="h6" fontWeight={600}>
                            {subject.name}
                          </Typography>
                          <Typography variant="body2" color="text.secondary">
                            {subject.teacher}
                          </Typography>
                        </Box>
                      </Box>
                      
                      <Box mb={2}>
                        <Box display="flex" justifyContent="space-between" mb={1}>
                          <Typography variant="body2" color="text.secondary">
                            Progression
                          </Typography>
                          <Typography variant="body2" fontWeight={600}>
                            {subject.progress}%
                          </Typography>
                        </Box>
                        <LinearProgress 
                          variant="determinate" 
                          value={subject.progress}
                          sx={{ height: 6, borderRadius: 3 }}
                        />
                      </Box>
                      
                      <Box display="flex" justifyContent="space-between" alignItems="center">
                        <Chip label={subject.class} size="small" variant="outlined" />
                        <Button size="small" color="primary">
                          Accéder
                        </Button>
                      </Box>
                    </SubjectCard>
                  </Grid>
                ))}
              </Grid>
            </CardContent>
          </Card>

          {/* Aujourd'hui */}
          <Card sx={{ mb: 3, borderRadius: 3 }}>
            <CardContent>
              <Box display="flex" justifyContent="space-between" alignItems="center" mb={3}>
                <Box display="flex" alignItems="center" gap={2}>
                  <Today sx={{ color: '#e53935', fontSize: 28 }} />
                  <Box>
                    <Typography variant="h5" fontWeight={700}>
                      Aujourd'hui
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      {new Date().toLocaleDateString('fr-FR', { 
                        weekday: 'long', 
                        year: 'numeric', 
                        month: 'long', 
                        day: 'numeric' 
                      })}
                    </Typography>
                  </Box>
                </Box>
                <Button
                  size="small"
                  endIcon={<ArrowForward />}
                  onClick={() => navigate('/student/schedule')}
                >
                  Voir l'emploi complet
                </Button>
              </Box>
              
              {dashboardData.upcomingClasses.length > 0 ? (
                <Stack spacing={2}>
                  {dashboardData.upcomingClasses.map((cls) => (
                    <Paper
                      key={cls.id}
                      sx={{
                        p: 2.5,
                        borderRadius: 2,
                        borderLeft: `4px solid ${cls.subjectColor || '#e53935'}`,
                        transition: 'all 0.3s',
                        '&:hover': {
                          transform: 'translateY(-2px)',
                          boxShadow: 3
                        }
                      }}
                    >
                      <Box display="flex" alignItems="flex-start" justifyContent="space-between" mb={1}>
                        <Typography variant="h6" fontWeight={600}>
                          {cls.subject}
                        </Typography>
                        <Chip 
                          label={cls.type === 'td' ? 'TD' : 'Cours'} 
                          size="small" 
                          sx={{ 
                            bgcolor: cls.type === 'td' ? '#2196F3' : '#e53935',
                            color: 'white'
                          }}
                        />
                      </Box>
                      
                      <Typography variant="body2" color="text.secondary" gutterBottom>
                        ????? {cls.teacher}
                      </Typography>
                      
                      <Box display="flex" alignItems="center" gap={2} mt={2}>
                        <Box display="flex" alignItems="center" gap={0.5}>
                          <AccessTime fontSize="small" />
                          <Typography variant="body2">
                            {cls.time}
                          </Typography>
                        </Box>
                        <Box display="flex" alignItems="center" gap={0.5}>
                          <School fontSize="small" />
                          <Typography variant="body2">
                            {cls.room}
                          </Typography>
                        </Box>
                      </Box>
                    </Paper>
                  ))}
                </Stack>
              ) : (
                <Box textAlign="center" py={4}>
                  <Today sx={{ fontSize: 48, color: 'text.secondary', mb: 2 }} />
                  <Typography variant="h6" color="text.secondary">
                    Aucun cours aujourd'hui
                  </Typography>
                  <Typography variant="body2" color="text.secondary">
                    Profitez-en pour réviser !
                  </Typography>
                </Box>
              )}
            </CardContent>
          </Card>
        </Grid>

        {/* Colonne droite */}
        <Grid item xs={12} lg={4}>
          {/* Mes classes */}
          <Card sx={{ mb: 3, borderRadius: 3 }}>
            <CardContent>
              <Box display="flex" alignItems="center" gap={2} mb={3}>
                <Class sx={{ color: '#e53935', fontSize: 28 }} />
                <Box>
                  <Typography variant="h5" fontWeight={700}>
                    Mes classes
                  </Typography>
                  <Typography variant="body2" color="text.secondary">
                    Vos classes actuelles
                  </Typography>
                </Box>
              </Box>
              
              {dashboardData.classes.length > 0 ? (
                <Stack spacing={2}>
                  {dashboardData.classes.map((cls) => (
                    <Paper
                      key={cls.id}
                      sx={{
                        p: 2,
                        borderRadius: 2,
                        border: '1px solid',
                        borderColor: 'divider',
                        cursor: 'pointer',
                        '&:hover': {
                          borderColor: '#e53935',
                          bgcolor: 'rgba(229, 57, 53, 0.02)'
                        }
                      }}
                      onClick={() => viewClassDetails(cls.id)}
                    >
                      <Box display="flex" alignItems="center" gap={2}>
                        <Avatar sx={{ bgcolor: '#e53935' }}>
                          <Class sx={{ fontSize: 20 }} />
                        </Avatar>
                        <Box flex={1}>
                          <Typography variant="subtitle1" fontWeight={600}>
                            {cls.name}
                          </Typography>
                          <Typography variant="caption" color="text.secondary">
                            {cls.studentCount || 0} étudiants
                          </Typography>
                        </Box>
                        <ArrowForward fontSize="small" />
                      </Box>
                    </Paper>
                  ))}
                </Stack>
              ) : (
                <Box textAlign="center" py={3}>
                  <Class sx={{ fontSize: 48, color: 'text.secondary', mb: 2 }} />
                  <Typography variant="body1" color="text.secondary">
                    Vous n'êtes pas encore assigné à une classe
                  </Typography>
                  <Button 
                    variant="outlined" 
                    sx={{ mt: 2 }}
                    onClick={() => toast.info('Contactez votre administrateur')}
                  >
                    Demander une affectation
                  </Button>
                </Box>
              )}
            </CardContent>
          </Card>

          {/* Dernières notes */}
          <Card sx={{ mb: 3, borderRadius: 3 }}>
            <CardContent>
              <Box display="flex" alignItems="center" gap={2} mb={3}>
                <EmojiEvents sx={{ color: '#e53935', fontSize: 28 }} />
                <Box>
                  <Typography variant="h5" fontWeight={700}>
                    Dernières notes
                  </Typography>
                  <Typography variant="body2" color="text.secondary">
                    Vos dernières évaluations
                  </Typography>
                </Box>
              </Box>
              
              <Stack spacing={2}>
                {dashboardData.recentGrades.map((grade) => (
                  <Paper
                    key={grade.id}
                    sx={{
                      p: 2,
                      borderRadius: 2,
                      borderLeft: `4px solid ${grade.subjectColor || '#e53935'}`,
                      transition: 'all 0.3s',
                      '&:hover': {
                        transform: 'translateX(4px)',
                        boxShadow: 2
                      }
                    }}
                  >
                    <Box display="flex" alignItems="center" justifyContent="space-between" mb={1}>
                      <Typography variant="subtitle2" fontWeight={600}>
                        {grade.test}
                      </Typography>
                      <Chip
                        label={`${grade.percentage}%`}
                        size="small"
                        color={grade.percentage >= 80 ? 'success' : grade.percentage >= 60 ? 'warning' : 'error'}
                      />
                    </Box>
                    
                    <Typography variant="body2" color="text.secondary" gutterBottom>
                      ?? {grade.subject} • ?? {new Date(grade.date).toLocaleDateString('fr-FR')}
                    </Typography>
                    
                    <Typography variant="body1" fontWeight={600}>
                      Note: {grade.score}/{grade.max}
                    </Typography>
                  </Paper>
                ))}
              </Stack>
            </CardContent>
          </Card>

          {/* Actions rapides */}
          <Card sx={{ borderRadius: 3 }}>
            <CardContent>
              <Typography variant="h5" fontWeight={700} gutterBottom>
                ? Actions rapides
              </Typography>
              
              <Grid container spacing={1}>
                <Grid item xs={6}>
                  <Button
                    fullWidth
                    variant="outlined"
                    startIcon={<Book />}
                    onClick={() => navigate('/student/courses')}
                    sx={{ justifyContent: 'flex-start', py: 1.5 }}
                  >
                    Mes cours
                  </Button>
                </Grid>
                <Grid item xs={6}>
                  <Button
                    fullWidth
                    variant="outlined"
                    startIcon={<Assignment />}
                    onClick={() => navigate('/student/tests')}
                    sx={{ justifyContent: 'flex-start', py: 1.5 }}
                  >
                    Devoirs
                  </Button>
                </Grid>
                <Grid item xs={6}>
                  <Button
                    fullWidth
                    variant="outlined"
                    startIcon={<People />}
                    onClick={() => navigate('/student/chat')}
                    sx={{ justifyContent: 'flex-start', py: 1.5 }}
                  >
                    Messagerie
                  </Button>
                </Grid>
                <Grid item xs={6}>
                  <Button
                    fullWidth
                    variant="outlined"
                    startIcon={<Forum />}
                    onClick={() => navigate('/student/resources')}
                    sx={{ justifyContent: 'flex-start', py: 1.5 }}
                  >
                    Ressources
                  </Button>
                </Grid>
                <Grid item xs={6}>
                  <Button
                    fullWidth
                    variant="outlined"
                    startIcon={<Description />}
                    onClick={() => toast.info('Page profil')}
                    sx={{ justifyContent: 'flex-start', py: 1.5 }}
                  >
                    Mon profil
                  </Button>
                </Grid>
                <Grid item xs={6}>
                  <Button
                    fullWidth
                    variant="outlined"
                    startIcon={<VideoCall />}
                    onClick={() => navigate('/student/live-sessions')}
                    sx={{ justifyContent: 'flex-start', py: 1.5 }}
                  >
                    Sessions Live
                  </Button>
                </Grid>
              </Grid>
            </CardContent>
          </Card>
        </Grid>
      </Grid>
    </Container>
  );
} // src/pages/student/StudentLiveSessions.jsx
import React, { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { toast } from 'react-toastify';
import api from '../../services/api';
import {
  Container, Grid, Card, CardContent, Typography, Button,
  Chip, Box, LinearProgress, Avatar, IconButton, Paper,
  Tabs, Tab, Stack, alpha, Divider, Badge
} from '@mui/material';
import {
  VideoCall as VideoCallIcon,
  Schedule as ScheduleIcon,
  PlayCircle as PlayIcon,
  People as PeopleIcon,
  AccessTime as TimeIcon,
  CheckCircle as CheckIcon,
  ArrowBack as ArrowBackIcon,
  Refresh as RefreshIcon,
  CalendarToday as CalendarIcon,
  FilterList as FilterIcon
} from '@mui/icons-material';

export default function StudentLiveSessions() {
  const navigate = useNavigate();
  const [loading, setLoading] = useState(true);
  const [activeTab, setActiveTab] = useState(0);
  const [liveSessions, setLiveSessions] = useState([]);
  const [upcomingSessions, setUpcomingSessions] = useState([]);
  const [pastSessions, setPastSessions] = useState([]);

  useEffect(() => {
    loadSessions();
  }, []);

  const loadSessions = async () => {
    try {
      setLoading(true);
      
      // Charger les sessions actives
      const activeRes = await api.get('/live/sessions/active/');
      setLiveSessions(activeRes.data || []);
      
      // Charger les sessions à venir
      const upcomingRes = await api.get('/live/sessions/upcoming/');
      setUpcomingSessions(upcomingRes.data || []);
      
      // Charger les sessions passées
      const pastRes = await api.get('/live/sessions/?status=ended');
      setPastSessions(pastRes.data || []);

    } catch (error) {
      console.error('Erreur chargement sessions:', error);
      // Données simulées
      setLiveSessions([
        {
          id: 1,
          title: 'Algorithmique Avancée - Séance Live',
          teacher: 'Dr. Smith',
          subject: 'Algorithmique',
          participants_count: 12,
          start_time: new Date().toISOString(),
          is_active: true,
          meeting_id: 'abc123'
        }
      ]);
      
      setUpcomingSessions([
        {
          id: 2,
          title: 'Base de Données - Cours Live',
          teacher: 'Prof. Johnson',
          subject: 'Base de Données',
          participants_count: 0,
          start_time: new Date(Date.now() + 86400000).toISOString(),
          is_active: false,
          meeting_id: 'def456'
        }
      ]);
    } finally {
      setLoading(false);
    }
  };

  const joinSession = (session) => {
    if (session.meeting_id) {
      navigate(`/live-session-teams/${session.meeting_id}`);
    } else {
      toast.info('Cette session n\'est pas encore disponible');
    }
  };

  const formatTime = (dateString) => {
    const date = new Date(dateString);
    return date.toLocaleDateString('fr-FR', {
      weekday: 'long',
      day: 'numeric',
      month: 'long',
      hour: '2-digit',
      minute: '2-digit'
    });
  };

  const renderSessionCard = (session, isActive = false) => (
    <Card sx={{ 
      mb: 2, 
      transition: 'transform 0.2s',
      '&:hover': { transform: 'translateY(-4px)' }
    }}>
      <CardContent>
        <Grid container alignItems="center" spacing={2}>
          <Grid item xs={12} md={8}>
            <Box display="flex" alignItems="center" gap={2} mb={1}>
              <Avatar sx={{ 
                bgcolor: isActive ? '#e53935' : '#1976d2',
                width: 50,
                height: 50
              }}>
                <VideoCallIcon />
              </Avatar>
              <Box>
                <Typography variant="h6" fontWeight={600}>
                  {session.title}
                </Typography>
                <Typography variant="body2" color="text.secondary">
                  ????? {session.teacher} • ?? {session.subject}
                </Typography>
              </Box>
            </Box>
            
            <Box display="flex" alignItems="center" gap={2} mt={1}>
              <Chip
                icon={<TimeIcon />}
                label={formatTime(session.start_time)}
                size="small"
                variant="outlined"
              />
              <Chip
                icon={<PeopleIcon />}
                label={`${session.participants_count || 0} participants`}
                size="small"
                variant="outlined"
              />
            </Box>
          </Grid>
          
          <Grid item xs={12} md={4} textAlign="right">
            <Button
              variant={isActive ? "contained" : "outlined"}
              startIcon={isActive ? <PlayIcon /> : <ScheduleIcon />}
              onClick={() => joinSession(session)}
              sx={{
                borderRadius: 2,
                bgcolor: isActive ? '#e53935' : 'transparent',
                '&:hover': {
                  bgcolor: isActive ? '#c62828' : 'rgba(0, 0, 0, 0.04)'
                }
              }}
            >
              {isActive ? 'Rejoindre' : 'Programmé'}
            </Button>
          </Grid>
        </Grid>
      </CardContent>
    </Card>
  );

  if (loading) {
    return (
      <Container maxWidth="xl" sx={{ py: 4 }}>
        <LinearProgress />
      </Container>
    );
  }

  return (
    <Container maxWidth="xl" sx={{ py: 4 }}>
      {/* Header */}
      <Box sx={{ mb: 4 }}>
        <Button
          startIcon={<ArrowBackIcon />}
          onClick={() => navigate('/student/dashboard')}
          sx={{ mb: 2 }}
        >
          Retour
        </Button>
        
        <Box display="flex" justifyContent="space-between" alignItems="center" mb={3}>
          <Box>
            <Typography variant="h4" fontWeight="600" gutterBottom>
              ?? Sessions Live
            </Typography>
            <Typography variant="body1" color="textSecondary">
              Participez aux sessions en direct avec vos enseignants
            </Typography>
          </Box>
          
          <Button
            variant="outlined"
            startIcon={<RefreshIcon />}
            onClick={loadSessions}
          >
            Actualiser
          </Button>
        </Box>

        {/* Stats */}
        <Grid container spacing={2} sx={{ mb: 4 }}>
          <Grid item xs={12} sm={4}>
            <Paper sx={{ p: 2, textAlign: 'center', bgcolor: '#e53935', color: 'white' }}>
              <Typography variant="h4">{liveSessions.length}</Typography>
              <Typography variant="body2">Sessions en cours</Typography>
            </Paper>
          </Grid>
          <Grid item xs={12} sm={4}>
            <Paper sx={{ p: 2, textAlign: 'center', bgcolor: '#1976d2', color: 'white' }}>
              <Typography variant="h4">{upcomingSessions.length}</Typography>
              <Typography variant="body2">Sessions à venir</Typography>
            </Paper>
          </Grid>
          <Grid item xs={12} sm={4}>
            <Paper sx={{ p: 2, textAlign: 'center', bgcolor: '#2e7d32', color: 'white' }}>
              <Typography variant="h4">{pastSessions.length}</Typography>
              <Typography variant="body2">Sessions passées</Typography>
            </Paper>
          </Grid>
        </Grid>
      </Box>

      {/* Tabs */}
      <Paper sx={{ mb: 3 }}>
        <Tabs
          value={activeTab}
          onChange={(e, newValue) => setActiveTab(newValue)}
          sx={{ borderBottom: 1, borderColor: 'divider' }}
        >
          <Tab 
            label={
              <Box display="flex" alignItems="center" gap={1}>
                <PlayIcon />
                En direct
                <Badge badgeContent={liveSessions.length} color="error" sx={{ ml: 1 }} />
              </Box>
            } 
          />
          <Tab 
            label={
              <Box display="flex" alignItems="center" gap={1}>
                <ScheduleIcon />
                À venir
                <Badge badgeContent={upcomingSessions.length} color="info" sx={{ ml: 1 }} />
              </Box>
            } 
          />
          <Tab 
            label={
              <Box display="flex" alignItems="center" gap={1}>
                <CalendarIcon />
                Passées
                <Badge badgeContent={pastSessions.length} color="success" sx={{ ml: 1 }} />
              </Box>
            } 
          />
        </Tabs>
      </Paper>

      {/* Content */}
      {activeTab === 0 && (
        <Box>
          {liveSessions.length > 0 ? (
            <Stack spacing={2}>
              {liveSessions.map(session => renderSessionCard(session, true))}
            </Stack>
          ) : (
            <Paper sx={{ p: 6, textAlign: 'center' }}>
              <VideoCallIcon sx={{ fontSize: 60, color: 'text.secondary', mb: 2 }} />
              <Typography variant="h6" color="text.secondary" gutterBottom>
                Aucune session en direct pour le moment
              </Typography>
              <Typography variant="body2" color="text.secondary" sx={{ mb: 3 }}>
                Les sessions live apparaîtront ici lorsqu'elles seront programmées par vos enseignants
              </Typography>
            </Paper>
          )}
        </Box>
      )}

      {activeTab === 1 && (
        <Box>
          {upcomingSessions.length > 0 ? (
            <Stack spacing={2}>
              {upcomingSessions.map(session => renderSessionCard(session, false))}
            </Stack>
          ) : (
            <Paper sx={{ p: 6, textAlign: 'center' }}>
              <ScheduleIcon sx={{ fontSize: 60, color: 'text.secondary', mb: 2 }} />
              <Typography variant="h6" color="text.secondary" gutterBottom>
                Aucune session à venir
              </Typography>
              <Typography variant="body2" color="text.secondary">
                Vos enseignants programmeront bientôt de nouvelles sessions
              </Typography>
            </Paper>
          )}
        </Box>
      )}

      {activeTab === 2 && (
        <Box>
          {pastSessions.length > 0 ? (
            <Grid container spacing={2}>
              {pastSessions.slice(0, 6).map(session => (
                <Grid item xs={12} md={6} key={session.id}>
                  <Card>
                    <CardContent>
                      <Typography variant="h6" fontWeight={600} gutterBottom>
                        {session.title}
                      </Typography>
                      <Typography variant="body2" color="text.secondary" gutterBottom>
                        Avec {session.teacher} • {session.subject}
                      </Typography>
                      <Typography variant="caption" color="text.secondary" display="block">
                        ?? {formatTime(session.start_time)}
                      </Typography>
                      <Button
                        variant="outlined"
                        size="small"
                        sx={{ mt: 2 }}
                        onClick={() => toast.info('Voir l\'enregistrement')}
                      >
                        Voir l'enregistrement
                      </Button>
                    </CardContent>
                  </Card>
                </Grid>
              ))}
            </Grid>
          ) : (
            <Paper sx={{ p: 6, textAlign: 'center' }}>
              <CalendarIcon sx={{ fontSize: 60, color: 'text.secondary', mb: 2 }} />
              <Typography variant="h6" color="text.secondary" gutterBottom>
                Aucune session passée
              </Typography>
            </Paper>
          )}
        </Box>
      )}
    </Container>
  );
}  // src/pages/student/StudentResources.jsx
import React, { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { toast } from 'react-toastify';
import api from '../../services/api';
import {
  Container, Grid, Card, CardContent, Typography, Button,
  Chip, Box, LinearProgress, Avatar, Paper, Stack,
  List, ListItem, ListItemAvatar, ListItemText, Divider,
  TextField, InputAdornment, IconButton, Tabs, Tab,
  alpha, styled
} from '@mui/material';
import {
  ArrowBack as ArrowBackIcon,
  Description as DescriptionIcon,
  VideoLibrary as VideoIcon,
  PictureAsPdf as PdfIcon,
  Folder as FolderIcon,
  Download as DownloadIcon,
  Search as SearchIcon,
  FilterList as FilterIcon,
  Share as ShareIcon,
  Bookmark as BookmarkIcon,
  AccessTime as TimeIcon,
  Person as PersonIcon,
  School as SchoolIcon
} from '@mui/icons-material';

const ResourceCard = styled(Card)(({ theme }) => ({
  height: '100%',
  transition: 'transform 0.3s',
  '&:hover': {
    transform: 'translateY(-8px)',
    boxShadow: theme.shadows[8]
  }
}));

export default function StudentResources() {
  const navigate = useNavigate();
  const [loading, setLoading] = useState(true);
  const [resources, setResources] = useState([]);
  const [filteredResources, setFilteredResources] = useState([]);
  const [searchTerm, setSearchTerm] = useState('');
  const [activeTab, setActiveTab] = useState(0);
  const [selectedType, setSelectedType] = useState('all');

  useEffect(() => {
    loadResources();
  }, []);

  useEffect(() => {
    filterResources();
  }, [searchTerm, selectedType, activeTab, resources]);

  const loadResources = async () => {
    try {
      setLoading(true);
      
      // Charger les cours
      const coursesRes = await api.get('/courses/courses/');
      
      // Formater les ressources
      const resourcesList = [];
      
      if (coursesRes.data) {
        coursesRes.data.forEach(course => {
          resourcesList.push({
            id: course.id,
            type: 'pdf',
            title: course.title,
            description: course.description,
            subject: course.subject_name || 'Matière',
            teacher: course.teacher_name || 'Enseignant',
            date: course.created_at,
            size: '2.4 MB',
            downloads: Math.floor(Math.random() * 100),
            icon: <PdfIcon />
          });
        });
      }
      
      // Ajouter des ressources simulées
      resourcesList.push(
        {
          id: 101,
          type: 'video',
          title: 'Introduction aux Algorithmes',
          description: 'Vidéo explicative sur les bases des algorithmes',
          subject: 'Algorithmique',
          teacher: 'Dr. Smith',
          date: '2024-01-20',
          duration: '45:23',
          views: 150,
          icon: <VideoIcon />
        },
        {
          id: 102,
          type: 'pdf',
          title: 'Guide de Programmation Python',
          description: 'Document complet sur Python pour débutants',
          subject: 'Programmation',
          teacher: 'Dr. Williams',
          date: '2024-01-18',
          size: '3.1 MB',
          downloads: 85,
          icon: <PdfIcon />
        },
        {
          id: 103,
          type: 'folder',
          title: 'TP Base de Données',
          description: 'Travaux pratiques et exercices corrigés',
          subject: 'Base de Données',
          teacher: 'Prof. Johnson',
          date: '2024-01-15',
          files: 12,
          icon: <FolderIcon />
        }
      );
      
      setResources(resourcesList);
      setFilteredResources(resourcesList);

    } catch (error) {
      console.error('Erreur chargement ressources:', error);
      // Données simulées
      const mockResources = [
        {
          id: 1,
          type: 'pdf',
          title: 'Cours Algorithmique Chapitre 1',
          description: 'Introduction aux structures de données',
          subject: 'Algorithmique',
          teacher: 'Dr. Smith',
          date: '2024-01-20',
          size: '2.4 MB',
          downloads: 45,
          icon: <PdfIcon />
        }
      ];
      setResources(mockResources);
      setFilteredResources(mockResources);
    } finally {
      setLoading(false);
    }
  };

  const filterResources = () => {
    let filtered = [...resources];

    // Filtrer par type
    if (selectedType !== 'all') {
      filtered = filtered.filter(res => res.type === selectedType);
    }

    // Filtrer par recherche
    if (searchTerm) {
      const term = searchTerm.toLowerCase();
      filtered = filtered.filter(res =>
        res.title.toLowerCase().includes(term) ||
        res.description.toLowerCase().includes(term) ||
        res.subject.toLowerCase().includes(term)
      );
    }

    // Filtrer par tab (récents/populaires/favoris)
    if (activeTab === 1) {
      filtered = filtered.sort((a, b) => (b.downloads || 0) - (a.downloads || 0));
    } else if (activeTab === 2) {
      filtered = filtered.slice(0, 5); // Simuler les favoris
    }

    setFilteredResources(filtered);
  };

  const downloadResource = (resource) => {
    toast.success(`Téléchargement de "${resource.title}"`);
    // Ici, vous implémenterez le téléchargement réel
  };

  const shareResource = (resource) => {
    toast.info(`Lien de "${resource.title}" copié dans le presse-papier`);
    // Ici, vous implémenterez le partage
  };

  const bookmarkResource = (resource) => {
    toast.success(`"${resource.title}" ajouté aux favoris`);
    // Ici, vous implémenterez les favoris
  };

  if (loading) {
    return (
      <Container maxWidth="xl" sx={{ py: 4 }}>
        <LinearProgress />
      </Container>
    );
  }

  return (
    <Container maxWidth="xl" sx={{ py: 4 }}>
      {/* Header */}
      <Box sx={{ mb: 4 }}>
        <Button
          startIcon={<ArrowBackIcon />}
          onClick={() => navigate('/student/dashboard')}
          sx={{ mb: 2 }}
        >
          Retour
        </Button>
        
        <Typography variant="h4" fontWeight="600" gutterBottom>
          ?? Ressources pédagogiques
        </Typography>
        <Typography variant="body1" color="textSecondary">
          Accédez à tous vos documents, vidéos et supports de cours
        </Typography>
      </Box>

      {/* Stats */}
      <Grid container spacing={3} sx={{ mb: 4 }}>
        <Grid item xs={12} sm={6} md={3}>
          <Paper sx={{ p: 3, textAlign: 'center' }}>
            <Typography variant="h3" color="#e53935" fontWeight="700">
              {resources.length}
            </Typography>
            <Typography variant="body2" color="text.secondary">
              Ressources totales
            </Typography>
          </Paper>
        </Grid>
        <Grid item xs={12} sm={6} md={3}>
          <Paper sx={{ p: 3, textAlign: 'center' }}>
            <Typography variant="h3" color="#1976d2" fontWeight="700">
              {resources.filter(r => r.type === 'pdf').length}
            </Typography>
            <Typography variant="body2" color="text.secondary">
              Documents PDF
            </Typography>
          </Paper>
        </Grid>
        <Grid item xs={12} sm={6} md={3}>
          <Paper sx={{ p: 3, textAlign: 'center' }}>
            <Typography variant="h3" color="#2e7d32" fontWeight="700">
              {resources.filter(r => r.type === 'video').length}
            </Typography>
            <Typography variant="body2" color="text.secondary">
              Vidéos
            </Typography>
          </Paper>
        </Grid>
        <Grid item xs={12} sm={6} md={3}>
          <Paper sx={{ p: 3, textAlign: 'center' }}>
            <Typography variant="h3" color="#9c27b0" fontWeight="700">
              {resources.reduce((sum, res) => sum + (res.downloads || 0), 0)}
            </Typography>
            <Typography variant="body2" color="text.secondary">
              Téléchargements
            </Typography>
          </Paper>
        </Grid>
      </Grid>

      {/* Contrôles */}
      <Paper sx={{ p: 2, mb: 4 }}>
        <Grid container spacing={2} alignItems="center">
          <Grid item xs={12} md={6}>
            <TextField
              fullWidth
              placeholder="Rechercher une ressource..."
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
              InputProps={{
                startAdornment: (
                  <InputAdornment position="start">
                    <SearchIcon />
                  </InputAdornment>
                )
              }}
              size="small"
            />
          </Grid>
          
          <Grid item xs={12} md={3}>
            <TextField
              select
              fullWidth
              size="small"
              value={selectedType}
              onChange={(e) => setSelectedType(e.target.value)}
              SelectProps={{
                native: true,
              }}
            >
              <option value="all">Tous les types</option>
              <option value="pdf">PDF</option>
              <option value="video">Vidéos</option>
              <option value="folder">Dossiers</option>
            </TextField>
          </Grid>
          
          <Grid item xs={12} md={3}>
            <Button
              fullWidth
              variant="outlined"
              startIcon={<FilterIcon />}
              size="small"
            >
              Plus de filtres
            </Button>
          </Grid>
        </Grid>
      </Paper>

      {/* Tabs */}
      <Tabs
        value={activeTab}
        onChange={(e, newValue) => setActiveTab(newValue)}
        sx={{ mb: 3, borderBottom: 1, borderColor: 'divider' }}
      >
        <Tab label="Récents" />
        <Tab label="Populaires" />
        <Tab label="Favoris" />
        <Tab label="Par matière" />
      </Tabs>

      {/* Liste des ressources */}
      {filteredResources.length > 0 ? (
        <Grid container spacing={3}>
          {filteredResources.map(resource => (
            <Grid item xs={12} md={6} lg={4} key={resource.id}>
              <ResourceCard>
                <CardContent>
                  <Box display="flex" alignItems="flex-start" gap={2} mb={2}>
                    <Avatar sx={{ 
                      bgcolor: resource.type === 'pdf' ? '#e53935' : 
                               resource.type === 'video' ? '#1976d2' : '#2e7d32'
                    }}>
                      {resource.icon}
                    </Avatar>
                    <Box flex={1}>
                      <Typography variant="h6" fontWeight="600" gutterBottom>
                        {resource.title}
                      </Typography>
                      <Typography variant="body2" color="text.secondary" paragraph>
                        {resource.description}
                      </Typography>
                    </Box>
                  </Box>

                  {/* Métadonnées */}
                  <Box mb={3}>
                    <Stack spacing={1}>
                      <Box display="flex" alignItems="center" gap={1}>
                        <SchoolIcon fontSize="small" color="action" />
                        <Typography variant="caption">
                          {resource.subject}
                        </Typography>
                      </Box>
                      <Box display="flex" alignItems="center" gap={1}>
                        <PersonIcon fontSize="small" color="action" />
                        <Typography variant="caption">
                          {resource.teacher}
                        </Typography>
                      </Box>
                      <Box display="flex" alignItems="center" gap={1}>
                        <TimeIcon fontSize="small" color="action" />
                        <Typography variant="caption">
                          {new Date(resource.date).toLocaleDateString('fr-FR')}
                        </Typography>
                      </Box>
                    </Stack>
                  </Box>

                  {/* Stats et actions */}
                  <Box display="flex" justifyContent="space-between" alignItems="center">
                    <Box>
                      {resource.size && (
                        <Chip label={resource.size} size="small" sx={{ mr: 1 }} />
                      )}
                      {resource.downloads && (
                        <Chip 
                          label={`${resource.downloads} téléchargements`} 
                          size="small" 
                          variant="outlined"
                        />
                      )}
                    </Box>
                    
                    <Box>
                      <IconButton 
                        size="small" 
                        onClick={() => bookmarkResource(resource)}
                      >
                        <BookmarkIcon />
                      </IconButton>
                      <IconButton 
                        size="small" 
                        onClick={() => shareResource(resource)}
                      >
                        <ShareIcon />
                      </IconButton>
                      <IconButton 
                        size="small" 
                        onClick={() => downloadResource(resource)}
                      >
                        <DownloadIcon />
                      </IconButton>
                    </Box>
                  </Box>
                </CardContent>
              </ResourceCard>
            </Grid>
          ))}
        </Grid>
      ) : (
        <Paper sx={{ p: 6, textAlign: 'center' }}>
          <DescriptionIcon sx={{ fontSize: 60, color: 'text.secondary', mb: 2 }} />
          <Typography variant="h6" color="text.secondary" gutterBottom>
            Aucune ressource trouvée
          </Typography>
          <Typography variant="body2" color="text.secondary" sx={{ mb: 3 }}>
            {searchTerm ? 'Aucune ressource ne correspond à votre recherche' : 'Aucune ressource disponible pour le moment'}
          </Typography>
          {searchTerm && (
            <Button
              variant="outlined"
              onClick={() => setSearchTerm('')}
            >
              Effacer la recherche
            </Button>
          )}
        </Paper>
      )}
    </Container>
  );
}   // src/pages/student/StudentSchedule.jsx - VERSION CORRIGÉE
import React, { useState, useEffect } from 'react';
import { toast } from 'react-toastify';
import api from '../../services/api';
import {
  Container, Typography, Paper, Box, Grid,
  Card, CardContent, Alert, LinearProgress,
  Chip, Divider, CircularProgress, Avatar,
  IconButton, Tooltip, Accordion, AccordionSummary,
  AccordionDetails, Table, TableBody, TableCell,
  TableContainer, TableHead, TableRow, Button
} from '@mui/material';
import {
  School, Person, Email, CalendarMonth,
  AccessTime, Book, LocationOn,
  ExpandMore, Refresh, Download,
  Today, Schedule, History as HistoryIcon,
  KeyboardArrowRight, KeyboardArrowDown,
  CheckCircle, Error
} from '@mui/icons-material';

export default function StudentSchedule() {
  const [loading, setLoading] = useState(true);
  const [schedule, setSchedule] = useState(null);
  const [studentInfo, setStudentInfo] = useState(null);
  const [expandedDay, setExpandedDay] = useState(null);
  const [error, setError] = useState(null);

  useEffect(() => {
    fetchStudentSchedule();
    fetchStudentInfo();
  }, []);

  const fetchStudentInfo = async () => {
    try {
      const res = await api.get('/accounts/me/');
      if (res.data.success) {
        setStudentInfo(res.data.user);
      }
    } catch (err) {
      console.error('Erreur chargement info étudiant:', err);
    }
  };

  const fetchStudentSchedule = async () => {
    setLoading(true);
    setError(null);
    
    try {
      console.log('?? Début récupération emploi étudiant...');
      
      // OPTION 1: Utiliser l'endpoint dédié aux étudiants
      const res = await api.get('/schedule/student/my-schedule/');
      
      console.log('?? Réponse API:', res.data);
      
      if (res.data.success) {
        console.log('? Données emploi reçues:', res.data.data);
        setSchedule(res.data.data);
        
        if (res.data.data.has_schedule && res.data.data.time_slots?.length > 0) {
          toast.success(`? Emploi du temps chargé (${res.data.data.time_slots.length} créneaux)`);
        } else if (res.data.data.has_schedule === false) {
          toast.info('?? Votre emploi du temps est en cours de préparation');
        }
      } else {
        setError(res.data.error || 'Erreur inconnue');
        toast.error(`? ${res.data.error || 'Erreur chargement emploi'}`);
      }
      
    } catch (err) {
      console.error('? ERREUR API:', err);
      console.error('? Réponse erreur:', err.response?.data);
      
      // OPTION 2: Fallback - utiliser l'endpoint générique
      if (err.response?.status === 404 || err.response?.status === 403) {
        try {
          console.log('?? Tentative avec endpoint générique...');
          const fallbackRes = await api.get('/schedule/my-schedule/');
          
          if (fallbackRes.data.success) {
            console.log('? Données via fallback:', fallbackRes.data);
            setSchedule(fallbackRes.data.data);
          } else {
            setError('Endpoint non disponible');
          }
        } catch (fallbackErr) {
          console.error('? Erreur fallback:', fallbackErr);
          setError(`Erreur: ${fallbackErr.response?.data?.error || 'Serveur indisponible'}`);
        }
      } else {
        setError(`Erreur ${err.response?.status || 'connexion'}: ${err.response?.data?.error || 'Vérifiez votre connexion'}`);
      }
      
      toast.error('Erreur lors du chargement de votre emploi du temps');
    } finally {
      setLoading(false);
    }
  };

  const formatTime = (timeStr) => {
    if (!timeStr) return '';
    return timeStr.substring(0, 5);
  };

  const calculateDuration = (start, end) => {
    if (!start || !end) return 0;
    const startTime = new Date(`2000-01-01T${start}`);
    const endTime = new Date(`2000-01-01T${end}`);
    const hours = (endTime - startTime) / (1000 * 60 * 60);
    return hours.toFixed(1);
  };

  const getDayColor = (day) => {
    const colors = {
      'Monday': '#1976d2',
      'Tuesday': '#2e7d32',
      'Wednesday': '#ed6c02',
      'Thursday': '#9c27b0',
      'Friday': '#d32f2f',
      'Lundi': '#1976d2',
      'Mardi': '#2e7d32',
      'Mercredi': '#ed6c02',
      'Jeudi': '#9c27b0',
      'Vendredi': '#d32f2f'
    };
    return colors[day] || '#616161';
  };

  const DayScheduleCard = ({ day, slots, color }) => {
    const hasSlots = slots && slots.length > 0;
    
    return (
      <Paper 
        sx={{ 
          mb: 2, 
          borderLeft: `4px solid ${color}`,
          borderRadius: 2,
          overflow: 'hidden',
          boxShadow: 2
        }}
      >
        <Box
          sx={{
            p: 2,
            bgcolor: `${color}15`,
            display: 'flex',
            justifyContent: 'space-between',
            alignItems: 'center',
            cursor: 'pointer',
            '&:hover': { bgcolor: `${color}25` }
          }}
          onClick={() => setExpandedDay(expandedDay === day ? null : day)}
        >
          <Box display="flex" alignItems="center" gap={2}>
            <Box sx={{ 
              width: 40, 
              height: 40, 
              borderRadius: '50%', 
              bgcolor: color, 
              display: 'flex', 
              alignItems: 'center', 
              justifyContent: 'center' 
            }}>
              <Typography color="white" fontWeight="bold">
                {day.substring(0, 1)}
              </Typography>
            </Box>
            <Box>
              <Typography variant="h6" fontWeight="600">
                {day}
              </Typography>
              <Typography variant="body2" color="textSecondary">
                {slots.length} cours programmé(s)
              </Typography>
            </Box>
          </Box>
          
          <Box display="flex" alignItems="center" gap={2}>
            <Chip 
              label={`${slots.length} cours`} 
              sx={{ 
                bgcolor: hasSlots ? `${color}30` : '#e0e0e0',
                color: hasSlots ? color : '#757575',
                fontWeight: 500
              }} 
            />
            {expandedDay === day ? 
              <KeyboardArrowDown sx={{ color: color }} /> : 
              <KeyboardArrowRight sx={{ color: color }} />
            }
          </Box>
        </Box>
        
        {expandedDay === day && (
          <Box sx={{ p: 2 }}>
            {hasSlots ? (
              <Grid container spacing={2}>
                {slots.map((slot, index) => {
                  const duration = calculateDuration(slot.start_time, slot.end_time);
                  
                  return (
                    <Grid item xs={12} key={index}>
                      <Paper 
                        sx={{ 
                          p: 2.5,
                          borderRadius: 2,
                          borderLeft: `4px solid ${color}`,
                          bgcolor: '#fafafa',
                          transition: 'all 0.2s',
                          '&:hover': {
                            bgcolor: '#f5f5f5',
                            transform: 'translateX(4px)',
                            boxShadow: 3
                          }
                        }}
                      >
                        <Grid container alignItems="center" spacing={2}>
                          <Grid item xs={12} md={2}>
                            <Box sx={{ textAlign: { xs: 'left', md: 'center' } }}>
                              <Typography variant="subtitle2" color="textSecondary" gutterBottom>
                                Horaire
                              </Typography>
                              <Box display="flex" alignItems="center" gap={1} justifyContent={{ xs: 'flex-start', md: 'center' }}>
                                <AccessTime sx={{ color: color, fontSize: 20 }} />
                                <Typography variant="h5" fontWeight="600" color={color}>
                                  {formatTime(slot.start_time)}
                                </Typography>
                                <Typography variant="body1" color="textSecondary" mx={1}>-</Typography>
                                <Typography variant="h6" fontWeight="500">
                                  {formatTime(slot.end_time)}
                                </Typography>
                              </Box>
                              <Chip 
                                label={`${duration}h`} 
                                size="small" 
                                sx={{ 
                                  bgcolor: `${color}20`, 
                                  color: color,
                                  fontWeight: '600',
                                  mt: 1
                                }} 
                              />
                            </Box>
                          </Grid>
                          
                          <Grid item xs={12} md={1}>
                            <Divider orientation="vertical" sx={{ height: '60px', display: { xs: 'none', md: 'block' } }} />
                          </Grid>
                          
                          <Grid item xs={12} md={4}>
                            <Box display="flex" alignItems="flex-start" gap={2}>
                              <Book sx={{ color: color, fontSize: 24, mt: 0.5 }} />
                              <Box>
                                <Typography variant="h6" fontWeight="600" gutterBottom>
                                  {slot.subject_name}
                                </Typography>
                                <Box display="flex" alignItems="center" gap={1} flexWrap="wrap">
                                  <Chip 
                                    label="Matière" 
                                    size="small" 
                                    variant="outlined" 
                                    sx={{ borderColor: color, color: color }}
                                  />
                                </Box>
                              </Box>
                            </Box>
                          </Grid>
                          
                          <Grid item xs={12} md={1}>
                            <Divider orientation="vertical" sx={{ height: '60px', display: { xs: 'none', md: 'block' } }} />
                          </Grid>
                          
                          <Grid item xs={12} md={3}>
                            <Box display="flex" alignItems="flex-start" gap={2}>
                              <Person sx={{ color: '#9c27b0', fontSize: 24, mt: 0.5 }} />
                              <Box>
                                <Typography variant="subtitle1" fontWeight="500" gutterBottom>
                                  {slot.teacher_name}
                                </Typography>
                                <Typography variant="body2" color="textSecondary">
                                  Enseignant
                                </Typography>
                              </Box>
                            </Box>
                          </Grid>
                          
                          <Grid item xs={12} md={2}>
                            <Box display="flex" alignItems="center" gap={1}>
                              <LocationOn sx={{ color: '#ed6c02', fontSize: 20 }} />
                              <Box>
                                <Typography variant="subtitle1" fontWeight="500">
                                  {slot.classroom || 'Salle à définir'}
                                </Typography>
                                <Typography variant="caption" color="textSecondary">
                                  Salle de classe
                                </Typography>
                              </Box>
                            </Box>
                          </Grid>
                        </Grid>
                      </Paper>
                    </Grid>
                  );
                })}
              </Grid>
            ) : (
              <Alert severity="info" sx={{ mt: 1, borderRadius: 2 }}>
                Aucun cours programmé pour ce jour
              </Alert>
            )}
          </Box>
        )}
      </Paper>
    );
  };

  const organizeSlotsByDay = (slots) => {
    const daysOrder = ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi'];
    const organized = {};
    
    daysOrder.forEach(day => {
      organized[day] = [];
    });
    
    if (slots && Array.isArray(slots)) {
      slots.forEach(slot => {
        const day = slot.day_display || slot.day;
        if (day && organized[day] !== undefined) {
          organized[day].push(slot);
        } else {
          // Gérer les jours en anglais
          const dayMapping = {
            'Monday': 'Lundi',
            'Tuesday': 'Mardi',
            'Wednesday': 'Mercredi',
            'Thursday': 'Jeudi',
            'Friday': 'Vendredi'
          };
          if (dayMapping[day]) {
            organized[dayMapping[day]].push(slot);
          }
        }
      });
      
      // Trier par heure
      daysOrder.forEach(day => {
        organized[day].sort((a, b) => {
          return a.start_time.localeCompare(b.start_time);
        });
      });
    }
    
    return organized;
  };

  const exportSchedule = () => {
    if (!schedule) return;
    
    const data = {
      student: studentInfo,
      schedule: schedule,
      exported_at: new Date().toISOString()
    };
    
    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `emploi-du-temps-${studentInfo?.username || 'etudiant'}-${new Date().toISOString().split('T')[0]}.json`;
    a.click();
    URL.revokeObjectURL(url);
    toast.success('? Emploi du temps exporté !');
  };

  const getCurrentDaySchedule = () => {
    if (!schedule?.schedule_by_day) return null;
    
    const days = ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi'];
    const today = new Date().toLocaleDateString('fr-FR', { weekday: 'long' });
    const todayIndex = days.indexOf(today);
    
    if (todayIndex === -1 || !schedule.schedule_by_day[days[todayIndex]]) {
      return null;
    }
    
    return {
      day: days[todayIndex],
      slots: schedule.schedule_by_day[days[todayIndex]]
    };
  };

  const todaySchedule = getCurrentDaySchedule();

  if (loading) {
    return (
      <Container maxWidth="lg" sx={{ py: 8, textAlign: 'center' }}>
        <CircularProgress size={60} sx={{ mb: 3 }} />
        <Typography variant="h5" color="primary">
          Chargement de votre emploi du temps...
        </Typography>
        <Typography variant="body1" color="textSecondary" sx={{ mt: 2 }}>
          Veuillez patienter quelques instants
        </Typography>
      </Container>
    );
  }

  return (
    <Container maxWidth="xl" sx={{ py: 4 }}>
      {/* Header */}
      <Paper sx={{ p: 4, mb: 4, borderRadius: 3, bgcolor: '#1976d2', color: 'white', boxShadow: 4 }}>
        <Box display="flex" justifyContent="space-between" alignItems="center">
          <Box>
            <Typography variant="h2" fontWeight="bold" gutterBottom>
              ??? Mon Emploi du Temps
            </Typography>
            <Typography variant="h5">
              Suivez votre programme académique
            </Typography>
          </Box>
          <Tooltip title="Rafraîchir">
            <IconButton 
              onClick={fetchStudentSchedule} 
              sx={{ 
                bgcolor: 'rgba(255,255,255,0.2)',
                color: 'white',
                '&:hover': { bgcolor: 'rgba(255,255,255,0.3)' }
              }}
              size="large"
            >
              <Refresh />
            </IconButton>
          </Tooltip>
        </Box>
      </Paper>

      {/* Informations étudiant */}
      <Paper sx={{ p: 3, mb: 4, borderRadius: 2, boxShadow: 2 }}>
        <Grid container spacing={3} alignItems="center">
          <Grid item>
            <Avatar sx={{ width: 80, height: 80, bgcolor: '#1976d2', fontSize: '2rem' }}>
              {studentInfo?.first_name?.[0] || studentInfo?.username?.[0] || 'E'}
            </Avatar>
          </Grid>
          <Grid item xs>
            <Typography variant="h4" fontWeight="600" gutterBottom>
              {studentInfo?.first_name} {studentInfo?.last_name}
            </Typography>
            <Box display="flex" gap={3} flexWrap="wrap">
              <Box display="flex" alignItems="center" gap={1}>
                <Email fontSize="small" color="action" />
                <Typography variant="body1">{studentInfo?.email}</Typography>
              </Box>
              <Box display="flex" alignItems="center" gap={1}>
                <School fontSize="small" color="action" />
                <Typography variant="body1">
                  Classe: <strong>{schedule?.class_name || 'Non assigné'}</strong>
                </Typography>
              </Box>
              {schedule?.updated_at && (
                <Box display="flex" alignItems="center" gap={1}>
                  <HistoryIcon fontSize="small" color="action" />
                  <Typography variant="body2" color="textSecondary">
                    Mis à jour le {new Date(schedule.updated_at).toLocaleDateString('fr-FR')}
                  </Typography>
                </Box>
              )}
            </Box>
          </Grid>
          <Grid item>
            <Box display="flex" gap={1}>
              <Tooltip title="Exporter mon emploi">
                <IconButton 
                  onClick={exportSchedule}
                  color="primary"
                  sx={{ 
                    bgcolor: '#e3f2fd',
                    '&:hover': { bgcolor: '#bbdefb' }
                  }}
                >
                  <Download />
                </IconButton>
              </Tooltip>
            </Box>
          </Grid>
        </Grid>
      </Paper>

      {/* Aujourd'hui (si des cours) */}
      {todaySchedule && todaySchedule.slots.length > 0 && (
        <Paper sx={{ p: 3, mb: 4, borderRadius: 2, boxShadow: 2, border: '2px solid #4caf50' }}>
          <Box display="flex" alignItems="center" gap={2} mb={2}>
            <Today sx={{ fontSize: 32, color: '#4caf50' }} />
            <Typography variant="h5" fontWeight="600" color="#2e7d32">
              ?? Aujourd'hui ({todaySchedule.day})
            </Typography>
          </Box>
          
          <Alert severity="success" sx={{ mb: 2, borderRadius: 2 }}>
            Vous avez {todaySchedule.slots.length} cours prévu(s) aujourd'hui
          </Alert>
          
          <Grid container spacing={2}>
            {todaySchedule.slots.map((slot, index) => (
              <Grid item xs={12} md={6} lg={4} key={index}>
                <Paper sx={{ p: 2, borderLeft: '4px solid #4caf50', height: '100%' }}>
                  <Typography variant="h6" color="#2e7d32" gutterBottom>
                    {formatTime(slot.start_time)} - {formatTime(slot.end_time)}
                  </Typography>
                  <Typography variant="subtitle1" fontWeight="500">
                    {slot.subject_name}
                  </Typography>
                  <Typography variant="body2" color="textSecondary" gutterBottom>
                    Avec {slot.teacher_name}
                  </Typography>
                  <Box display="flex" alignItems="center" gap={1}>
                    <LocationOn fontSize="small" color="action" />
                    <Typography variant="body2">
                      Salle {slot.classroom}
                    </Typography>
                  </Box>
                </Paper>
              </Grid>
            ))}
          </Grid>
        </Paper>
      )}

      {/* Emploi du temps complet OU message d'erreur */}
      {error ? (
        <Paper sx={{ p: 4, textAlign: 'center', borderRadius: 2 }}>
          <Error sx={{ fontSize: 60, color: '#f44336', mb: 2 }} />
          <Typography variant="h5" color="error" gutterBottom>
            Impossible de charger votre emploi du temps
          </Typography>
          <Typography variant="body1" color="textSecondary" sx={{ mb: 3 }}>
            {error}
          </Typography>
          <Alert severity="info" sx={{ maxWidth: 600, mx: 'auto' }}>
            <Typography variant="body2">
              Raisons possibles :
              <ul>
                <li>Votre classe n'a pas encore d'emploi du temps</li>
                <li>Vous n'êtes pas encore assigné à une classe</li>
                <li>L'administration est en train de préparer votre emploi</li>
              </ul>
            </Typography>
          </Alert>
        </Paper>
      ) : schedule?.has_schedule && schedule?.time_slots?.length > 0 ? (
        <>
          {/* Statistiques */}
          <Paper sx={{ p: 3, mb: 4, borderRadius: 2, boxShadow: 2 }}>
            <Typography variant="h5" gutterBottom sx={{ color: '#1976d2', mb: 3 }}>
              ?? Vue d'ensemble
            </Typography>
            
            <Grid container spacing={2}>
              <Grid item xs={6} md={3}>
                <Paper sx={{ p: 2, textAlign: 'center', bgcolor: '#e3f2fd' }}>
                  <Typography variant="h4" color="#1976d2" fontWeight="600">
                    {schedule.total_slots || 0}
                  </Typography>
                  <Typography variant="body2" color="textSecondary">
                    Créneaux total
                  </Typography>
                </Paper>
              </Grid>
              <Grid item xs={6} md={3}>
                <Paper sx={{ p: 2, textAlign: 'center', bgcolor: '#e8f5e9' }}>
                  <Typography variant="h4" color="#2e7d32" fontWeight="600">
                    {Object.keys(schedule.schedule_by_day || {}).filter(day => 
                      schedule.schedule_by_day[day]?.length > 0
                    ).length}
                  </Typography>
                  <Typography variant="body2" color="textSecondary">
                    Jours avec cours
                  </Typography>
                </Paper>
              </Grid>
              <Grid item xs={6} md={3}>
                <Paper sx={{ p: 2, textAlign: 'center', bgcolor: '#f3e5f5' }}>
                  <Typography variant="h4" color="#9c27b0" fontWeight="600">
                    {new Set(schedule.time_slots?.map(s => s.subject_name)).size}
                  </Typography>
                  <Typography variant="body2" color="textSecondary">
                    Matières différentes
                  </Typography>
                </Paper>
              </Grid>
              <Grid item xs={6} md={3}>
                <Paper sx={{ p: 2, textAlign: 'center', bgcolor: '#fff3e0' }}>
                  <Typography variant="h4" color="#ed6c02" fontWeight="600">
                    {schedule.time_slots?.reduce((acc, slot) => {
                      return acc + parseFloat(calculateDuration(slot.start_time, slot.end_time));
                    }, 0).toFixed(1)}h
                  </Typography>
                  <Typography variant="body2" color="textSecondary">
                    Heures totales
                  </Typography>
                </Paper>
              </Grid>
            </Grid>
          </Paper>

          {/* Emploi du temps détaillé */}
          <Paper sx={{ p: 3, borderRadius: 2, boxShadow: 3 }}>
            <Box display="flex" justifyContent="space-between" alignItems="center" mb={3}>
              <Typography variant="h4" sx={{ color: '#1976d2' }}>
                <CalendarMonth sx={{ mr: 1, verticalAlign: 'middle' }} />
                Emploi du temps hebdomadaire
              </Typography>
              <Chip 
                icon={<CheckCircle />} 
                label="Actif" 
                color="success" 
                variant="outlined" 
              />
            </Box>
            
            {(() => {
              const slotsByDay = organizeSlotsByDay(schedule.time_slots);
              const days = ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi'];
              
              return (
                <Box>
                  {days.map(day => (
                    <DayScheduleCard
                      key={day}
                      day={day}
                      slots={slotsByDay[day] || []}
                      color={getDayColor(day)}
                    />
                  ))}
                </Box>
              );
            })()}
          </Paper>
        </>
      ) : (
        // Aucun emploi du temps disponible
        <Paper sx={{ p: 6, textAlign: 'center', borderRadius: 3, boxShadow: 3 }}>
          <School sx={{ fontSize: 80, color: '#9e9e9e', mb: 3 }} />
          <Typography variant="h4" color="textSecondary" gutterBottom>
            Emploi du temps non disponible
          </Typography>
          <Typography variant="body1" sx={{ mb: 4, maxWidth: 600, mx: 'auto' }}>
            Votre emploi du temps est en cours de génération par l'administration.
            <br />
            Vous serez informé dès qu'il sera prêt. ??
          </Typography>
          
          <Alert severity="info" sx={{ maxWidth: 500, mx: 'auto', borderRadius: 2 }}>
            <Typography variant="body2">
              <strong>Prochaines étapes :</strong>
              <ol style={{ textAlign: 'left', marginTop: 8 }}>
                <li>L'administration doit créer votre emploi du temps</li>
                <li>Vos enseignants seront assignés à vos matières</li>
                <li>Vous recevrez une notification quand tout sera prêt</li>
              </ol>
            </Typography>
          </Alert>
          
          <Button 
            variant="contained" 
            startIcon={<Refresh />} 
            onClick={fetchStudentSchedule}
            sx={{ mt: 4, px: 4 }}
          >
            Vérifier maintenant
          </Button>
        </Paper>
      )}

      {/* Debug panel (seulement en développement) */}
      {process.env.NODE_ENV === 'development' && (
        <Paper sx={{ p: 2, mt: 4, bgcolor: '#f5f5f5' }}>
          <Typography variant="caption" color="textSecondary">
            Debug: {JSON.stringify({
              hasSchedule: schedule?.has_schedule,
              slotsCount: schedule?.time_slots?.length,
              class: schedule?.class_name
            })}
          </Typography>
        </Paper>
      )}
    </Container>
  );
}// src/pages/student/StudentSubjectChat.jsx
import React, { useState, useEffect, useRef } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import { toast } from 'react-toastify';
import api from '../../services/api';
import {
  Container, Paper, TextField, Button, Avatar,
  Typography, Box, IconButton, List, ListItem,
  ListItemAvatar, ListItemText, Divider, Badge,
  Chip, Grid, Card, CardContent, InputAdornment,
  Stack, alpha, styled
} from '@mui/material';
import {
  Send as SendIcon,
  ArrowBack as ArrowBackIcon,
  AttachFile as AttachFileIcon,
  EmojiEmotions as EmojiIcon,
  Download as DownloadIcon,
  VideoCall as VideoCallIcon,
  People as PeopleIcon,
  Book as BookIcon,
  Person as PersonIcon,
  MoreVert as MoreVertIcon
} from '@mui/icons-material';

export default function StudentSubjectChat() {
  const { subjectId } = useParams();
  const navigate = useNavigate();
  const [subject, setSubject] = useState(null);
  const [messages, setMessages] = useState([]);
  const [newMessage, setNewMessage] = useState('');
  const [participants, setParticipants] = useState([]);
  
  const messagesEndRef = useRef();
  const fileInputRef = useRef();

  useEffect(() => {
    loadSubjectData();
    loadMessages();
  }, [subjectId]);

  useEffect(() => {
    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
  }, [messages]);

  const loadSubjectData = async () => {
    try {
      const res = await api.get(`/classes/subjects/${subjectId}/`);
      setSubject(res.data);
      
      // Simuler des participants
      setParticipants([
        { id: 1, name: 'Dr. Smith', role: 'teacher', isOnline: true },
        { id: 2, name: 'Ahmed', role: 'student', isOnline: true },
        { id: 3, name: 'Fatima', role: 'student', isOnline: false },
        { id: 4, name: 'Karim', role: 'student', isOnline: true },
      ]);
    } catch (error) {
      console.error('Erreur chargement matière:', error);
      setSubject({
        id: subjectId,
        name: 'Algorithmique',
        teacher_name: 'Dr. Smith',
        class_name: 'ING1 Info'
      });
    }
  };

  const loadMessages = () => {
    // Messages simulés
    setMessages([
      {
        id: 1,
        sender: 'Dr. Smith',
        message: 'Bonjour à tous ! Avez-vous des questions sur le chapitre 2 ?',
        time: '09:30',
        isTeacher: true,
        attachments: []
      },
      {
        id: 2,
        sender: 'Ahmed',
        message: 'Oui, je ne comprends pas l\'exercice 3',
        time: '09:32',
        isTeacher: false,
        attachments: []
      },
      {
        id: 3,
        sender: 'Dr. Smith',
        message: 'Je vais expliquer en détail lors de la prochaine session',
        time: '09:33',
        isTeacher: true,
        attachments: [{ name: 'correction_ex3.pdf', size: '1.2MB' }]
      },
      {
        id: 4,
        sender: 'Fatima',
        message: 'Merci pour le document !',
        time: '09:35',
        isTeacher: false,
        attachments: []
      }
    ]);
  };

  const sendMessage = () => {
    if (!newMessage.trim()) return;
    
    const newMsg = {
      id: messages.length + 1,
      sender: 'Moi',
      message: newMessage,
      time: new Date().toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' }),
      isTeacher: false,
      attachments: []
    };
    
    setMessages(prev => [...prev, newMsg]);
    setNewMessage('');
  };

  const sendFile = (file) => {
    if (file) {
      toast.info(`Fichier "${file.name}" envoyé`);
      // Implémenter l'upload réel
    }
  };

  if (!subject) {
    return (
      <Container maxWidth="xl" sx={{ py: 4 }}>
        <LinearProgress />
      </Container>
    );
  }

  return (
    <Container maxWidth="xl" sx={{ py: 4 }}>
      {/* Header */}
      <Box sx={{ mb: 4 }}>
        <Button
          startIcon={<ArrowBackIcon />}
          onClick={() => navigate(`/student/subject/${subjectId}`)}
          sx={{ mb: 2 }}
        >
          Retour à la matière
        </Button>
        
        <Grid container alignItems="center" spacing={2}>
          <Grid item xs={12} md={8}>
            <Box display="flex" alignItems="center" gap={2}>
              <Avatar sx={{ bgcolor: '#e53935', width: 60, height: 60 }}>
                <BookIcon fontSize="large" />
              </Avatar>
              <Box>
                <Typography variant="h4" fontWeight="600">
                  ?? Chat - {subject.name}
                </Typography>
                <Typography variant="body1" color="textSecondary">
                  Discutez avec votre enseignant et vos camarades
                </Typography>
              </Box>
            </Box>
          </Grid>
          
          <Grid item xs={12} md={4} textAlign="right">
            <Button
              variant="contained"
              startIcon={<VideoCallIcon />}
              onClick={() => navigate('/student/live-sessions')}
              sx={{ 
                bgcolor: '#e53935',
                '&:hover': { bgcolor: '#c62828' }
              }}
            >
              Rejoindre une session live
            </Button>
          </Grid>
        </Grid>
      </Box>

      <Grid container spacing={3}>
        {/* Colonne gauche - Participants */}
        <Grid item xs={12} md={4}>
          <Card sx={{ height: '80vh', overflow: 'hidden', display: 'flex', flexDirection: 'column' }}>
            <CardContent sx={{ flex: 1, overflow: 'hidden', display: 'flex', flexDirection: 'column' }}>
              <Typography variant="h6" gutterBottom sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>
                <PeopleIcon />
                Participants ({participants.length})
              </Typography>
              
              <List sx={{ overflowY: 'auto', flex: 1 }}>
                {participants.map(participant => (
                  <ListItem
                    key={participant.id}
                    sx={{
                      borderRadius: 2,
                      mb: 1,
                      bgcolor: participant.role === 'teacher' ? 'rgba(229, 57, 53, 0.1)' : 'transparent'
                    }}
                  >
                    <ListItemAvatar>
                      <Badge
                        color="success"
                        variant="dot"
                        invisible={!participant.isOnline}
                      >
                        <Avatar sx={{ 
                          bgcolor: participant.role === 'teacher' ? '#e53935' : '#1976d2'
                        }}>
                          {participant.name.charAt(0)}
                        </Avatar>
                      </Badge>
                    </ListItemAvatar>
                    <ListItemText
                      primary={
                        <Box display="flex" alignItems="center" gap={1}>
                          <Typography variant="subtitle2" fontWeight="600">
                            {participant.name}
                          </Typography>
                          {participant.role === 'teacher' && (
                            <Chip label="Enseignant" size="small" color="error" />
                          )}
                          {participant.isOnline && (
                            <Chip label="En ligne" size="small" color="success" variant="outlined" />
                          )}
                        </Box>
                      }
                    />
                  </ListItem>
                ))}
              </List>
              
              <Divider sx={{ my: 2 }} />
              
              <Box>
                <Typography variant="subtitle2" gutterBottom>
                  ?? Fichiers partagés
                </Typography>
                <Stack spacing={1}>
                  <Box display="flex" alignItems="center" gap={1} sx={{ p: 1, borderRadius: 1, bgcolor: 'grey.50' }}>
                    <Avatar sx={{ bgcolor: '#e53935', width: 32, height: 32 }}>
                      <DownloadIcon fontSize="small" />
                    </Avatar>
                    <Box flex={1}>
                      <Typography variant="caption" fontWeight="600">
                        correction_ex3.pdf
                      </Typography>
                      <Typography variant="caption" color="textSecondary" display="block">
                        1.2MB • Dr. Smith
                      </Typography>
                    </Box>
                    <IconButton size="small">
                      <DownloadIcon fontSize="small" />
                    </IconButton>
                  </Box>
                </Stack>
              </Box>
            </CardContent>
          </Card>
        </Grid>

        {/* Colonne droite - Chat */}
        <Grid item xs={12} md={8}>
          <Card sx={{ height: '80vh', display: 'flex', flexDirection: 'column' }}>
            {/* Messages */}
            <Box sx={{ 
              flex: 1, 
              overflowY: 'auto', 
              p: 2,
              display: 'flex',
              flexDirection: 'column',
              gap: 2
            }}>
              {messages.map(msg => (
                <Box
                  key={msg.id}
                  sx={{
                    display: 'flex',
                    flexDirection: msg.sender === 'Moi' ? 'row-reverse' : 'row',
                    gap: 1,
                    alignItems: 'flex-start'
                  }}
                >
                  <Avatar sx={{ 
                    width: 32, 
                    height: 32,
                    bgcolor: msg.isTeacher ? '#e53935' : 
                             msg.sender === 'Moi' ? '#1976d2' : '#4caf50'
                  }}>
                    {msg.sender.charAt(0)}
                  </Avatar>
                  
                  <Box sx={{ maxWidth: '70%' }}>
                    <Paper
                      sx={{
                        p: 2,
                        borderRadius: 2,
                        borderTopRightRadius: msg.sender === 'Moi' ? 2 : 12,
                        borderTopLeftRadius: msg.sender === 'Moi' ? 12 : 2,
                        bgcolor: msg.sender === 'Moi' ? '#1976d2' : 
                                 msg.isTeacher ? 'rgba(229, 57, 53, 0.1)' : 'grey.100',
                        color: msg.sender === 'Moi' ? 'white' : 'text.primary'
                      }}
                    >
                      <Box display="flex" justifyContent="space-between" alignItems="center" mb={0.5}>
                        <Typography variant="caption" fontWeight="600">
                          {msg.sender}
                        </Typography>
                        <Typography variant="caption" color={msg.sender === 'Moi' ? 'rgba(255,255,255,0.7)' : 'text.secondary'}>
                          {msg.time}
                        </Typography>
                      </Box>
                      
                      <Typography variant="body2">
                        {msg.message}
                      </Typography>
                      
                      {msg.attachments.length > 0 && (
                        <Box sx={{ mt: 1, pt: 1, borderTop: 1, borderColor: 'divider' }}>
                          {msg.attachments.map((att, idx) => (
                            <Box key={idx} display="flex" alignItems="center" gap={1} sx={{ p: 1, borderRadius: 1, bgcolor: 'rgba(0,0,0,0.05)' }}>
                              <DownloadIcon fontSize="small" />
                              <Box flex={1}>
                                <Typography variant="caption" fontWeight="600">
                                  {att.name}
                                </Typography>
                                <Typography variant="caption" color="textSecondary" display="block">
                                  {att.size}
                                </Typography>
                              </Box>
                              <IconButton size="small">
                                <DownloadIcon fontSize="small" />
                              </IconButton>
                            </Box>
                          ))}
                        </Box>
                      )}
                    </Paper>
                  </Box>
                </Box>
              ))}
              <div ref={messagesEndRef} />
            </Box>

            {/* Input */}
            <Box sx={{ p: 2, borderTop: 1, borderColor: 'divider' }}>
              <Box display="flex" gap={1} alignItems="center">
                <IconButton onClick={() => fileInputRef.current.click()}>
                  <AttachFileIcon />
                </IconButton>
                <IconButton>
                  <EmojiIcon />
                </IconButton>
                <input
                  type="file"
                  ref={fileInputRef}
                  style={{ display: 'none' }}
                  onChange={(e) => sendFile(e.target.files[0])}
                />
                
                <TextField
                  fullWidth
                  placeholder="Écrivez votre message..."
                  value={newMessage}
                  onChange={(e) => setNewMessage(e.target.value)}
                  onKeyPress={(e) => e.key === 'Enter' && sendMessage()}
                  size="small"
                  variant="outlined"
                />
                
                <Button
                  variant="contained"
                  onClick={sendMessage}
                  startIcon={<SendIcon />}
                  sx={{ 
                    minWidth: 'auto',
                    bgcolor: '#e53935',
                    '&:hover': { bgcolor: '#c62828' }
                  }}
                >
                  Envoyer
                </Button>
              </Box>
            </Box>
          </Card>
        </Grid>
      </Grid>
    </Container>
  );
}  // src/pages/student/StudentSubjectDetails.jsx - FICHIER DE BASE
import React, { useState, useEffect } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import { toast } from 'react-toastify';
import api from '../../services/api';
import {
  Container,
  Grid,
  Card,
  CardContent,
  Typography,
  Button,
  Chip,
  Box,
  LinearProgress,
  Tabs,
  Tab,
  Avatar,
  IconButton,
  Paper,
  List,
  ListItem,
  ListItemAvatar,
  ListItemText,
  Divider,
  TextField,
  InputAdornment,
  alpha,
  styled
} from '@mui/material';
import {
  ArrowBack as ArrowBackIcon,
  Book as BookIcon,
  Assignment as AssignmentIcon,
  VideoLibrary as VideoIcon,
  Download as DownloadIcon,
  Visibility as ViewIcon,
  AccessTime as TimeIcon,
  Person as PersonIcon,
  School as SchoolIcon,
  Folder as FolderIcon
} from '@mui/icons-material';

export default function StudentSubjectDetails() {
  const { id } = useParams();
  const navigate = useNavigate();
  const [loading, setLoading] = useState(true);
  const [subject, setSubject] = useState(null);
  const [tabValue, setTabValue] = useState(0);

  useEffect(() => {
    loadSubjectData();
  }, [id]);

  const loadSubjectData = async () => {
    try {
      setLoading(true);
      const res = await api.get(`/classes/subjects/${id}/`);
      setSubject(res.data);
    } catch (err) {
      console.error('Erreur chargement matière:', err);
      toast.error('Erreur de chargement de la matière');
      navigate('/student/dashboard');
    } finally {
      setLoading(false);
    }
  };

  if (loading) {
    return (
      <Container maxWidth="xl" sx={{ py: 4 }}>
        <LinearProgress />
      </Container>
    );
  }

  if (!subject) {
    return (
      <Container maxWidth="xl" sx={{ py: 4, textAlign: 'center' }}>
        <Typography variant="h5" color="textSecondary">
          Matière introuvable
        </Typography>
        <Button
          startIcon={<ArrowBackIcon />}
          onClick={() => navigate('/student/dashboard')}
          sx={{ mt: 2 }}
        >
          Retour au tableau de bord
        </Button>
      </Container>
    );
  }

  return (
    <Container maxWidth="xl" sx={{ py: 4 }}>
      {/* Header */}
      <Box sx={{ mb: 4 }}>
        <Button
          startIcon={<ArrowBackIcon />}
          onClick={() => navigate('/student/dashboard')}
          sx={{ mb: 2 }}
        >
          Retour
        </Button>
        
        <Box display="flex" alignItems="center" gap={2} mb={2}>
          <Avatar sx={{ bgcolor: 'primary.main', width: 64, height: 64 }}>
            <BookIcon fontSize="large" />
          </Avatar>
          <Box>
            <Typography variant="h4" component="h1" fontWeight="600">
              {subject.name}
            </Typography>
            <Box display="flex" alignItems="center" gap={2} mt={1}>
              {subject.teacher_name && (
                <Chip
                  icon={<PersonIcon />}
                  label={subject.teacher_name}
                  size="small"
                  variant="outlined"
                />
              )}
              {subject.class_name && (
                <Chip
                  icon={<SchoolIcon />}
                  label={subject.class_name}
                  size="small"
                  variant="outlined"
                />
              )}
            </Box>
          </Box>
        </Box>
      </Box>

      {/* Tabs */}
      <Box sx={{ borderBottom: 1, borderColor: 'divider', mb: 4 }}>
        <Tabs
          value={tabValue}
          onChange={(e, v) => setTabValue(v)}
          variant="scrollable"
          scrollButtons="auto"
        >
          <Tab label="Aperçu" icon={<BookIcon />} />
          <Tab label="Cours" icon={<FolderIcon />} />
          <Tab label="Tests" icon={<AssignmentIcon />} />
          <Tab label="Ressources" icon={<VideoIcon />} />
        </Tabs>
      </Box>

      {/* Content */}
      <Card>
        <CardContent>
          <Typography variant="h6" fontWeight="600" gutterBottom>
            Description
          </Typography>
          <Typography paragraph>
            {subject.description || 'Aucune description disponible pour cette matière.'}
          </Typography>

          <Grid container spacing={3} sx={{ mt: 2 }}>
            <Grid item xs={12} md={6}>
              <Paper sx={{ p: 2 }}>
                <Typography variant="subtitle2" color="text.secondary" gutterBottom>
                  Informations
                </Typography>
                <List dense>
                  <ListItem>
                    <ListItemText
                      primary="Enseignant"
                      secondary={subject.teacher_name || 'Non assigné'}
                    />
                  </ListItem>
                  <ListItem>
                    <ListItemText
                      primary="Classe"
                      secondary={subject.class_name || 'Non assigné'}
                    />
                  </ListItem>
                  <ListItem>
                    <ListItemText
                      primary="Spécialité"
                      secondary={subject.specialty_name || 'Générale'}
                    />
                  </ListItem>
                </List>
              </Paper>
            </Grid>

            <Grid item xs={12} md={6}>
              <Paper sx={{ p: 2 }}>
                <Typography variant="subtitle2" color="text.secondary" gutterBottom>
                  Actions rapides
                </Typography>
                <Box display="flex" flexDirection="column" gap={1}>
                  <Button
                    variant="outlined"
                    startIcon={<FolderIcon />}
                    onClick={() => navigate(`/student/courses?subject=${id}`)}
                  >
                    Voir les cours
                  </Button>
                  <Button
                    variant="outlined"
                    startIcon={<AssignmentIcon />}
                    onClick={() => navigate(`/student/tests?subject=${id}`)}
                  >
                    Voir les tests
                  </Button>
                  <Button
                    variant="outlined"
                    startIcon={<VideoIcon />}
                    onClick={() => navigate(`/student/subject-chat/${id}`)}
                  >
                    Chat de la matière
                  </Button>
                </Box>
              </Paper>
            </Grid>
          </Grid>
        </CardContent>
      </Card>
    </Container>
  );
}// src/pages/student/StudentTests.jsx
import React, { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { toast } from 'react-toastify';
import api from '../../services/api';
import {
  Container,
  Grid,
  Card,
  CardContent,
  Typography,
  Button,
  Chip,
  Box,
  LinearProgress,
  Tabs,
  Tab,
  Avatar,
  IconButton,
  Paper,
  List,
  ListItem,
  ListItemAvatar,
  ListItemText,
  Divider,
  TextField,
  InputAdornment,
  Table,
  TableBody,
  TableCell,
  TableContainer,
  TableHead,
  TableRow,
  Dialog,
  DialogTitle,
  DialogContent,
  DialogActions,
  FormControl,
  Select,
  MenuItem,
  CircularProgress,
  alpha,
  styled
} from '@mui/material';
import {
  ArrowBack as ArrowBackIcon,
  Quiz as QuizIcon,
  Assignment as AssignmentIcon,
  EmojiEvents as TrophyIcon,
  AccessTime as TimeIcon,
  TrendingUp as TrendingUpIcon,
  FilterList as FilterIcon,
  Search as SearchIcon,
  PlayArrow as PlayArrowIcon,
  Visibility as ViewIcon,
  Download as DownloadIcon,
  MoreVert as MoreVertIcon,
  CheckCircle as CheckCircleIcon,
  Error as ErrorIcon,
  Schedule as ScheduleIcon,
  BarChart as BarChartIcon,
  People as PeopleIcon,
  School as SchoolIcon,
  Person as PersonIcon
} from '@mui/icons-material';

const TestCard = styled(Paper)(({ theme, status }) => ({
  padding: theme.spacing(3),
  borderRadius: '12px',
  height: '100%',
  border: '2px solid',
  borderColor: status === 'active' ? theme.palette.success.main :
               status === 'upcoming' ? theme.palette.info.main :
               status === 'ended' ? theme.palette.grey[400] :
               theme.palette.warning.main,
  transition: 'all 0.2s',
  '&:hover': {
    transform: 'translateY(-4px)',
    boxShadow: theme.shadows[8],
    backgroundColor: alpha(
      status === 'active' ? theme.palette.success.main :
      status === 'upcoming' ? theme.palette.info.main :
      status === 'ended' ? theme.palette.grey[400] :
      theme.palette.warning.main,
      0.02
    )
  }
}));

const ProgressCircle = styled(CircularProgress)(({ theme, value }) => ({
  color: value >= 80 ? theme.palette.success.main :
         value >= 60 ? theme.palette.warning.main :
         theme.palette.error.main
}));

export default function StudentTests() {
  const navigate = useNavigate();
  const [loading, setLoading] = useState(true);
  const [tabValue, setTabValue] = useState(0);
  const [tests, setTests] = useState([]);
  const [results, setResults] = useState([]);
  const [searchTerm, setSearchTerm] = useState('');
  const [filter, setFilter] = useState('all');
  const [selectedTest, setSelectedTest] = useState(null);
  const [openDetails, setOpenDetails] = useState(false);

  useEffect(() => {
    loadTests();
    loadResults();
  }, []);

  const loadTests = async () => {
    try {
      setLoading(true);
      const res = await api.get('/tests/my-quizzes/');
      
      // Si l'endpoint ne fonctionne pas, utilisez celui-ci
      // const res = await api.get('/tests/quizzes/');
      
      if (res.data && Array.isArray(res.data)) {
        setTests(res.data);
      } else {
        const mockTests = generateMockTests();
        setTests(mockTests);
      }
    } catch (err) {
      console.error('Erreur chargement tests:', err);
      const mockTests = generateMockTests();
      setTests(mockTests);
    } finally {
      setLoading(false);
    }
  };

  const loadResults = async () => {
    try {
      // Essayer différents endpoints
      const res = await api.get('/tests/results/');
      // Alternative: /api/tests/quiz-results/
      
      if (res.data && Array.isArray(res.data)) {
        setResults(res.data);
      } else {
        const mockResults = generateMockResults();
        setResults(mockResults);
      }
    } catch (err) {
      console.error('Erreur chargement résultats:', err);
      const mockResults = generateMockResults();
      setResults(mockResults);
    }
  };

  const generateMockTests = () => {
    const now = new Date();
    return [
      {
        id: 1,
        title: 'Quiz Algorithmique - Chapitre 1',
        subject: 'Algorithmique',
        teacher: 'Dr. Smith',
        type: 'quiz',
        duration: 45,
        total_marks: 20,
        passing_marks: 10,
        start_time: new Date(now.getTime() + 86400000).toISOString(),
        end_time: new Date(now.getTime() + 172800000).toISOString(),
        status: 'upcoming',
        description: 'Quiz sur les bases de l\'algorithmique',
        is_available: false
      },
      {
        id: 2,
        title: 'Examen Base de Données',
        subject: 'Base de Données',
        teacher: 'Prof. Johnson',
        type: 'exam',
        duration: 120,
        total_marks: 40,
        passing_marks: 20,
        start_time: new Date(now.getTime() - 172800000).toISOString(),
        end_time: new Date(now.getTime() - 86400000).toISOString(),
        status: 'ended',
        description: 'Examen final de base de données',
        is_available: false
      },
      {
        id: 3,
        title: 'Devoir Programmation Web',
        subject: 'Programmation Web',
        teacher: 'Dr. Williams',
        type: 'assignment',
        duration: 60,
        total_marks: 30,
        passing_marks: 15,
        start_time: new Date(now.getTime() - 43200000).toISOString(),
        end_time: new Date(now.getTime() + 43200000).toISOString(),
        status: 'active',
        description: 'Devoir sur les concepts avancés',
        is_available: true
      },
      {
        id: 4,
        title: 'Test Mathématiques',
        subject: 'Mathématiques',
        teacher: 'Prof. Martin',
        type: 'test',
        duration: 90,
        total_marks: 25,
        passing_marks: 12,
        start_time: new Date(now.getTime() + 604800000).toISOString(),
        end_time: new Date(now.getTime() + 691200000).toISOString(),
        status: 'upcoming',
        description: 'Test sur les fonctions et dérivées',
        is_available: false
      }
    ];
  };

  const generateMockResults = () => {
    return [
      {
        id: 1,
        test_title: 'Quiz Algorithmique - Chapitre 1',
        subject: 'Algorithmique',
        score: 16,
        total_marks: 20,
        percentage: 80,
        grade: 'B',
        date: '2024-01-15',
        rank: 5,
        time_taken: 35,
        is_passed: true
      },
      {
        id: 2,
        test_title: 'Examen Base de Données',
        subject: 'Base de Données',
        score: 32,
        total_marks: 40,
        percentage: 80,
        grade: 'B',
        date: '2024-01-10',
        rank: 2,
        time_taken: 110,
        is_passed: true
      },
      {
        id: 3,
        test_title: 'Devoir Programmation Web',
        subject: 'Programmation Web',
        score: 25,
        total_marks: 30,
        percentage: 83.3,
        grade: 'A',
        date: '2024-01-05',
        rank: 3,
        time_taken: 55,
        is_passed: true
      }
    ];
  };

  const getTestStatus = (test) => {
    if (test.status) return test.status;
    
    const now = new Date();
    const start = new Date(test.start_time);
    const end = new Date(test.end_time);
    
    if (now < start) return 'upcoming';
    if (now > end) return 'ended';
    return 'active';
  };

  const getStatusInfo = (status) => {
    switch (status) {
      case 'active': return { label: 'Actif', color: 'success', icon: <PlayArrowIcon /> };
      case 'upcoming': return { label: 'À venir', color: 'info', icon: <ScheduleIcon /> };
      case 'ended': return { label: 'Terminé', color: 'default', icon: <CheckCircleIcon /> };
      default: return { label: 'Inconnu', color: 'default', icon: <ErrorIcon /> };
    }
  };

  const getTypeIcon = (type) => {
    switch (type) {
      case 'quiz': return '?';
      case 'exam': return '??';
      case 'assignment': return '??';
      case 'test': return '??';
      default: return '??';
    }
  };

  const handleStartTest = (test) => {
    const status = getTestStatus(test);
    if (status === 'active') {
      navigate(`/student/take-test/${test.id}`);
    } else if (status === 'upcoming') {
      toast.info(`Le test "${test.title}" débutera le ${new Date(test.start_time).toLocaleDateString('fr-FR')}`);
    } else {
      toast.info(`Le test "${test.title}" est terminé`);
    }
  };

  const handleViewResults = (result) => {
    setSelectedTest(result);
    setOpenDetails(true);
  };

  const filteredTests = tests.filter(test => {
    if (filter !== 'all') {
      const status = getTestStatus(test);
      if (status !== filter) return false;
    }
    if (searchTerm && !test.title.toLowerCase().includes(searchTerm.toLowerCase())) {
      return false;
    }
    return true;
  });

  const stats = {
    totalTests: tests.length,
    activeTests: tests.filter(t => getTestStatus(t) === 'active').length,
    completedTests: results.length,
    averageScore: results.length > 0 
      ? results.reduce((sum, r) => sum + r.percentage, 0) / results.length 
      : 0,
    passedTests: results.filter(r => r.is_passed).length
  };

  if (loading) {
    return (
      <Container maxWidth="xl" sx={{ py: 4 }}>
        <Box display="flex" justifyContent="center" alignItems="center" minHeight="60vh">
          <CircularProgress size={60} />
        </Box>
      </Container>
    );
  }

  return (
    <Container maxWidth="xl" sx={{ py: 4 }}>
      {/* Header */}
      <Box sx={{ mb: 4 }}>
        <Button
          startIcon={<ArrowBackIcon />}
          onClick={() => navigate('/student/dashboard')}
          sx={{ mb: 2 }}
        >
          Retour
        </Button>
        
        <Grid container alignItems="center" justifyContent="space-between" spacing={2}>
          <Grid item>
            <Typography variant="h4" component="h1" fontWeight="600">
              ?? Tests & Examens
            </Typography>
            <Typography variant="body1" color="textSecondary">
              Gérez vos tests, quiz et examens
            </Typography>
          </Grid>
          <Grid item>
            <Button
              variant="contained"
              startIcon={<BarChartIcon />}
              onClick={() => navigate('/student/grades')}
            >
              Mes statistiques
            </Button>
          </Grid>
        </Grid>
      </Box>

      {/* Stats */}
      <Grid container spacing={3} sx={{ mb: 4 }}>
        <Grid item xs={12} sm={6} md={2.4}>
          <Card>
            <CardContent>
              <Box display="flex" alignItems="center" justifyContent="space-between">
                <Box>
                  <Typography color="textSecondary" variant="body2">
                    Total tests
                  </Typography>
                  <Typography variant="h4" fontWeight="600">
                    {stats.totalTests}
                  </Typography>
                </Box>
                <Avatar sx={{ bgcolor: 'primary.main' }}>
                  <QuizIcon />
                </Avatar>
              </Box>
            </CardContent>
          </Card>
        </Grid>
        <Grid item xs={12} sm={6} md={2.4}>
          <Card>
            <CardContent>
              <Box display="flex" alignItems="center" justifyContent="space-between">
                <Box>
                  <Typography color="textSecondary" variant="body2">
                    Actifs
                  </Typography>
                  <Typography variant="h4" fontWeight="600">
                    {stats.activeTests}
                  </Typography>
                </Box>
                <Avatar sx={{ bgcolor: 'success.main' }}>
                  <PlayArrowIcon />
                </Avatar>
              </Box>
            </CardContent>
          </Card>
        </Grid>
        <Grid item xs={12} sm={6} md={2.4}>
          <Card>
            <CardContent>
              <Box display="flex" alignItems="center" justifyContent="space-between">
                <Box>
                  <Typography color="textSecondary" variant="body2">
                    Terminés
                  </Typography>
                  <Typography variant="h4" fontWeight="600">
                    {stats.completedTests}
                  </Typography>
                </Box>
                <Avatar sx={{ bgcolor: 'info.main' }}>
                  <CheckCircleIcon />
                </Avatar>
              </Box>
            </CardContent>
          </Card>
        </Grid>
        <Grid item xs={12} sm={6} md={2.4}>
          <Card>
            <CardContent>
              <Box display="flex" alignItems="center" justifyContent="space-between">
                <Box>
                  <Typography color="textSecondary" variant="body2">
                    Moyenne
                  </Typography>
                  <Typography variant="h4" fontWeight="600">
                    {stats.averageScore.toFixed(1)}%
                  </Typography>
                </Box>
                <Avatar sx={{ bgcolor: 'warning.main' }}>
                  <TrendingUpIcon />
                </Avatar>
              </Box>
            </CardContent>
          </Card>
        </Grid>
        <Grid item xs={12} sm={6} md={2.4}>
          <Card>
            <CardContent>
              <Box display="flex" alignItems="center" justifyContent="space-between">
                <Box>
                  <Typography color="textSecondary" variant="body2">
                    Réussis
                  </Typography>
                  <Typography variant="h4" fontWeight="600">
                    {stats.passedTests}/{stats.completedTests}
                  </Typography>
                </Box>
                <Avatar sx={{ bgcolor: 'success.main' }}>
                  <TrophyIcon />
                </Avatar>
              </Box>
            </CardContent>
          </Card>
        </Grid>
      </Grid>

      {/* Tabs */}
      <Box sx={{ borderBottom: 1, borderColor: 'divider', mb: 4 }}>
        <Tabs value={tabValue} onChange={(e, v) => setTabValue(v)}>
          <Tab label="Tests disponibles" icon={<QuizIcon />} iconPosition="start" />
          <Tab label="Mes résultats" icon={<TrophyIcon />} iconPosition="start" />
          <Tab label="Calendrier" icon={<ScheduleIcon />} iconPosition="start" />
        </Tabs>
      </Box>

      {/* Tests Available Tab */}
      {tabValue === 0 && (
        <>
          <Box display="flex" justifyContent="space-between" alignItems="center" mb={4}>
            <Typography variant="h6" fontWeight="600">
              Tests disponibles ({filteredTests.length})
            </Typography>
            <Box display="flex" gap={1}>
              <TextField
                size="small"
                placeholder="Rechercher un test..."
                value={searchTerm}
                onChange={(e) => setSearchTerm(e.target.value)}
                InputProps={{
                  startAdornment: (
                    <InputAdornment position="start">
                      <SearchIcon />
                    </InputAdornment>
                  )
                }}
                sx={{ width: 300 }}
              />
              <FormControl size="small" sx={{ minWidth: 150 }}>
                <Select
                  value={filter}
                  onChange={(e) => setFilter(e.target.value)}
                  displayEmpty
                >
                  <MenuItem value="all">Tous les tests</MenuItem>
                  <MenuItem value="active">Actifs</MenuItem>
                  <MenuItem value="upcoming">À venir</MenuItem>
                  <MenuItem value="ended">Terminés</MenuItem>
                </Select>
              </FormControl>
            </Box>
          </Box>

          <Grid container spacing={3}>
            {filteredTests.map(test => {
              const status = getTestStatus(test);
              const statusInfo = getStatusInfo(status);
              
              return (
                <Grid item xs={12} md={6} key={test.id}>
                  <TestCard status={status}>
                    <Box display="flex" alignItems="flex-start" justifyContent="space-between" mb={2}>
                      <Box>
                        <Box display="flex" alignItems="center" gap={1} mb={1}>
                          <Typography variant="h5">
                            {getTypeIcon(test.type)}
                          </Typography>
                          <Typography variant="h6" fontWeight="600">
                            {test.title}
                          </Typography>
                        </Box>
                        <Chip
                          icon={statusInfo.icon}
                          label={statusInfo.label}
                          size="small"
                          color={statusInfo.color}
                          sx={{ mb: 1 }}
                        />
                      </Box>
                      <IconButton size="small">
                        <MoreVertIcon />
                      </IconButton>
                    </Box>

                    <Typography variant="body2" color="textSecondary" paragraph>
                      {test.description || 'Aucune description'}
                    </Typography>

                    <Grid container spacing={2} sx={{ mb: 3 }}>
                      <Grid item xs={6}>
                        <Box display="flex" alignItems="center" gap={1}>
                          <SchoolIcon fontSize="small" color="action" />
                          <Typography variant="body2">
                            {test.subject}
                          </Typography>
                        </Box>
                      </Grid>
                      <Grid item xs={6}>
                        <Box display="flex" alignItems="center" gap={1}>
                          <PersonIcon fontSize="small" color="action" />
                          <Typography variant="body2">
                            {test.teacher}
                          </Typography>
                        </Box>
                      </Grid>
                      <Grid item xs={6}>
                        <Box display="flex" alignItems="center" gap={1}>
                          <TimeIcon fontSize="small" color="action" />
                          <Typography variant="body2">
                            {test.duration} min
                          </Typography>
                        </Box>
                      </Grid>
                      <Grid item xs={6}>
                        <Box display="flex" alignItems="center" gap={1}>
                          <AssignmentIcon fontSize="small" color="action" />
                          <Typography variant="body2">
                            {test.total_marks} points
                          </Typography>
                        </Box>
                      </Grid>
                    </Grid>

                    <Box display="flex" justifyContent="space-between" alignItems="center">
                      <Box>
                        <Typography variant="caption" color="textSecondary" display="block">
                          Début
                        </Typography>
                        <Typography variant="body2" fontWeight="600">
                          {new Date(test.start_time).toLocaleDateString('fr-FR')}
                        </Typography>
                      </Box>
                      
                      <Button
                        variant={status === 'active' ? 'contained' : 'outlined'}
                        startIcon={status === 'active' ? <PlayArrowIcon /> : <ViewIcon />}
                        onClick={() => handleStartTest(test)}
                        disabled={status !== 'active'}
                      >
                        {status === 'active' ? 'Commencer' : 
                         status === 'upcoming' ? 'À venir' : 'Voir résultats'}
                      </Button>
                    </Box>
                  </TestCard>
                </Grid>
              );
            })}
          </Grid>
        </>
      )}

      {/* Results Tab */}
      {tabValue === 1 && (
        <>
          <Box display="flex" justifyContent="space-between" alignItems="center" mb={4}>
            <Typography variant="h6" fontWeight="600">
              Mes résultats ({results.length})
            </Typography>
            <Button
              variant="outlined"
              startIcon={<DownloadIcon />}
              onClick={() => toast.success('Export des résultats')}
            >
              Exporter
            </Button>
          </Box>

          <Grid container spacing={3}>
            {results.map(result => (
              <Grid item xs={12} md={6} key={result.id}>
                <Card>
                  <CardContent>
                    <Box display="flex" alignItems="center" justifyContent="space-between" mb={2}>
                      <Typography variant="h6" fontWeight="600">
                        {result.test_title}
                      </Typography>
                      <Chip
                        label={result.is_passed ? 'Réussi' : 'Échoué'}
                        color={result.is_passed ? 'success' : 'error'}
                        size="small"
                      />
                    </Box>

                    <Grid container spacing={2} sx={{ mb: 3 }}>
                      <Grid item xs={6}>
                        <Typography variant="body2" color="textSecondary">
                          Matière
                        </Typography>
                        <Typography variant="body1" fontWeight="600">
                          {result.subject}
                        </Typography>
                      </Grid>
                      <Grid item xs={6}>
                        <Typography variant="body2" color="textSecondary">
                          Date
                        </Typography>
                        <Typography variant="body1" fontWeight="600">
                          {new Date(result.date).toLocaleDateString('fr-FR')}
                        </Typography>
                      </Grid>
                    </Grid>

                    <Box display="flex" alignItems="center" justifyContent="space-between" mb={3} position="relative">
                      <Box textAlign="center" position="relative" width="80px" height="80px">
                        <ProgressCircle
                          variant="determinate"
                          value={result.percentage}
                          size={80}
                          thickness={4}
                        />
                        <Box
                          sx={{
                            position: 'absolute',
                            top: '50%',
                            left: '50%',
                            transform: 'translate(-50%, -50%)'
                          }}
                        >
                          <Typography variant="h6" fontWeight="600">
                            {result.percentage}%
                          </Typography>
                        </Box>
                      </Box>
                      
                      <Box textAlign="center">
                        <Typography variant="h2" fontWeight="600" color="primary.main">
                          {result.score}/{result.total_marks}
                        </Typography>
                        <Typography variant="body2" color="textSecondary">
                          Note
                        </Typography>
                      </Box>
                      
                      <Box textAlign="center">
                        <Typography variant="h4" fontWeight="600">
                          {result.grade}
                        </Typography>
                        <Typography variant="body2" color="textSecondary">
                          Grade
                        </Typography>
                      </Box>
                    </Box>

                    <Box display="flex" justifyContent="space-between" alignItems="center">
                      <Box display="flex" alignItems="center" gap={2}>
                        <Box display="flex" alignItems="center" gap={0.5}>
                          <TimeIcon fontSize="small" />
                          <Typography variant="body2">
                            {result.time_taken} min
                          </Typography>
                        </Box>
                        <Box display="flex" alignItems="center" gap={0.5}>
                          <PeopleIcon fontSize="small" />
                          <Typography variant="body2">
                            {result.rank}ème
                          </Typography>
                        </Box>
                      </Box>
                      
                      <Button
                        variant="outlined"
                        startIcon={<ViewIcon />}
                        onClick={() => handleViewResults(result)}
                      >
                        Détails
                      </Button>
                    </Box>
                  </CardContent>
                </Card>
              </Grid>
            ))}
          </Grid>
        </>
      )}

      {/* Calendar Tab */}
      {tabValue === 2 && (
        <Card>
          <CardContent>
            <Typography variant="h6" fontWeight="600" gutterBottom>
              ?? Calendrier des tests
            </Typography>
            
            <TableContainer>
              <Table>
                <TableHead>
                  <TableRow>
                    <TableCell>Test</TableCell>
                    <TableCell>Matière</TableCell>
                    <TableCell>Type</TableCell>
                    <TableCell>Début</TableCell>
                    <TableCell>Fin</TableCell>
                    <TableCell>Durée</TableCell>
                    <TableCell>Status</TableCell>
                    <TableCell>Actions</TableCell>
                  </TableRow>
                </TableHead>
                <TableBody>
                  {tests.map(test => {
                    const status = getTestStatus(test);
                    const statusInfo = getStatusInfo(status);
                    
                    return (
                      <TableRow key={test.id} hover>
                        <TableCell>
                          <Typography variant="subtitle2" fontWeight="600">
                            {test.title}
                          </Typography>
                        </TableCell>
                        <TableCell>{test.subject}</TableCell>
                        <TableCell>
                          <Chip
                            label={test.type}
                            size="small"
                            variant="outlined"
                          />
                        </TableCell>
                        <TableCell>
                          {new Date(test.start_time).toLocaleDateString('fr-FR')}
                          <br />
                          <Typography variant="caption" color="textSecondary">
                            {new Date(test.start_time).toLocaleTimeString('fr-FR', { 
                              hour: '2-digit', 
                              minute: '2-digit' 
                            })}
                          </Typography>
                        </TableCell>
                        <TableCell>
                          {new Date(test.end_time).toLocaleDateString('fr-FR')}
                          <br />
                          <Typography variant="caption" color="textSecondary">
                            {new Date(test.end_time).toLocaleTimeString('fr-FR', { 
                              hour: '2-digit', 
                              minute: '2-digit' 
                            })}
                          </Typography>
                        </TableCell>
                        <TableCell>{test.duration} min</TableCell>
                        <TableCell>
                          <Chip
                            icon={statusInfo.icon}
                            label={statusInfo.label}
                            size="small"
                            color={statusInfo.color}
                          />
                        </TableCell>
                        <TableCell>
                          <Button
                            size="small"
                            onClick={() => handleStartTest(test)}
                            disabled={status !== 'active'}
                          >
                            {status === 'active' ? 'Commencer' : 'Voir'}
                          </Button>
                        </TableCell>
                      </TableRow>
                    );
                  })}
                </TableBody>
              </Table>
            </TableContainer>
          </CardContent>
        </Card>
      )}

      {/* Results Details Dialog */}
      <Dialog
        open={openDetails}
        onClose={() => setOpenDetails(false)}
        maxWidth="md"
        fullWidth
      >
        {selectedTest && (
          <>
            <DialogTitle>
              <Box display="flex" alignItems="center" gap={1}>
                <TrophyIcon />
                Résultats détaillés
              </Box>
            </DialogTitle>
            <DialogContent>
              <Grid container spacing={3}>
                <Grid item xs={12}>
                  <Typography variant="h6" gutterBottom>
                    {selectedTest.test_title}
                  </Typography>
                  <Typography variant="body2" color="textSecondary" paragraph>
                    {selectedTest.subject} • {new Date(selectedTest.date).toLocaleDateString('fr-FR')}
                  </Typography>
                </Grid>
                
                <Grid item xs={12} md={6}>
                  <Card>
                    <CardContent>
                      <Typography variant="subtitle2" gutterBottom>
                        Performance
                      </Typography>
                      <Box textAlign="center" py={2} position="relative" height="120px">
                        <ProgressCircle
                          variant="determinate"
                          value={selectedTest.percentage}
                          size={120}
                          thickness={4}
                        />
                        <Box
                          sx={{
                            position: 'absolute',
                            top: '50%',
                            left: '50%',
                            transform: 'translate(-50%, -50%)'
                          }}
                        >
                          <Typography variant="h3" fontWeight="600">
                            {selectedTest.percentage}%
                          </Typography>
                        </Box>
                      </Box>
                    </CardContent>
                  </Card>
                </Grid>
                
                <Grid item xs={12} md={6}>
                  <Card>
                    <CardContent>
                      <Typography variant="subtitle2" gutterBottom>
                        Détails
                      </Typography>
                      <List dense>
                        <ListItem>
                          <ListItemText
                            primary="Note"
                            secondary={
                              <Typography variant="h6" color="primary">
                                {selectedTest.score}/{selectedTest.total_marks}
                              </Typography>
                            }
                          />
                        </ListItem>
                        <ListItem>
                          <ListItemText
                            primary="Grade"
                            secondary={
                              <Typography variant="h6" color="primary">
                                {selectedTest.grade}
                              </Typography>
                            }
                          />
                        </ListItem>
                        <ListItem>
                          <ListItemText
                            primary="Classement"
                            secondary={`${selectedTest.rank}ème`}
                          />
                        </ListItem>
                        <ListItem>
                          <ListItemText
                            primary="Temps pris"
                            secondary={`${selectedTest.time_taken} minutes`}
                          />
                        </ListItem>
                        <ListItem>
                          <ListItemText
                            primary="Statut"
                            secondary={
                              <Chip
                                label={selectedTest.is_passed ? 'Réussi' : 'Échoué'}
                                color={selectedTest.is_passed ? 'success' : 'error'}
                                size="small"
                              />
                            }
                          />
                        </ListItem>
                      </List>
                    </CardContent>
                  </Card>
                </Grid>
              </Grid>
            </DialogContent>
            <DialogActions>
              <Button onClick={() => setOpenDetails(false)}>Fermer</Button>
              <Button
                variant="contained"
                startIcon={<DownloadIcon />}
                onClick={() => {
                  toast.success('Téléchargement des résultats');
                  setOpenDetails(false);
                }}
              >
                Télécharger
              </Button>
            </DialogActions>
          </>
        )}
      </Dialog>
    </Container>
  );
}   //src/pages/shared LiveSessionTeams.jsx import React, { useState, useEffect, useRef } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';
import { toast } from 'react-toastify';
import api from '../../services/api';
import './LiveSessionTeams.css';

// Icons
import MicIcon from '@mui/icons-material/Mic';
import MicOffIcon from '@mui/icons-material/MicOff';
import VideocamIcon from '@mui/icons-material/Videocam';
import VideocamOffIcon from '@mui/icons-material/VideocamOff';
import ScreenShareIcon from '@mui/icons-material/ScreenShare';
import StopScreenShareIcon from '@mui/icons-material/StopScreenShare';
import ChatIcon from '@mui/icons-material/Chat';
import PeopleIcon from '@mui/icons-material/People';
import MoreVertIcon from '@mui/icons-material/MoreVert';
import CloseIcon from '@mui/icons-material/Close';
import FullscreenIcon from '@mui/icons-material/Fullscreen';
import FullscreenExitIcon from '@mui/icons-material/FullscreenExit';
import CallEndIcon from '@mui/icons-material/CallEnd';
import HandRaiseIcon from '@mui/icons-material/BackHand';
import NotificationsIcon from '@mui/icons-material/Notifications';
import DownloadIcon from '@mui/icons-material/Download';
import CameraIcon from '@mui/icons-material/Camera';
import VolumeUpIcon from '@mui/icons-material/VolumeUp';
import VolumeOffIcon from '@mui/icons-material/VolumeOff';
import ShareIcon from '@mui/icons-material/Share';
import DescriptionIcon from '@mui/icons-material/Description';
import EditIcon from '@mui/icons-material/Edit';
import GridViewIcon from '@mui/icons-material/GridView';
import ViewComfyIcon from '@mui/icons-material/ViewComfy';
import ScheduleIcon from '@mui/icons-material/Schedule';
import CheckCircleIcon from '@mui/icons-material/CheckCircle';
import ErrorIcon from '@mui/icons-material/Error';
import PlayCircleIcon from '@mui/icons-material/PlayCircle';
import StopCircleIcon from '@mui/icons-material/StopCircle';

export default function LiveSessionTeams() {
  const { meetingId } = useParams();
  const { user } = useAuth();
  const navigate = useNavigate();
  
  // États principaux
  const [session, setSession] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  const [participants, setParticipants] = useState([]);
  const [messages, setMessages] = useState([]);
  const [newMessage, setNewMessage] = useState('');
  
  // États média
  const [isAudioMuted, setIsAudioMuted] = useState(false);
  const [isVideoOff, setIsVideoOff] = useState(false);
  const [isScreenSharing, setIsScreenSharing] = useState(false);
  const [isWhiteboardActive, setIsWhiteboardActive] = useState(false);
  const [isChatOpen, setIsChatOpen] = useState(true);
  const [isParticipantsOpen, setIsParticipantsOpen] = useState(false);
  const [isFullscreen, setIsFullscreen] = useState(false);
  const [isRecording, setIsRecording] = useState(false);
  const [viewMode, setViewMode] = useState('grid'); // grid, focus, sidebar
  
  // Références
  const localVideoRef = useRef(null);
  const remoteVideoRef = useRef(null);
  const screenShareRef = useRef(null);
  const chatContainerRef = useRef(null);
  const whiteboardRef = useRef(null);
  const messagesEndRef = useRef(null);
  
  // Streams
  const [localStream, setLocalStream] = useState(null);
  const [remoteStreams, setRemoteStreams] = useState([]);
  const [screenStream, setScreenStream] = useState(null);
  
  // WebSocket pour le chat en temps réel
  const [ws, setWs] = useState(null);
  
  // Charger la session
  useEffect(() => {
    loadSession();
    
    // WebSocket pour le chat
    const websocket = new WebSocket(`ws://${window.location.host}/ws/chat/${meetingId}/`);
    
    websocket.onopen = () => {
      console.log('WebSocket connecté');
      setWs(websocket);
    };
    
    websocket.onmessage = (event) => {
      const data = JSON.parse(event.data);
      if (data.type === 'chat') {
        setMessages(prev => [...prev, {
          id: prev.length + 1,
          user: data.user,
          message: data.message,
          time: data.timestamp,
          isTeacher: data.user.includes('Dr.') || data.user.includes('Prof.')
        }]);
      }
    };
    
    return () => {
      if (websocket) websocket.close();
      stopAllMedia();
    };
  }, [meetingId]);
  
  const loadSession = async () => {
    try {
      // Récupérer les détails de la session
      const res = await api.get(`/live/sessions/?meeting_id=${meetingId}`);
      
      if (res.data.length > 0) {
        const sessionData = res.data[0];
        setSession(sessionData);
        
        // Joindre la session
        await joinSession(sessionData.id);
        
        // Initialiser les médias
        await initMedia();
        
        // Charger les participants
        loadParticipants(sessionData.id);
        
        // Charger les messages du chat
        loadChatMessages();
      } else {
        // Session simulée pour démo
        setSession({
          id: 1,
          title: 'Algorithmique Avancée - Séance Live',
          teacher: 'Dr. Smith',
          subject: { name: 'Algorithmique' },
          meeting_id: meetingId
        });
        
        // Simuler des participants
        setParticipants([
          { id: 1, user_details: { username: user.username, role: user.role }, is_presenter: user.role === 'teacher' },
          { id: 2, user_details: { username: 'Dr. Smith', role: 'teacher' }, is_presenter: true },
          { id: 3, user_details: { username: 'Ahmed', role: 'student' }, is_presenter: false },
          { id: 4, user_details: { username: 'Fatima', role: 'student' }, is_presenter: false },
        ]);
        
        loadChatMessages();
      }
    } catch (err) {
      console.error('Erreur:', err);
      // Utiliser des données simulées
      setSession({
        id: 1,
        title: 'Session de démonstration',
        teacher: 'Dr. Smith',
        subject: { name: 'Algorithmique' },
        meeting_id: meetingId
      });
      
      setParticipants([
        { id: 1, user_details: { username: user.username, role: user.role }, is_presenter: false },
        { id: 2, user_details: { username: 'Dr. Smith', role: 'teacher' }, is_presenter: true },
      ]);
      
      loadChatMessages();
    } finally {
      setLoading(false);
    }
  };
  
  const joinSession = async (sessionId) => {
    try {
      await api.post(`/live/sessions/${sessionId}/join/`);
      toast.success('Vous avez rejoint la session');
    } catch (err) {
      console.log('Session simulée pour démo');
    }
  };
  
  const initMedia = async () => {
    try {
      // Demander l'accès à la caméra et au micro
      const constraints = {
        video: {
          width: { ideal: 1280 },
          height: { ideal: 720 },
          facingMode: 'user'
        },
        audio: {
          echoCancellation: true,
          noiseSuppression: true,
          autoGainControl: true
        }
      };
      
      const stream = await navigator.mediaDevices.getUserMedia(constraints);
      setLocalStream(stream);
      
      if (localVideoRef.current) {
        localVideoRef.current.srcObject = stream;
      }
      
      toast.success('Média initialisés');
    } catch (err) {
      console.log('Accès média non autorisé ou non disponible');
      toast.info('Les médias ne sont pas disponibles, mais vous pouvez toujours participer');
    }
  };
  
  const loadParticipants = async (sessionId) => {
    try {
      const res = await api.get(`/live/sessions/${sessionId}/participants/`);
      setParticipants(res.data);
    } catch (err) {
      console.log('Participants simulés');
    }
  };
  
  const loadChatMessages = () => {
    // Messages initiaux
    const initialMessages = [
      {
        id: 1,
        user: 'Système',
        message: 'Bienvenue dans la session live !',
        time: new Date().toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' }),
        isTeacher: false
      },
      {
        id: 2,
        user: 'Dr. Smith',
        message: 'Bonjour à tous ! Nous allons commencer le cours sur les algorithmes de recherche.',
        time: new Date().toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' }),
        isTeacher: true
      }
    ];
    setMessages(initialMessages);
  };
  
  // Fonctions média
  const toggleAudio = () => {
    if (localStream) {
      const audioTrack = localStream.getAudioTracks()[0];
      if (audioTrack) {
        audioTrack.enabled = !audioTrack.enabled;
        setIsAudioMuted(!audioTrack.enabled);
        toast.info(`Micro ${audioTrack.enabled ? 'activé' : 'désactivé'}`);
      }
    } else {
      setIsAudioMuted(!isAudioMuted);
    }
  };
  
  const toggleVideo = () => {
    if (localStream) {
      const videoTrack = localStream.getVideoTracks()[0];
      if (videoTrack) {
        videoTrack.enabled = !videoTrack.enabled;
        setIsVideoOff(!videoTrack.enabled);
        toast.info(`Caméra ${videoTrack.enabled ? 'activée' : 'désactivée'}`);
      }
    } else {
      setIsVideoOff(!isVideoOff);
    }
  };
  
  const toggleScreenShare = async () => {
    if (!isScreenSharing) {
      try {
        const stream = await navigator.mediaDevices.getDisplayMedia({
          video: { cursor: 'always' },
          audio: true
        });
        
        setScreenStream(stream);
        setIsScreenSharing(true);
        
        if (screenShareRef.current) {
          screenShareRef.current.srcObject = stream;
        }
        
        stream.getVideoTracks()[0].onended = () => {
          stopScreenShare();
        };
        
        toast.success('Partage d\'écran activé');
      } catch (err) {
        toast.error('Erreur lors du partage d\'écran');
      }
    } else {
      stopScreenShare();
    }
  };
  
  const stopScreenShare = () => {
    if (screenStream) {
      screenStream.getTracks().forEach(track => track.stop());
      setScreenStream(null);
    }
    setIsScreenSharing(false);
    toast.info('Partage d\'écran désactivé');
  };
  
  const toggleRecording = () => {
    setIsRecording(!isRecording);
    toast.info(`Enregistrement ${!isRecording ? 'démarré' : 'arrêté'}`);
  };
  
  const toggleWhiteboard = () => {
    setIsWhiteboardActive(!isWhiteboardActive);
    toast.info(`Tableau blanc ${!isWhiteboardActive ? 'activé' : 'désactivé'}`);
  };
  
  const raiseHand = () => {
    toast.success('? Main levée !');
    
    // Envoyer une notification dans le chat
    const handMessage = {
      id: messages.length + 1,
      user: 'Système',
      message: `? ${user.username} a levé la main`,
      time: new Date().toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' }),
      isTeacher: false
    };
    
    setMessages(prev => [...prev, handMessage]);
    
    // Envoyer via WebSocket
    if (ws && ws.readyState === WebSocket.OPEN) {
      ws.send(JSON.stringify({
        type: 'hand_raised',
        user: user.username
      }));
    }
  };
  
  const stopAllMedia = () => {
    if (localStream) {
      localStream.getTracks().forEach(track => track.stop());
    }
    if (screenStream) {
      screenStream.getTracks().forEach(track => track.stop());
    }
  };
  
  // Chat
  const sendMessage = () => {
    if (!newMessage.trim()) return;
    
    const messageData = {
      user: user.username,
      message: newMessage,
      time: new Date().toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' }),
      isTeacher: user.role === 'teacher'
    };
    
    // Envoyer via WebSocket
    if (ws && ws.readyState === WebSocket.OPEN) {
      ws.send(JSON.stringify({
        type: 'chat',
        message: newMessage,
        user: user.username,
        timestamp: new Date().toISOString()
      }));
    }
    
    setMessages(prev => [...prev, { id: prev.length + 1, ...messageData }]);
    setNewMessage('');
  };
  
  const leaveSession = async () => {
    if (window.confirm('Quitter la session ?')) {
      try {
        if (session && session.id) {
          await api.post(`/live/sessions/${session.id}/leave/`);
        }
        stopAllMedia();
        toast.info('Vous avez quitté la session');
        navigate(user.role === 'teacher' ? '/teacher/dashboard' : '/student/dashboard');
      } catch (err) {
        console.error('Erreur:', err);
        navigate(user.role === 'teacher' ? '/teacher/dashboard' : '/student/dashboard');
      }
    }
  };
  
  const toggleFullscreen = () => {
    const elem = document.documentElement;
    
    if (!isFullscreen) {
      if (elem.requestFullscreen) {
        elem.requestFullscreen();
      }
    } else {
      if (document.exitFullscreen) {
        document.exitFullscreen();
      }
    }
    
    setIsFullscreen(!isFullscreen);
  };
  
  // Scroll automatique du chat
  useEffect(() => {
    if (messagesEndRef.current) {
      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });
    }
  }, [messages]);
  
  if (loading) {
    return (
      <div className="live-teams-loading">
        <div className="loading-spinner"></div>
        <h2>Connexion à la session...</h2>
        <p>Veuillez patienter</p>
      </div>
    );
  }
  
  return (
    <div className={`live-teams-container ${viewMode}`}>
      {/* Header */}
      <div className="teams-header">
        <div className="header-left">
          <div className="session-info">
            <h1>{session?.title || 'Session Live'}</h1>
            <div className="session-meta">
              <span className="meta-item">
                <PeopleIcon />
                {participants.length} participants
              </span>
              <span className="meta-item status-active">
                <div className="live-indicator"></div>
                EN DIRECT
              </span>
              <span className="meta-item">
                <ScheduleIcon />
                01:23:45
              </span>
            </div>
          </div>
        </div>
        
        <div className="header-right">
          <button 
            onClick={() => setViewMode(viewMode === 'grid' ? 'focus' : 'grid')}
            className="view-toggle"
          >
            {viewMode === 'grid' ? <GridViewIcon /> : <ViewComfyIcon />}
          </button>
          
          <button onClick={toggleFullscreen} className="fullscreen-btn">
            {isFullscreen ? <FullscreenExitIcon /> : <FullscreenIcon />}
          </button>
          
          <button onClick={leaveSession} className="leave-btn">
            <CallEndIcon />
            Quitter
          </button>
        </div>
      </div>
      
      {/* Main Content */}
      <div className="teams-main">
        {/* Zone vidéo principale */}
        <div className="video-area">
          {/* Écran partagé ou vidéo principale */}
          {isScreenSharing ? (
            <div className="screen-share-container">
              <video
                ref={screenShareRef}
                autoPlay
                playsInline
                className="screen-share-video"
              />
              <div className="screen-share-info">
                <ScreenShareIcon />
                <span>{user.username} partage son écran</span>
              </div>
            </div>
          ) : isWhiteboardActive ? (
            <div className="whiteboard-container">
              <canvas
                ref={whiteboardRef}
                width="1280"
                height="720"
                className="whiteboard-canvas"
              />
            </div>
          ) : (
            <div className={`video-grid ${viewMode}`}>
              {/* Vidéo de l'enseignant */}
              <div className="teacher-video main-video">
                <div className="video-placeholder">
                  <div className="avatar">DS</div>
                  <div className="user-info">
                    <span className="name">Dr. Smith</span>
                    <span className="role">Présentateur</span>
                  </div>
                </div>
              </div>
              
              {/* Grille des participants */}
              {participants.filter(p => !p.is_presenter).map(participant => (
                <div key={participant.id} className="participant-video">
                  <div className="video-placeholder">
                    <div className="avatar">
                      {participant.user_details?.username?.charAt(0) || 'U'}
                    </div>
                    <div className="user-info">
                      <span className="name">{participant.user_details?.username}</span>
                      <span className="role">Étudiant</span>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          )}
          
          {/* Ma vidéo (petit coin) */}
          {localStream && !isVideoOff && (
            <div className="local-video-preview">
              <video
                ref={localVideoRef}
                autoPlay
                muted
                playsInline
                className="video-preview"
              />
              <div className="preview-overlay">
                <span className="username">Vous</span>
                {isAudioMuted && <MicOffIcon />}
              </div>
            </div>
          )}
        </div>
        
        {/* Sidebar */}
        <div className={`teams-sidebar ${isChatOpen || isParticipantsOpen ? 'open' : ''}`}>
          {/* Onglets */}
          <div className="sidebar-tabs">
            <button 
              className={`tab-btn ${isChatOpen ? 'active' : ''}`}
              onClick={() => {
                setIsChatOpen(true);
                setIsParticipantsOpen(false);
              }}
            >
              <ChatIcon />
              Chat
            </button>
            <button 
              className={`tab-btn ${isParticipantsOpen ? 'active' : ''}`}
              onClick={() => {
                setIsParticipantsOpen(true);
                setIsChatOpen(false);
              }}
            >
              <PeopleIcon />
              Participants ({participants.length})
            </button>
            <button className="tab-btn" onClick={() => setIsChatOpen(!isChatOpen)}>
              <CloseIcon />
            </button>
          </div>
          
          {/* Contenu de la sidebar */}
          <div className="sidebar-content">
            {isChatOpen ? (
              <div className="chat-container">
                <div className="chat-header">
                  <h3>Chat de la session</h3>
                </div>
                
                <div className="chat-messages" ref={chatContainerRef}>
                  {messages.map(msg => (
                    <div
                      key={msg.id}
                      className={`message ${msg.user === user.username ? 'own' : ''} ${msg.isTeacher ? 'teacher' : ''}`}
                    >
                      <div className="message-header">
                        <span className="message-user">
                          {msg.user}
                          {msg.isTeacher && <span className="badge-teacher">?????</span>}
                        </span>
                        <span className="message-time">{msg.time}</span>
                      </div>
                      <div className="message-content">{msg.message}</div>
                    </div>
                  ))}
                  <div ref={messagesEndRef} />
                </div>
                
                <div className="chat-input">
                  <input
                    type="text"
                    value={newMessage}
                    onChange={(e) => setNewMessage(e.target.value)}
                    onKeyPress={(e) => e.key === 'Enter' && sendMessage()}
                    placeholder="Écrivez votre message..."
                  />
                  <button onClick={sendMessage} className="send-btn">
                    <ChatIcon />
                  </button>
                </div>
              </div>
            ) : (
              <div className="participants-container">
                <div className="participants-list">
                  {participants.map(participant => (
                    <div key={participant.id} className="participant-item">
                      <div className="participant-avatar">
                        {participant.user_details?.username?.charAt(0) || 'U'}
                      </div>
                      <div className="participant-details">
                        <div className="participant-name">
                          {participant.user_details?.username}
                          {participant.is_presenter && (
                            <span className="presenter-badge">Présentateur</span>
                          )}
                        </div>
                        <div className="participant-role">
                          {participant.user_details?.role === 'teacher' ? 'Enseignant' : 'Étudiant'}
                        </div>
                      </div>
                      <div className="participant-status">
                        <div className="status-indicator online"></div>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            )}
          </div>
        </div>
      </div>
      
      {/* Barre de contrôle */}
      <div className="teams-controls">
        <div className="controls-left">
          <button
            onClick={toggleAudio}
            className={`control-btn ${isAudioMuted ? 'active' : ''}`}
            title={isAudioMuted ? 'Activer le micro' : 'Désactiver le micro'}
          >
            {isAudioMuted ? <MicOffIcon /> : <MicIcon />}
          </button>
          
          <button
            onClick={toggleVideo}
            className={`control-btn ${isVideoOff ? 'active' : ''}`}
            title={isVideoOff ? 'Activer la caméra' : 'Désactiver la caméra'}
          >
            {isVideoOff ? <VideocamOffIcon /> : <VideocamIcon />}
          </button>
          
          <button
            onClick={toggleScreenShare}
            className={`control-btn ${isScreenSharing ? 'active' : ''}`}
            title={isScreenSharing ? 'Arrêter le partage' : 'Partager l\'écran'}
          >
            {isScreenSharing ? <StopScreenShareIcon /> : <ScreenShareIcon />}
          </button>
          
          <button
            onClick={toggleWhiteboard}
            className={`control-btn ${isWhiteboardActive ? 'active' : ''}`}
            title="Tableau blanc"
          >
            <EditIcon />
          </button>
          
          {user.role === 'student' && (
            <button onClick={raiseHand} className="control-btn raise-hand" title="Lever la main">
              <HandRaiseIcon />
            </button>
          )}
        </div>
        
        <div className="controls-center">
          <button 
            onClick={toggleRecording} 
            className={`control-btn record-btn ${isRecording ? 'recording' : ''}`}
            title={isRecording ? 'Arrêter l\'enregistrement' : 'Démarrer l\'enregistrement'}
          >
            {isRecording ? <StopCircleIcon /> : <PlayCircleIcon />}
            {isRecording && <span className="recording-indicator"></span>}
          </button>
        </div>
        
        <div className="controls-right">
          <button className="control-btn" title="Plus d'options">
            <MoreVertIcon />
          </button>
        </div>
      </div>
    </div>
  );
}   voila le backend premier aap   s'appel accounts   deja tavailler avec succe
 

# backend/accounts/models.py
from django.contrib.auth.models import AbstractUser
from django.db import models
from django.core.exceptions import ValidationError

class CustomUser(AbstractUser):
    ROLE_CHOICES = (
        ('superadmin', 'Super Admin'),
        ('admin', 'Admin'),
        ('teacher', 'Teacher'),
        ('student', 'Student'),
    )
    
    role = models.CharField(max_length=15, choices=ROLE_CHOICES, default='student')
    approved = models.BooleanField(default=False)
    
    # IMPORTANT: Utiliser une référence string pour éviter l'import circulaire
    specialty = models.ForeignKey(
        'classes.Specialty',
        on_delete=models.SET_NULL,
        null=True,
        blank=True,
        related_name='users'
    )
    
    email = models.EmailField(unique=True)
    
    USERNAME_FIELD = 'email'
    REQUIRED_FIELDS = ['username']

    class Meta:
        verbose_name = 'Utilisateur'
        verbose_name_plural = 'Utilisateurs'

    def __str__(self):
        return f"{self.email} ({self.role})"
    
    def get_full_name(self):
        full_name = f"{self.first_name} {self.last_name}"
        return full_name.strip() if full_name.strip() else self.username
    
    def clean(self):
        """Validation personnalisée"""
        if self.role == 'teacher' and not self.specialty:
            raise ValidationError({
                'specialty': 'Les enseignants doivent avoir une spécialité.'
            })
        
        if self.role == 'student' and self.specialty:
            self.specialty = None
    
    def save(self, *args, **kwargs):
        self.full_clean()
        super().save(*args, **kwargs)














# backend/accounts/permissions.py
from rest_framework.permissions import BasePermission

class IsSuperAdmin(BasePermission):
    def has_permission(self, request, view):
        return bool(
            request.user
            and request.user.is_authenticated
            and getattr(request.user, "role", None) == "superadmin"
        )

class IsAdmin(BasePermission):
    def has_permission(self, request, view):
        return bool(
            request.user
            and request.user.is_authenticated
            and getattr(request.user, "role", None) in ["admin", "superadmin"]
        )

class IsTeacher(BasePermission):
    def has_permission(self, request, view):
        return bool(
            request.user
            and request.user.is_authenticated
            and getattr(request.user, "role", None) == "teacher"
        )

class IsStudent(BasePermission):
    def has_permission(self, request, view):
        return bool(
            request.user
            and request.user.is_authenticated
            and getattr(request.user, "role", None) == "student"
        )


























# backend/accounts/serializers.py ? VERSION FINALE CORRIGÉE À 1000%
from rest_framework import serializers
from django.contrib.auth import get_user_model
from django.contrib.auth.password_validation import validate_password
from classes.models import Specialty  # ON UTILISE CELUI DE CLASSES

User = get_user_model()


class UserSerializer(serializers.ModelSerializer):
    specialty = serializers.StringRelatedField(read_only=True)

    class Meta:
        model = User
        fields = (
            "id", "username", "email", "first_name", "last_name",
            "role", "approved", "specialty", "is_staff", "is_superuser"
        )
        read_only_fields = ("id", "approved", "is_staff", "is_superuser")


# accounts/serializers.py ? REMPLACE LE CHAMP specialty DANS RegisterSerializer PAR ÇA :

class RegisterSerializer(serializers.ModelSerializer):
    password = serializers.CharField(write_only=True, required=True, validators=[validate_password])
    
    # Spécialité peut être soit un ID soit un nom
    specialty = serializers.CharField(
        required=False, 
        allow_blank=True, 
        allow_null=True,
        help_text="Pour les enseignants: ID ou nom de la spécialité"
    )

    class Meta:
        model = User
        fields = ("username", "email", "password", "first_name", "last_name", "role", "specialty")
        extra_kwargs = {
            'specialty': {'required': False}
        }

    def validate(self, attrs):
        role = attrs.get("role")
        specialty_input = attrs.get("specialty")

        # Validation pour les enseignants
        if role == "teacher":
            if not specialty_input:
                raise serializers.ValidationError({
                    "specialty": "La spécialité est obligatoire pour les enseignants."
                })
            
            try:
                # Essayer de trouver par ID
                if isinstance(specialty_input, int) or (isinstance(specialty_input, str) and specialty_input.isdigit()):
                    specialty_obj = Specialty.objects.get(id=int(specialty_input))
                else:
                    # Essayer de trouver par nom
                    specialty_obj = Specialty.objects.get(name__iexact=specialty_input.strip())
                
                attrs["specialty"] = specialty_obj
                
            except Specialty.DoesNotExist:
                # Afficher les spécialités disponibles
                specialties = Specialty.objects.values('id', 'name')
                available = ", ".join([f"{s['id']}:{s['name']}" for s in specialties])
                raise serializers.ValidationError({
                    "specialty": f"Spécialité '{specialty_input}' introuvable. Disponibles: {available}"
                })
                
        elif role == "student":
            # Les étudiants n'ont pas besoin de spécialité
            attrs["specialty"] = None
            
        return attrs

    def create(self, validated_data):
        password = validated_data.pop("password")
        specialty = validated_data.pop("specialty", None)

        user = User(**validated_data)
        user.set_password(password)
        
        # Les enseignants ne sont pas approuvés automatiquement
        user.approved = False
        
        user.save()

        if specialty:
            user.specialty = specialty
            user.save()

        return user


class AdminCreateSerializer(serializers.ModelSerializer):
    password = serializers.CharField(write_only=True, required=True)

    class Meta:
        model = User
        fields = ("username", "email", "password", "role", "first_name", "last_name")

    def validate_role(self, value):
        if value != "admin":
            raise serializers.ValidationError("Ce endpoint ne crée que des comptes admin.")
        return value

    def create(self, validated_data):
        password = validated_data.pop("password")
        user = User(**validated_data)
        user.set_password(password)
        user.role = "admin"
        user.approved = True
        user.is_staff = True
        user.is_superuser = False
        user.save()
        return user










# backend/accounts/urls.py - MIS À JOUR
from django.urls import path
from .views import (
    RegisterView, ProfileView, ApproveUserView, AdminCreateView, 
    MyTokenObtainPairView, UserListView, PendingUserListView,
    TeacherListView, StudentListView, get_users_by_role,
    get_current_user, change_password, check_username, user_stats
)
from rest_framework_simplejwt.views import TokenRefreshView

urlpatterns = [
    # Authentification
    path("register/", RegisterView.as_view(), name="register"),
    path("login/", MyTokenObtainPairView.as_view(), name="token_obtain_pair"),
    path("token/refresh/", TokenRefreshView.as_view(), name="token_refresh"),
    
    # Profil
    path("profile/", ProfileView.as_view(), name="profile"),
    path("profile/password/", change_password, name="change-password"),
    path("me/", get_current_user, name="current-user"),
    
    # Vérification
    path("check-username/", check_username, name="check-username"),
    
    # Gestion admin
    path("admin-create/", AdminCreateView.as_view(), name="admin-create"),
    path("approve/<int:pk>/", ApproveUserView.as_view(), name="approve-user"),
    
    # Listes
    path("users/", UserListView.as_view(), name="users-list"),
    path("pending/", PendingUserListView.as_view(), name="pending-users"),
    path("teachers/", TeacherListView.as_view(), name="teachers-list"),
    path("students/", StudentListView.as_view(), name="students-list"),
    
    # API utilitaires
    path("users/filter/", get_users_by_role, name="users-by-role"),
    path("stats/", user_stats, name="user-stats"),
]













# backend/accounts/views.py - VERSION COMPLÈTE CORRIGÉE
from rest_framework import generics, permissions, status, serializers
from rest_framework.response import Response
from rest_framework_simplejwt.views import TokenObtainPairView
from rest_framework_simplejwt.serializers import TokenObtainPairSerializer
from rest_framework.decorators import api_view, permission_classes
from django.contrib.auth import get_user_model
from django.db.models import Q
from classes.models import Class, Subject
from notifications.models import Notification
from .serializers import RegisterSerializer, UserSerializer, AdminCreateSerializer
from .permissions import IsSuperAdmin, IsAdmin, IsTeacher, IsStudent

User = get_user_model()

# ============================================
# AUTHENTIFICATION ET TOKENS JWT
# ============================================

class MyTokenObtainPairSerializer(TokenObtainPairSerializer):
    def validate(self, attrs):
        print("?? Validation des identifiants...")
        
        # Si on reçoit 'username' mais pas 'email', copier username dans email
        if 'username' in attrs and 'email' not in attrs:
            attrs['email'] = attrs['username']
            print(f"?? Copié username vers email: {attrs['email']}")
        
        # Si on reçoit 'email' mais pas 'username', copier email dans username
        elif 'email' in attrs and 'username' not in attrs:
            attrs['username'] = attrs['email']
            print(f"?? Copié email vers username: {attrs['username']}")
        
        print(f"?? Données finales: {attrs}")
        
        # Continuer avec la validation parente
        return super().validate(attrs)

class MyTokenObtainPairView(TokenObtainPairView):
    serializer_class = MyTokenObtainPairSerializer
    
    def post(self, request, *args, **kwargs):
        response = super().post(request, *args, **kwargs)
        
        # Pour le débogage
        print(f"Login attempt for data: {request.data}")
        
        return response

# ============================================
# INSCRIPTION ET PROFIL
# ============================================

class RegisterView(generics.CreateAPIView):
    queryset = User.objects.all()
    serializer_class = RegisterSerializer
    permission_classes = [permissions.AllowAny]
    
    def create(self, request, *args, **kwargs):
        try:
            response = super().create(request, *args, **kwargs)
            
            # Créer une notification pour l'admin
            if Notification.objects.exists():  # Si le modèle existe
                try:
                    # Trouver les admins
                    admins = User.objects.filter(role__in=['admin', 'superadmin'], approved=True)
                    for admin in admins:
                        Notification.objects.create(
                            user=admin,
                            title="Nouvelle inscription",
                            message=f"Un nouvel utilisateur ({request.data.get('role', 'inconnu')}) s'est inscrit : {request.data.get('username', '')}",
                            notification_type='info'
                        )
                except Exception as e:
                    print(f"Erreur création notification: {e}")
            
            return Response({
                "success": True,
                "message": "Inscription réussie ! Votre compte sera activé après approbation par un administrateur.",
                "data": response.data
            }, status=status.HTTP_201_CREATED)
            
        except Exception as e:
            return Response({
                "success": False,
                "message": str(e) if str(e) else "Erreur lors de l'inscription"
            }, status=status.HTTP_400_BAD_REQUEST)

class ProfileView(generics.RetrieveUpdateAPIView):
    serializer_class = UserSerializer
    permission_classes = [permissions.IsAuthenticated]

    def get_object(self):
        return self.request.user
    
    def update(self, request, *args, **kwargs):
        # Ne pas permettre la modification du rôle ou de l'approbation
        if 'role' in request.data:
            request.data.pop('role')
        if 'approved' in request.data:
            request.data.pop('approved')
        if 'is_staff' in request.data:
            request.data.pop('is_staff')
        if 'is_superuser' in request.data:
            request.data.pop('is_superuser')
        
        return super().update(request, *args, **kwargs)

# ============================================
# GESTION ADMIN DES UTILISATEURS
# ============================================

class UserListView(generics.ListAPIView):
    serializer_class = UserSerializer
    permission_classes = [IsAdmin | IsSuperAdmin]

    def get_queryset(self):
        queryset = User.objects.all()
        
        # Filtrage par rôle
        role = self.request.query_params.get('role', None)
        if role:
            queryset = queryset.filter(role=role)
        
        # Filtrage par statut d'approbation
        approved = self.request.query_params.get('approved', None)
        if approved:
            if approved.lower() == 'true':
                queryset = queryset.filter(approved=True)
            elif approved.lower() == 'false':
                queryset = queryset.filter(approved=False)
        
        # Recherche
        search = self.request.query_params.get('search', None)
        if search:
            queryset = queryset.filter(
                Q(username__icontains=search) |
                Q(email__icontains=search) |
                Q(first_name__icontains=search) |
                Q(last_name__icontains=search)
            )
        
        return queryset.order_by('-date_joined')

class PendingUserListView(generics.ListAPIView):
    serializer_class = UserSerializer
    permission_classes = [IsAdmin | IsSuperAdmin]

    def get_queryset(self):
        return User.objects.filter(approved=False, role__in=['student', 'teacher']).order_by('-date_joined')

class AdminCreateView(generics.CreateAPIView):
    serializer_class = AdminCreateSerializer
    permission_classes = [IsSuperAdmin]

class ApproveUserView(generics.UpdateAPIView):
    permission_classes = [IsAdmin | IsSuperAdmin]
    queryset = User.objects.all()
    lookup_field = 'pk'

    def post(self, request, *args, **kwargs):
        user = self.get_object()
        action = request.data.get("action", "approve")

        if action == "reject":
            username = user.username
            user.delete()
            
            # Notification de refus (si possible)
            try:
                Notification.objects.create(
                    user=user,
                    title="Compte refusé",
                    message="Votre demande d'inscription a été refusée.",
                    notification_type='error'
                )
            except:
                pass
                
            return Response({
                "success": True,
                "message": f"Compte de {username} refusé et supprimé"
            })

        if user.role == "student":
            class_id = request.data.get("class_id")
            if not class_id:
                return Response({
                    "success": False,
                    "message": "class_id requis pour étudiant"
                }, status=status.HTTP_400_BAD_REQUEST)
            
            try:
                cls = Class.objects.get(id=class_id)
                if cls.students.count() >= 30:
                    return Response({
                        "success": False,
                        "message": "Classe pleine (30 étudiants maximum)"
                    }, status=status.HTTP_400_BAD_REQUEST)
                
                cls.students.add(user)
                
            except Class.DoesNotExist:
                return Response({
                    "success": False,
                    "message": "Classe invalide"
                }, status=status.HTTP_400_BAD_REQUEST)

        # Approuver l'utilisateur
        user.approved = True
        user.save()

        # Notification de bienvenue
        try:
            Notification.objects.create(
                user=user,
                title="Compte approuvé !",
                message="Votre compte a été approuvé ! Bienvenue sur ITEAM University !",
                notification_type='success'
            )
        except:
            pass

        return Response({
            "success": True,
            "message": f"{user.username} approuvé avec succès !",
            "user": UserSerializer(user).data
        })

# ============================================
# VIEWS SPÉCIFIQUES PAR RÔLE
# ============================================

class TeacherListView(generics.ListAPIView):
    serializer_class = UserSerializer
    permission_classes = [IsAdmin | IsSuperAdmin]
    
    def get_queryset(self):
        return User.objects.filter(role='teacher', approved=True)

class StudentListView(generics.ListAPIView):
    serializer_class = UserSerializer
    permission_classes = [IsAdmin | IsSuperAdmin | IsTeacher]
    
    def get_queryset(self):
        # Les enseignants ne voient que leurs étudiants
        if self.request.user.role == 'teacher':
            # Récupérer les classes où l'enseignant a des matières
            teacher_subjects = Subject.objects.filter(teacher=self.request.user)
            class_ids = teacher_subjects.values_list('class_assigned', flat=True).distinct()
            
            # Récupérer les étudiants de ces classes
            classes = Class.objects.filter(id__in=class_ids)
            student_ids = []
            for cls in classes:
                student_ids.extend(cls.students.values_list('id', flat=True))
            
            return User.objects.filter(id__in=student_ids, role='student', approved=True)
        
        # Les admins voient tous les étudiants
        return User.objects.filter(role='student', approved=True)

# ============================================
# VIEWS API SIMPLES
# ============================================

@api_view(['GET'])
@permission_classes([permissions.IsAuthenticated])
def get_users_by_role(request):
    """
    Endpoint: GET /api/accounts/users/
    Params: ?role=student&approved=true
    Retourne uniquement les utilisateurs filtrés par rôle et statut approuvé
    """
    role = request.query_params.get('role')
    approved = request.query_params.get('approved')

    users = User.objects.all()

    # Filtrage par rôle
    if role:
        users = users.filter(role=role)
    
    # Filtrage par statut d'approbation
    if approved:
        if approved.lower() == 'true':
            users = users.filter(approved=True)
        elif approved.lower() == 'false':
            users = users.filter(approved=False)

    # Pour les enseignants, limiter l'accès
    if request.user.role == 'teacher':
        if role == 'student':
            # Les enseignants ne voient que leurs étudiants
            teacher_subjects = Subject.objects.filter(teacher=request.user)
            class_ids = teacher_subjects.values_list('class_assigned', flat=True).distinct()
            classes = Class.objects.filter(id__in=class_ids)
            student_ids = []
            for cls in classes:
                student_ids.extend(cls.students.values_list('id', flat=True))
            
            users = users.filter(id__in=student_ids, role='student')
        else:
            # Les enseignants ne peuvent voir que les étudiants
            return Response({
                "success": False,
                "message": "Vous n'avez pas la permission d'accéder à ces données."
            }, status=status.HTTP_403_FORBIDDEN)

    serializer = UserSerializer(users, many=True)
    
    return Response({
        "success": True,
        "count": users.count(),
        "users": serializer.data
    }, status=status.HTTP_200_OK)

@api_view(['GET'])
@permission_classes([permissions.IsAuthenticated])
def get_current_user(request):
    """Récupérer les informations de l'utilisateur courant"""
    serializer = UserSerializer(request.user)
    return Response({
        "success": True,
        "user": serializer.data
    })

@api_view(['POST'])
@permission_classes([permissions.IsAuthenticated])
def change_password(request):
    """Changer le mot de passe"""
    user = request.user
    old_password = request.data.get('old_password')
    new_password = request.data.get('new_password')
    
    if not old_password or not new_password:
        return Response({
            "success": False,
            "message": "Ancien et nouveau mot de passe requis"
        }, status=status.HTTP_400_BAD_REQUEST)
    
    # Vérifier l'ancien mot de passe
    if not user.check_password(old_password):
        return Response({
            "success": False,
            "message": "Ancien mot de passe incorrect"
        }, status=status.HTTP_400_BAD_REQUEST)
    
    # Changer le mot de passe
    user.set_password(new_password)
    user.save()
    
    return Response({
        "success": True,
        "message": "Mot de passe changé avec succès"
    })

@api_view(['GET'])
@permission_classes([permissions.AllowAny])
def check_username(request):
    """Vérifier si un username est disponible"""
    username = request.query_params.get('username')
    email = request.query_params.get('email')
    
    if username:
        exists = User.objects.filter(username__iexact=username).exists()
        return Response({
            "available": not exists,
            "message": "Username déjà pris" if exists else "Username disponible"
        })
    
    if email:
        exists = User.objects.filter(email__iexact=email).exists()
        return Response({
            "available": not exists,
            "message": "Email déjà utilisé" if exists else "Email disponible"
        })
    
    return Response({
        "success": False,
        "message": "Paramètre username ou email requis"
    }, status=status.HTTP_400_BAD_REQUEST)

# ============================================
# VIEWS POUR LES STATISTIQUES
# ============================================

@api_view(['GET'])
@permission_classes([IsAdmin | IsSuperAdmin])
def user_stats(request):
    """Statistiques sur les utilisateurs"""
    total_users = User.objects.count()
    approved_users = User.objects.filter(approved=True).count()
    pending_users = User.objects.filter(approved=False).count()
    
    role_stats = {}
    for role_code, role_name in User.ROLE_CHOICES:
        count = User.objects.filter(role=role_code).count()
        approved_count = User.objects.filter(role=role_code, approved=True).count()
        role_stats[role_code] = {
            'name': role_name,
            'total': count,
            'approved': approved_count,
            'pending': count - approved_count
        }
    
    return Response({
        "success": True,
        "stats": {
            "total_users": total_users,
            "approved_users": approved_users,
            "pending_users": pending_users,
            "by_role": role_stats,
            "approval_rate": (approved_users / total_users * 100) if total_users > 0 else 0
        }
    })






















deuxieme app s'appele classes c'esy pour le cree et stcoker les classes et les ensignient et les etudient  et affecter un classes final   deja travailler avec succee




# backend/classes/models.py
from django.db import models
from django.contrib.auth import get_user_model
from django.core.exceptions import ValidationError

# Utiliser get_user_model() pour éviter les imports circulaires
User = get_user_model()

class Specialty(models.Model):
    name = models.CharField(max_length=100, unique=True)
    description = models.TextField(blank=True, default='')
    
    class Meta:
        verbose_name_plural = "Specialties"
        ordering = ['name']
    
    def __str__(self):
        return self.name


class Class(models.Model):
    name = models.CharField(max_length=50, unique=True)
    max_students = models.IntegerField(default=30)
    
    # CORRECTION : Utiliser get_user_model() directement
    students = models.ManyToManyField(
        User,
        related_name='enrolled_classes',
        blank=True,
        # Enlever limit_choices_to car il cause des problèmes avec l'API
    )
    
    class Meta:
        ordering = ['name']
        verbose_name_plural = "Classes"
    
    def __str__(self):
        return self.name
    
    def student_count(self):
        """Retourne le nombre d'étudiants approuvés dans la classe"""
        return self.students.filter(role='student', approved=True).count()
    
    def is_full(self):
        return self.student_count() >= self.max_students
    
    def clean(self):
        """Validation personnalisée"""
        # S'assurer que le nom est unique
        if Class.objects.filter(name=self.name).exclude(id=self.id).exists():
            raise ValidationError(f"Une classe avec le nom '{self.name}' existe déjà.")
    
    def save(self, *args, **kwargs):
        self.full_clean()
        super().save(*args, **kwargs)


class Subject(models.Model):
    name = models.CharField(max_length=100)
    class_assigned = models.ForeignKey(
        Class, 
        on_delete=models.CASCADE, 
        related_name='subjects'
    )
    specialty = models.ForeignKey(
        Specialty, 
        on_delete=models.SET_NULL, 
        null=True,
        related_name='subjects'
    )
    teacher = models.ForeignKey(
        User,
        on_delete=models.SET_NULL,
        null=True,
        blank=True,
        related_name='teaching_subjects'
        # Enlever limit_choices_to pour éviter les problèmes
    )
    
    class Meta:
        unique_together = ('name', 'class_assigned')
        ordering = ['name']
    
    def __str__(self):
        return f"{self.name} ({self.class_assigned.name})"
    
    def clean(self):
        """Validation de la cohérence enseignant-spécialité"""
        if self.teacher and self.teacher.role != 'teacher':
            raise ValidationError("Seuls les enseignants peuvent être assignés à une matière.")
        
        if self.teacher and self.specialty:
            if self.teacher.specialty and self.teacher.specialty != self.specialty:
                raise ValidationError(
                    f"L'enseignant {self.teacher.get_full_name()} est spécialisé en "
                    f"{self.teacher.specialty.name}, mais cette matière est associée à "
                    f"{self.specialty.name}."
                )
    
    def save(self, *args, **kwargs):
        self.full_clean()
        super().save(*args, **kwargs)












# backend/classes/permissions.py
from rest_framework.permissions import BasePermission

class IsAdminOrSuperAdmin(BasePermission):
    def has_permission(self, request, view):
        return request.user.is_authenticated and request.user.role in ['admin', 'superadmin']












# backend/classes/serializers.py - CORRECTION
from rest_framework import serializers
from .models import Class, Subject, Specialty
from django.contrib.auth import get_user_model

User = get_user_model()


class StudentInClassSerializer(serializers.ModelSerializer):
    full_name = serializers.CharField(source='get_full_name', read_only=True)

    class Meta:
        model = User
        fields = ['id', 'username', 'first_name', 'last_name', 'full_name', 'email', 'approved']


class SubjectInClassSerializer(serializers.ModelSerializer):
    teacher_name = serializers.CharField(source='teacher.get_full_name', read_only=True, allow_null=True)
    teacher_username = serializers.CharField(source='teacher.username', read_only=True, allow_null=True)
    specialty_name = serializers.CharField(source='specialty.name', read_only=True, allow_null=True)

    class Meta:
        model = Subject
        fields = [
            'id', 'name', 'teacher', 'teacher_name', 'teacher_username',
            'specialty', 'specialty_name'
        ]


class ClassSerializer(serializers.ModelSerializer):
    students_count = serializers.SerializerMethodField()
    students = StudentInClassSerializer(many=True, read_only=True, source='students.all')
    subjects = SubjectInClassSerializer(many=True, read_only=True, source='subjects.all')
    # CORRECTION : Enlever le source='is_full' car le nom du champ est déjà is_full
    is_full = serializers.BooleanField(read_only=True)  # Enlever source='is_full'

    class Meta:
        model = Class
        fields = [
            'id', 'name', 'max_students',
            'students_count', 'students', 'subjects', 'is_full'
        ]
        read_only_fields = ['students_count', 'students', 'subjects', 'is_full']

    def get_students_count(self, obj):
        """Retourne le nombre d'étudiants approuvés dans la classe"""
        return obj.student_count()


class SpecialtySerializer(serializers.ModelSerializer):
    teacher_count = serializers.SerializerMethodField()
    
    class Meta:
        model = Specialty
        fields = ['id', 'name', 'description', 'teacher_count']
    
    def get_teacher_count(self, obj):
        """Retourne le nombre d'enseignants dans cette spécialité"""
        return User.objects.filter(role='teacher', specialty=obj).count()


class SubjectSerializer(serializers.ModelSerializer):
    class_name = serializers.CharField(source='class_assigned.name', read_only=True)
    teacher_name = serializers.CharField(source='teacher.get_full_name', read_only=True, allow_null=True)
    teacher_username = serializers.CharField(source='teacher.username', read_only=True, allow_null=True)
    specialty_name = serializers.CharField(source='specialty.name', read_only=True, allow_null=True)

    class Meta:
        model = Subject
        fields = [
            'id', 'name', 'class_assigned', 'class_name',
            'teacher', 'teacher_name', 'teacher_username',
            'specialty', 'specialty_name'
        ]













# backend/classes/urls.py
from rest_framework.routers import DefaultRouter
from .views import ClassViewSet, SubjectViewSet, SpecialtyViewSet

router = DefaultRouter()
router.register(r'classes', ClassViewSet)
router.register(r'subjects', SubjectViewSet)
router.register(r'specialties', SpecialtyViewSet)

urlpatterns = router.urls











# backend/classes/views.py - VERSION FINALE CORRIGÉE
from rest_framework import viewsets, status, permissions
from rest_framework.decorators import action
from rest_framework.response import Response
from django.contrib.auth import get_user_model
from django.shortcuts import get_object_or_404
from django.db import transaction
from .models import Class, Subject, Specialty
from .serializers import ClassSerializer, SubjectSerializer, SpecialtySerializer
from accounts.permissions import IsAdmin as IsAdminPermission

User = get_user_model()


# ========================================
# 1. SPÉCIALITÉS ? PUBLIQUE
# ========================================
class SpecialtyViewSet(viewsets.ModelViewSet):
    queryset = Specialty.objects.all().order_by('name')
    serializer_class = SpecialtySerializer

    def get_permissions(self):
        if self.action in ['list', 'retrieve']:
            return [permissions.AllowAny()]
        return [IsAdminPermission()]


# ========================================
# 2. GESTION DES CLASSES - VERSION CORRIGÉE
# ========================================
class ClassViewSet(viewsets.ModelViewSet):
    queryset = Class.objects.all().prefetch_related('subjects', 'students')
    serializer_class = ClassSerializer
    permission_classes = [IsAdminPermission]

    @action(detail=True, methods=['post'], url_path='add-student')
    def add_student(self, request, pk=None):
        """Ajouter un étudiant à une classe"""
        cls = self.get_object()
        user_id = request.data.get("user_id")
        
        if not user_id:
            return Response(
                {"detail": "user_id requis", "success": False}, 
                status=status.HTTP_400_BAD_REQUEST
            )

        try:
            user = User.objects.get(pk=user_id, role='student')
        except User.DoesNotExist:
            return Response(
                {"detail": "Étudiant non trouvé", "success": False}, 
                status=status.HTTP_404_NOT_FOUND
            )

        # Vérifier si l'étudiant est déjà dans une classe
        if user.enrolled_classes.exists():
            current_class = user.enrolled_classes.first()
            return Response({
                "detail": f"Cet étudiant est déjà dans la classe '{current_class.name}'",
                "success": False,
                "current_class": {
                    "id": current_class.id,
                    "name": current_class.name
                }
            }, status=status.HTTP_400_BAD_REQUEST)

        # Vérifier si la classe est pleine
        if cls.is_full():
            return Response({
                "detail": f"Cette classe est pleine ({cls.max_students} étudiants maximum)",
                "success": False,
                "max_students": cls.max_students,
                "current_count": cls.student_count()
            }, status=status.HTTP_400_BAD_REQUEST)

        try:
            # Ajouter l'étudiant à la classe
            cls.students.add(user)
            
            # Approuver automatiquement l'étudiant
            if not user.approved:
                user.approved = True
                user.save()

            return Response({
                "detail": f"{user.username} ajouté à {cls.name} avec succès !",
                "success": True,
                "student": {
                    "id": user.id,
                    "username": user.username,
                    "email": user.email,
                    "full_name": user.get_full_name(),
                    "approved": user.approved
                },
                "class_info": {
                    "id": cls.id,
                    "name": cls.name,
                    "student_count": cls.student_count(),
                    "max_students": cls.max_students,
                    "is_full": cls.is_full()
                }
            }, status=status.HTTP_200_OK)

        except Exception as e:
            return Response({
                "detail": f"Erreur lors de l'ajout: {str(e)}",
                "success": False
            }, status=status.HTTP_500_INTERNAL_SERVER_ERROR)

    @action(detail=True, methods=['post'], url_path='remove-student')
    def remove_student(self, request, pk=None):
        """Retirer un étudiant d'une classe"""
        cls = self.get_object()
        user_id = request.data.get("user_id")
        
        if not user_id:
            return Response(
                {"detail": "user_id requis", "success": False}, 
                status=status.HTTP_400_BAD_REQUEST
            )

        try:
            user = User.objects.get(pk=user_id, role='student')
        except User.DoesNotExist:
            return Response(
                {"detail": "Étudiant non trouvé", "success": False}, 
                status=status.HTTP_404_NOT_FOUND
            )

        # Vérifier si l'étudiant est dans cette classe
        if not cls.students.filter(id=user.id).exists():
            return Response({
                "detail": f"Cet étudiant n'est pas dans la classe '{cls.name}'",
                "success": False
            }, status=status.HTTP_400_BAD_REQUEST)

        try:
            # Retirer l'étudiant de la classe
            cls.students.remove(user)
            
            # Mettre l'étudiant en attente
            user.approved = False
            user.save()

            return Response({
                "detail": f"{user.username} retiré de {cls.name} et mis en attente",
                "success": True,
                "student": {
                    "id": user.id,
                    "username": user.username,
                    "approved": user.approved
                },
                "class_info": {
                    "id": cls.id,
                    "name": cls.name,
                    "student_count": cls.student_count()
                }
            }, status=status.HTTP_200_OK)

        except Exception as e:
            return Response({
                "detail": f"Erreur lors du retrait: {str(e)}",
                "success": False
            }, status=status.HTTP_500_INTERNAL_SERVER_ERROR)

    def destroy(self, request, *args, **kwargs):
        """Supprimer une classe et remettre les étudiants en attente"""
        cls = self.get_object()
        class_name = cls.name

        with transaction.atomic():
            # Récupérer tous les étudiants de la classe
            students = list(cls.students.filter(role='student'))
            
            # Supprimer la classe
            cls.delete()

            # Remettre tous les étudiants en attente
            for student in students:
                student.approved = False
                student.save()

        return Response(
            {
                "detail": f"Classe '{class_name}' supprimée.",
                "success": True,
                "students_affected": len(students),
                "message": f"{len(students)} étudiant(s) remis en attente."
            },
            status=status.HTTP_200_OK
        )


# ========================================
# 3. GESTION DES MATIÈRES
# ========================================
class SubjectViewSet(viewsets.ModelViewSet):
    queryset = Subject.objects.select_related('teacher', 'class_assigned', 'specialty')
    serializer_class = SubjectSerializer
    permission_classes = [IsAdminPermission]

    @action(detail=True, methods=['post'], url_path='assign-teacher')
    def assign_teacher(self, request, pk=None):
        subject = self.get_object()
        teacher_id = request.data.get('teacher_id')
        if not teacher_id:
            return Response({"detail": "teacher_id requis", "success": False}, status=400)

        teacher = get_object_or_404(User, pk=teacher_id, role='teacher')

        # Vérification spécialité
        if subject.specialty and teacher.specialty != subject.specialty:
            return Response({
                "detail": f"Spécialité requise : {subject.specialty.name}",
                "success": False
            }, status=400)

        old_teacher = subject.teacher
        subject.teacher = teacher
        subject.save()

        teacher.approved = True
        teacher.save()

        # Si l'ancien prof n'enseigne plus nulle part ? désapprouver
        if old_teacher and old_teacher != teacher:
            if Subject.objects.filter(teacher=old_teacher).count() == 0:
                old_teacher.approved = False
                old_teacher.save()

        return Response({
            "detail": f"{teacher.username} assigné à {subject.name} avec succès !",
            "success": True,
            "subject": {
                "id": subject.id,
                "name": subject.name,
                "teacher_name": teacher.get_full_name()
            }
        })

























3eme app live    # backend/live/models.py (nouveau fichier)
from django.db import models
from django.utils.crypto import get_random_string
from accounts.models import CustomUser
from classes.models import Subject

class LiveSession(models.Model):
    STATUS_CHOICES = [
        ('scheduled', 'Programmée'),
        ('live', 'En cours'),
        ('ended', 'Terminée'),
        ('cancelled', 'Annulée'),
    ]
    
    subject = models.ForeignKey(Subject, on_delete=models.CASCADE, related_name='live_sessions')
    teacher = models.ForeignKey(CustomUser, on_delete=models.CASCADE, related_name='hosted_sessions')
    title = models.CharField(max_length=200)
    description = models.TextField(blank=True)
    meeting_id = models.CharField(max_length=50, unique=True, editable=False)
    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='scheduled')
    start_time = models.DateTimeField()
    end_time = models.DateTimeField(null=True, blank=True)
    max_participants = models.IntegerField(default=50)
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    class Meta:
        ordering = ['-start_time']
    
    def __str__(self):
        return f"{self.title} - {self.subject.name}"
    
    def save(self, *args, **kwargs):
        if not self.meeting_id:
            self.meeting_id = get_random_string(10)
        super().save(*args, **kwargs)
    
    def is_active(self):
        return self.status == 'live'

class LiveParticipant(models.Model):
    session = models.ForeignKey(LiveSession, on_delete=models.CASCADE, related_name='participants')
    user = models.ForeignKey(CustomUser, on_delete=models.CASCADE)
    joined_at = models.DateTimeField(auto_now_add=True)
    left_at = models.DateTimeField(null=True, blank=True)
    is_presenter = models.BooleanField(default=False)
    audio_enabled = models.BooleanField(default=True)
    video_enabled = models.BooleanField(default=True)
    screen_sharing = models.BooleanField(default=False)
    
    class Meta:
        unique_together = ('session', 'user')
    
    def __str__(self):
        return f"{self.user.username} in {self.session.title}"

class ScreenShare(models.Model):
    session = models.ForeignKey(LiveSession, on_delete=models.CASCADE, related_name='screen_shares')
    user = models.ForeignKey(CustomUser, on_delete=models.CASCADE)
    stream_id = models.CharField(max_length=200)
    started_at = models.DateTimeField(auto_now_add=True)
    ended_at = models.DateTimeField(null=True, blank=True)
    is_active = models.BooleanField(default=True)
    
    class Meta:
        ordering = ['-started_at']















# backend/live/serializers.py
from rest_framework import serializers
from .models import LiveSession, LiveParticipant, ScreenShare
from accounts.serializers import UserSerializer
from classes.serializers import SubjectSerializer

class LiveParticipantSerializer(serializers.ModelSerializer):
    user_details = UserSerializer(source='user', read_only=True)
    
    class Meta:
        model = LiveParticipant
        fields = ['id', 'user', 'user_details', 'joined_at', 'left_at', 
                 'is_presenter', 'audio_enabled', 'video_enabled', 'screen_sharing']

class LiveSessionSerializer(serializers.ModelSerializer):
    subject_details = SubjectSerializer(source='subject', read_only=True)
    teacher_details = UserSerializer(source='teacher', read_only=True)
    participants = LiveParticipantSerializer(many=True, read_only=True)
    participants_count = serializers.SerializerMethodField()
    is_active = serializers.BooleanField(read_only=True)
    
    class Meta:
        model = LiveSession
        fields = ['id', 'title', 'description', 'subject', 'subject_details',
                 'teacher', 'teacher_details', 'meeting_id', 'status', 
                 'start_time', 'end_time', 'max_participants', 'participants',
                 'participants_count', 'is_active', 'created_at', 'updated_at']
        read_only_fields = ['meeting_id', 'created_at', 'updated_at']
    
    def get_participants_count(self, obj):
        return obj.participants.count()

class ScreenShareSerializer(serializers.ModelSerializer):
    user_details = UserSerializer(source='user', read_only=True)
    
    class Meta:
        model = ScreenShare
        fields = ['id', 'session', 'user', 'user_details', 'stream_id',
                 'started_at', 'ended_at', 'is_active']

class CreateLiveSessionSerializer(serializers.ModelSerializer):
    class Meta:
        model = LiveSession
        fields = ['title', 'description', 'subject', 'start_time', 'max_participants']
    
    def validate(self, data):
        # Vérifier que l'enseignant peut créer une session pour cette matière
        user = self.context['request'].user
        if user.role != 'teacher':
            raise serializers.ValidationError("Seuls les enseignants peuvent créer des sessions")
        
        subject = data.get('subject')
        if subject.teacher != user:
            raise serializers.ValidationError("Vous n'enseignez pas cette matière")
        
        return data

class JoinLiveSessionSerializer(serializers.Serializer):
    meeting_id = serializers.CharField(max_length=50, required=True)
    user_id = serializers.IntegerField(required=True)












from django.urls import path, include
from rest_framework.routers import DefaultRouter
from .views import LiveSessionViewSet, ScreenShareViewSet, JoinSessionView

router = DefaultRouter()
router.register(r'sessions', LiveSessionViewSet, basename='livesession')  # AJOUTÉ basename
router.register(r'screen-shares', ScreenShareViewSet, basename='screenshare')  # AJOUTÉ basename

urlpatterns = [
    path('', include(router.urls)),
    path('join/', JoinSessionView.as_view(), name='join-session'),
]









from rest_framework import viewsets, status, generics
from rest_framework.decorators import action
from rest_framework.response import Response
from rest_framework.permissions import IsAuthenticated
from rest_framework.views import APIView
from django.shortcuts import get_object_or_404
from django.utils import timezone
from datetime import timedelta
import uuid

from .models import LiveSession, LiveParticipant, ScreenShare
from .serializers import (LiveSessionSerializer, LiveParticipantSerializer,
                         ScreenShareSerializer, CreateLiveSessionSerializer,
                         JoinLiveSessionSerializer)
from accounts.permissions import IsTeacher, IsStudent, IsAdmin
from notifications.models import Notification

class LiveSessionViewSet(viewsets.ModelViewSet):
    queryset = LiveSession.objects.all()  # AJOUTÉ
    serializer_class = LiveSessionSerializer
    permission_classes = [IsAuthenticated]
    
    def get_queryset(self):
        user = self.request.user
        if user.role == 'admin' or user.role == 'superadmin':
            return LiveSession.objects.all()
        elif user.role == 'teacher':
            return LiveSession.objects.filter(teacher=user)
        elif user.role == 'student':
            # Sessions des matières où l'étudiant est inscrit
            student_classes = user.enrolled_classes.all()
            subject_ids = student_classes.values_list('subjects__id', flat=True)
            return LiveSession.objects.filter(subject_id__in=subject_ids)
        return LiveSession.objects.none()
    
    def get_serializer_class(self):
        if self.action == 'create':
            return CreateLiveSessionSerializer
        return LiveSessionSerializer
    
    def perform_create(self, serializer):
        serializer.save(teacher=self.request.user)
        
        # Notifier les étudiants de la classe
        session = serializer.instance
        subject = session.subject
        students = subject.class_assigned.students.all()
        
        for student in students:
            Notification.objects.create(
                user=student,
                title="Nouvelle session live",
                message=f"L'enseignant {self.request.user.get_full_name()} a programmé une session live pour {subject.name}",
                notification_type='info'
            )
    
    @action(detail=False, methods=['get'])
    def active(self, request):
        """Récupérer les sessions actives"""
        sessions = self.get_queryset().filter(status='live')
        serializer = self.get_serializer(sessions, many=True)
        return Response(serializer.data)
    
    @action(detail=False, methods=['get'])
    def upcoming(self, request):
        """Récupérer les sessions à venir"""
        now = timezone.now()
        next_24h = now + timedelta(hours=24)
        sessions = self.get_queryset().filter(
            status='scheduled',
            start_time__range=[now, next_24h]
        )
        serializer = self.get_serializer(sessions, many=True)
        return Response(serializer.data)
    
    @action(detail=True, methods=['post'])
    def start(self, request, pk=None):
        """Démarrer une session"""
        session = self.get_object()
        
        if session.teacher != request.user:
            return Response({"error": "Seul l'enseignant peut démarrer la session"}, 
                          status=status.HTTP_403_FORBIDDEN)
        
        session.status = 'live'
        session.start_time = timezone.now()
        session.save()
        
        # Notifier les étudiants
        students = session.subject.class_assigned.students.all()
        for student in students:
            Notification.objects.create(
                user=student,
                title="Session live démarrée",
                message=f"La session '{session.title}' a commencé. Rejoignez maintenant!",
                notification_type='info'
            )
        
        return Response({"message": "Session démarrée avec succès"})
    
    @action(detail=True, methods=['post'])
    def end(self, request, pk=None):
        """Terminer une session"""
        session = self.get_object()
        
        if session.teacher != request.user and request.user.role not in ['admin', 'superadmin']:
            return Response({"error": "Non autorisé"}, status=status.HTTP_403_FORBIDDEN)
        
        session.status = 'ended'
        session.end_time = timezone.now()
        session.save()
        
        return Response({"message": "Session terminée avec succès"})
    
    @action(detail=True, methods=['post'])
    def join(self, request, pk=None):
        """Rejoindre une session"""
        session = self.get_object()
        user = request.user
        
        # Vérifier les permissions
        if user.role == 'student':
            if user not in session.subject.class_assigned.students.all():
                return Response({"error": "Vous n'êtes pas inscrit dans cette classe"},
                              status=status.HTTP_403_FORBIDDEN)
        
        # Vérifier si la session est active
        if session.status != 'live':
            return Response({"error": "La session n'est pas active"},
                          status=status.HTTP_400_BAD_REQUEST)
        
        # Vérifier le nombre maximum de participants
        if session.participants.count() >= session.max_participants:
            return Response({"error": "Session pleine"},
                          status=status.HTTP_400_BAD_REQUEST)
        
        # Ajouter le participant
        participant, created = LiveParticipant.objects.get_or_create(
            session=session,
            user=user,
            defaults={'is_presenter': user.role == 'teacher'}
        )
        
        if not created:
            participant.left_at = None
            participant.save()
        
        return Response({
            "message": "Vous avez rejoint la session",
            "meeting_id": session.meeting_id,
            "is_presenter": participant.is_presenter
        })
    
    @action(detail=True, methods=['post'])
    def leave(self, request, pk=None):
        """Quitter une session"""
        session = self.get_object()
        user = request.user
        
        try:
            participant = LiveParticipant.objects.get(session=session, user=user)
            participant.left_at = timezone.now()
            participant.save()
            
            # Si c'est l'enseignant qui quitte, terminer la session
            if user.role == 'teacher':
                session.status = 'ended'
                session.end_time = timezone.now()
                session.save()
            
            return Response({"message": "Vous avez quitté la session"})
        except LiveParticipant.DoesNotExist:
            return Response({"error": "Vous n'êtes pas dans cette session"},
                          status=status.HTTP_400_BAD_REQUEST)
    
    @action(detail=True, methods=['get'])
    def participants(self, request, pk=None):
        """Liste des participants"""
        session = self.get_object()
        participants = session.participants.all()
        serializer = LiveParticipantSerializer(participants, many=True)
        return Response(serializer.data)
    
    @action(detail=True, methods=['post'])
    def toggle_audio(self, request, pk=None):
        """Activer/désactiver l'audio"""
        session = self.get_object()
        user = request.user
        
        try:
            participant = LiveParticipant.objects.get(session=session, user=user)
            participant.audio_enabled = not participant.audio_enabled
            participant.save()
            
            return Response({
                "message": f"Audio {'activé' if participant.audio_enabled else 'désactivé'}",
                "audio_enabled": participant.audio_enabled
            })
        except LiveParticipant.DoesNotExist:
            return Response({"error": "Vous n'êtes pas dans cette session"},
                          status=status.HTTP_400_BAD_REQUEST)
    
    @action(detail=True, methods=['post'])
    def toggle_video(self, request, pk=None):
        """Activer/désactiver la vidéo"""
        session = self.get_object()
        user = request.user
        
        try:
            participant = LiveParticipant.objects.get(session=session, user=user)
            participant.video_enabled = not participant.video_enabled
            participant.save()
            
            return Response({
                "message": f"Vidéo {'activée' if participant.video_enabled else 'désactivée'}",
                "video_enabled": participant.video_enabled
            })
        except LiveParticipant.DoesNotExist:
            return Response({"error": "Vous n'êtes pas dans cette session"},
                          status=status.HTTP_400_BAD_REQUEST)
    
    @action(detail=True, methods=['post'])
    def toggle_screen_share(self, request, pk=None):
        """Activer/désactiver le partage d'écran"""
        session = self.get_object()
        user = request.user
        
        try:
            participant = LiveParticipant.objects.get(session=session, user=user)
            participant.screen_sharing = not participant.screen_sharing
            participant.save()
            
            # Créer ou mettre à jour l'entrée ScreenShare
            if participant.screen_sharing:
                ScreenShare.objects.create(
                    session=session,
                    user=user,
                    stream_id=request.data.get('stream_id', str(uuid.uuid4()))
                )
            else:
                screen_share = ScreenShare.objects.filter(
                    session=session,
                    user=user,
                    is_active=True
                ).first()
                if screen_share:
                    screen_share.is_active = False
                    screen_share.ended_at = timezone.now()
                    screen_share.save()
            
            return Response({
                "message": f"Partage d'écran {'activé' if participant.screen_sharing else 'désactivé'}",
                "screen_sharing": participant.screen_sharing
            })
        except LiveParticipant.DoesNotExist:
            return Response({"error": "Vous n'êtes pas dans cette session"},
                          status=status.HTTP_400_BAD_REQUEST)

class JoinSessionView(APIView):
    permission_classes = [IsAuthenticated]
    
    def post(self, request):
        serializer = JoinLiveSessionSerializer(data=request.data)
        if serializer.is_valid():
            meeting_id = serializer.validated_data['meeting_id']
            
            try:
                session = LiveSession.objects.get(meeting_id=meeting_id, status='live')
                
                # Vérifier les permissions
                user = request.user
                if user.role == 'student':
                    if user not in session.subject.class_assigned.students.all():
                        return Response({"error": "Accès non autorisé"},
                                      status=status.HTTP_403_FORBIDDEN)
                
                # Ajouter le participant
                participant, created = LiveParticipant.objects.get_or_create(
                    session=session,
                    user=user,
                    defaults={'is_presenter': user.role == 'teacher'}
                )
                
                return Response({
                    "success": True,
                    "session": LiveSessionSerializer(session).data,
                    "is_presenter": participant.is_presenter
                })
                
            except LiveSession.DoesNotExist:
                return Response({"error": "Session non trouvée ou inactive"},
                              status=status.HTTP_404_NOT_FOUND)
        
        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)

class ScreenShareViewSet(viewsets.ModelViewSet):
    queryset = ScreenShare.objects.all()  # AJOUTÉ
    serializer_class = ScreenShareSerializer
    permission_classes = [IsAuthenticated]
    
    def get_queryset(self):
        return ScreenShare.objects.filter(is_active=True)












4eme app courses      models.py

from django.db import models
from classes.models import Subject
from accounts.models import CustomUser

class Course(models.Model):
    title = models.CharField(max_length=200)
    description = models.TextField()
    subject = models.ForeignKey(Subject, on_delete=models.CASCADE)
    teacher = models.ForeignKey(
        CustomUser,
        limit_choices_to={'role': 'teacher'},
        on_delete=models.CASCADE
    )

class File(models.Model):
    course = models.ForeignKey(Course, on_delete=models.CASCADE)
    file = models.FileField(upload_to='courses/files/')
    uploaded_by = models.ForeignKey(CustomUser, on_delete=models.CASCADE)
    uploaded_at = models.DateTimeField(auto_now_add=True)












serializers.py  


from rest_framework import serializers
from .models import Course, File

class CourseSerializer(serializers.ModelSerializer):
    class Meta:
        model = Course
        fields = ("id", "title", "description", "subject", "teacher")
        read_only_fields = ("teacher",)

class FileSerializer(serializers.ModelSerializer):
    class Meta:
        model = File
        fields = ("id", "course", "file", "uploaded_by", "uploaded_at")
        read_only_fields = ("uploaded_by", "uploaded_at")




urls.py


from rest_framework import routers
from .views import CourseViewSet
from django.urls import path, include

router = routers.DefaultRouter()
router.register(r"courses", CourseViewSet, basename="courses")

urlpatterns = [path("", include(router.urls))]








views.py



from rest_framework import viewsets, permissions
from .models import Course, File
from .serializers import CourseSerializer, FileSerializer
from accounts.permissions import IsTeacher, IsAdmin, IsStudent

class CourseViewSet(viewsets.ModelViewSet):
    queryset = Course.objects.all()
    serializer_class = CourseSerializer

    def get_permissions(self):
        if self.action in ("create", "update", "partial_update", "destroy"):
            return [IsTeacher() | IsAdmin()]
        return [permissions.IsAuthenticated()]

    def perform_create(self, serializer):
        serializer.save(teacher=self.request.user)

class FileViewSet(viewsets.ModelViewSet):
    queryset = File.objects.all()
    serializer_class = FileSerializer

    def get_permissions(self):
        if self.action == 'create':
            return [IsTeacher()]
        return [IsStudent() | IsTeacher() | IsAdmin()]

    def perform_create(self, serializer):
        serializer.save(uploaded_by=self.request.user)








5eme app notifiactions




# notifications/consumers.py
import json
from channels.generic.websocket import AsyncWebsocketConsumer
from channels.db import database_sync_to_async
from accounts.models import CustomUser
from lms_sessions.models import Session
from notifications.models import ChatMessage, Notification


class ChatConsumer(AsyncWebsocketConsumer):
    async def connect(self):
        self.session_id = self.scope["url_route"]["kwargs"]["session_id"]
        self.room_group_name = f"chat_{self.session_id}"

        # Vérifie que l'utilisateur a accès à cette session
        if await self.can_access_session():
            await self.channel_layer.group_add(self.room_group_name, self.channel_name)
            await self.accept()
        else:
            await self.close()

    async def disconnect(self, close_code):
        await self.channel_layer.group_discard(self.room_group_name, self.channel_name)

    async def receive(self, text_data):
        data = json.loads(text_data)
        message = data['message']

        # Sauvegarde du message
        chat_msg = await database_sync_to_async(ChatMessage.objects.create)(
            session_id=self.session_id,
            user=self.scope["user"],
            message=message
        )

        await self.channel_layer.group_send(
            self.room_group_name,
            {
                'type': 'chat_message',
                'message': message,
                'user': self.scope["user"].username,
                'timestamp': chat_msg.timestamp.isoformat()
            }
        )

    async def chat_message(self, event):
        await self.send(text_data=json.dumps({
            'type': 'chat',
            'message': event['message'],
            'user': event['user'],
            'timestamp': event['timestamp']
        }))

    @database_sync_to_async
    def can_access_session(self):
        try:
            session = Session.objects.get(id=self.session_id)
            user = self.scope["user"]
            if user.is_anonymous:
                return False
            # Student dans la classe ou teacher de la matière
            if user.role == "teacher" and session.teacher == user:
                return True
            if user.role == "student" and user in session.subject.class_assigned.students.all():
                return True
            return False
        except Session.DoesNotExist:
            return False


class NotificationConsumer(AsyncWebsocketConsumer):
    async def connect(self):
        if self.scope["user"].is_anonymous:
            await self.close()
            return

        self.user_id = self.scope["user"].id
        self.room_group_name = f"notifications_{self.user_id}"

        await self.channel_layer.group_add(self.room_group_name, self.channel_name)
        await self.accept()

        # Envoi des notifications non lues au connect
        unread = await self.get_unread_notifications()
        for notif in unread:
            await self.send(text_data=json.dumps({
                'type': 'notification',
                'message': notif['message'],
                'created_at': notif['created_at']
            }))

    async def disconnect(self, close_code):
        await self.channel_layer.group_discard(self.room_group_name, self.channel_name)

    async def receive(self, text_data):
        data = json.loads(text_data)
        if data.get('type') == 'mark_read':
            await self.mark_all_read()

    @database_sync_to_async
    def get_unread_notifications(self):
        return list(
            Notification.objects.filter(user=self.scope["user"], read=False)
            .values('message', 'created_at')
        )

    @database_sync_to_async
    def mark_all_read(self):
        Notification.objects.filter(user=self.scope["user"], read=False).update(read=True)










# backend/notifications/models.py (version corrigée)
from django.db import models
from accounts.models import CustomUser

class Notification(models.Model):
    TYPE_CHOICES = [
        ('info', 'Information'),
        ('warning', 'Avertissement'),
        ('success', 'Succès'),
        ('error', 'Erreur'),
        ('reminder', 'Rappel'),
    ]
    
    user = models.ForeignKey(CustomUser, on_delete=models.CASCADE, related_name='notifications')
    title = models.CharField(max_length=255, default="Notification")
    message = models.TextField()
    notification_type = models.CharField(max_length=20, choices=TYPE_CHOICES, default='info')
    is_read = models.BooleanField(default=False)
    created_at = models.DateTimeField(auto_now_add=True)
    scheduled_time = models.DateTimeField(null=True, blank=True)
    
    class Meta:
        ordering = ['-created_at']
    
    def __str__(self):
        return f"{self.user.username} - {self.title}"

class ChatMessage(models.Model):
    session = models.ForeignKey('lms_sessions.Session', on_delete=models.CASCADE, related_name='chat_messages')
    user = models.ForeignKey(CustomUser, on_delete=models.CASCADE, related_name='chat_messages')
    message = models.TextField()
    timestamp = models.DateTimeField(auto_now_add=True)
    
    class Meta:
        ordering = ['timestamp']
    
    def __str__(self):
        return f"{self.user.username}: {self.message[:50]}"









# notifications/routing.py
from django.urls import re_path
from . import consumers

websocket_urlpatterns = [
    re_path(r'ws/chat/(?P<session_id>\d+)/$', consumers.ChatConsumer.as_asgi()),
    re_path(r'ws/notifications/(?P<user_id>\d+)/$', consumers.NotificationConsumer.as_asgi()),
]





serializers.py



from rest_framework import serializers
from .models import Notification, ChatMessage

class NotificationSerializer(serializers.ModelSerializer):
    class Meta:
        model = Notification
        fields = "__all__"
        read_only_fields = ("created_at",)

class ChatSerializer(serializers.ModelSerializer):
    class Meta:
        model = ChatMessage
        fields = "__all__"
        read_only_fields = ("timestamp",)









urls.py

from django.urls import path, include
from rest_framework.routers import DefaultRouter
from .views import NotificationViewSet

router = DefaultRouter()
router.register(r"", NotificationViewSet, basename="notifications")

urlpatterns = [
    path("", include(router.urls)),
]




# backend/notifications/views.py
from rest_framework import viewsets, status
from rest_framework.decorators import action
from rest_framework.response import Response
from rest_framework.permissions import IsAuthenticated
from django.utils import timezone
from datetime import timedelta
from django.db.models import Q
from django_celery_beat.models import PeriodicTask, CrontabSchedule
import json

from .models import Notification
from .serializers import NotificationSerializer

class NotificationViewSet(viewsets.ModelViewSet):
    serializer_class = NotificationSerializer
    permission_classes = [IsAuthenticated]

    def get_queryset(self):
        return Notification.objects.filter(user=self.request.user).order_by('-created_at')

    @action(detail=False, methods=['get'])
    def unread(self, request):
        notifications = self.get_queryset().filter(read=False)
        serializer = self.get_serializer(notifications, many=True)
        return Response(serializer.data)

    @action(detail=False, methods=['post'])
    def mark_all_read(self, request):
        self.get_queryset().filter(read=False).update(read=True)
        return Response({"detail": "Toutes les notifications marquées comme lues"})

    @action(detail=True, methods=['post'])
    def mark_read(self, request, pk=None):
        notification = self.get_object()
        notification.read = True
        notification.save()
        return Response({"detail": "Notification marquée comme lue"})

    @action(detail=False, methods=['post'])
    def send(self, request):
        """Envoyer une notification à un utilisateur"""
        user_id = request.data.get('user_id')
        message = request.data.get('message')
        notification_type = request.data.get('type', 'info')
        
        if not user_id or not message:
            return Response({"detail": "user_id et message requis"}, status=400)
        
        notification = Notification.objects.create(
            user_id=user_id,
            message=message,
            notification_type=notification_type
        )
        
        return Response({
            "detail": "Notification envoyée",
            "notification": NotificationSerializer(notification).data
        })

    @action(detail=False, methods=['post'])
    def schedule_session(self, request):
        """Programmer une notification pour une session à venir"""
        from schedule.models import TimeSlot
        from accounts.models import CustomUser
        from datetime import datetime
        
        session_id = request.data.get('session_id')
        minutes_before = request.data.get('minutes_before', 5)
        
        try:
            time_slot = TimeSlot.objects.get(id=session_id)
            
            # Calculer le temps de la notification
            notification_time = time_slot.start_time - timedelta(minutes=minutes_before)
            
            # Récupérer tous les étudiants de la classe
            students = time_slot.subject.class_assigned.students.all()
            
            # Récupérer l'enseignant
            teacher = time_slot.teacher
            
            # Créer les notifications
            notifications = []
            
            # Notifications pour les étudiants
            for student in students:
                notifications.append(Notification(
                    user=student,
                    message=f"?? Rappel: {time_slot.subject.name} dans {minutes_before} minutes",
                    notification_type='reminder',
                    scheduled_time=notification_time
                ))
            
            # Notification pour l'enseignant
            notifications.append(Notification(
                user=teacher,
                message=f"????? Rappel: Cours de {time_slot.subject.name} dans {minutes_before} minutes",
                notification_type='reminder',
                scheduled_time=notification_time
            ))
            
            Notification.objects.bulk_create(notifications)
            
            # Programmer la tâche Celery
            self.schedule_celery_task(time_slot, minutes_before)
            
            return Response({
                "detail": f"Notifications programmées pour {len(notifications)} personnes"
            })
            
        except TimeSlot.DoesNotExist:
            return Response({"detail": "Session non trouvée"}, status=404)

    def schedule_celery_task(self, time_slot, minutes_before):
        """Programmer une tâche Celery pour envoyer les notifications"""
        from datetime import datetime
        
        notification_time = time_slot.start_time - timedelta(minutes=minutes_before)
        
        # Créer une schedule crontab
        schedule, _ = CrontabSchedule.objects.get_or_create(
            minute=notification_time.minute,
            hour=notification_time.hour,
            day_of_month=notification_time.day,
            month_of_year=notification_time.month,
            day_of_week='*',
        )
        
        # Créer la tâche périodique
        task_name = f'send_session_reminder_{time_slot.id}'
        
        PeriodicTask.objects.create(
            crontab=schedule,
            name=task_name,
            task='notifications.tasks.send_session_reminders',
            args=json.dumps([time_slot.id, minutes_before]),
            one_off=True,  # Tâche unique
            start_time=notification_time
        )

    @action(detail=False, methods=['get'])
    def pending_sessions(self, request):
        """Récupérer les sessions à venir avec notifications"""
        from schedule.models import TimeSlot
        from datetime import datetime, timedelta
        
        user = request.user
        now = timezone.now()
        next_hour = now + timedelta(hours=1)
        
        if user.role == 'student':
            # Sessions des classes de l'étudiant
            classes = user.enrolled_classes.all()
            sessions = TimeSlot.objects.filter(
                subject__class_assigned__in=classes,
                start_time__gte=now,
                start_time__lte=next_hour
            ).select_related('subject', 'teacher')
            
        elif user.role == 'teacher':
            # Sessions de l'enseignant
            sessions = TimeSlot.objects.filter(
                teacher=user,
                start_time__gte=now,
                start_time__lte=next_hour
            ).select_related('subject')
            
        else:
            sessions = TimeSlot.objects.none()
        
        data = []
        for session in sessions:
            time_diff = session.start_time - now
            minutes_left = int(time_diff.total_seconds() / 60)
            
            data.append({
                'id': session.id,
                'subject': session.subject.name,
                'teacher': session.teacher.get_full_name() if user.role == 'student' else 'Vous',
                'start_time': session.start_time,
                'end_time': session.end_time,
                'classroom': session.classroom,
                'minutes_left': minutes_left,
                'needs_notification': minutes_left <= 10 and minutes_left > 0
            })
        
        return Response(data)







app 6 schedule pour les cree et stcoker les emploit de temps  




# backend/schedule/models.py - VERSION CORRIGÉE
from django.db import models
from django.core.exceptions import ValidationError
from django.utils import timezone
from accounts.models import CustomUser
from classes.models import Class, Subject
import random
from datetime import datetime, timedelta, time
from django.dispatch import receiver
import logging

logger = logging.getLogger(__name__)

class WeeklySchedule(models.Model):
    class_assigned = models.ForeignKey(
        Class,
        on_delete=models.CASCADE,
        related_name='weekly_schedules'
    )
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    class Meta:
        unique_together = ('class_assigned',)
        verbose_name = "Emploi du temps de classe"
        verbose_name_plural = "Emplois du temps des classes"
    
    def __str__(self):
        return f"Emploi - {self.class_assigned.name}"
    
    def get_teachers(self):
        """Retourne tous les enseignants de cette classe"""
        teachers = []
        teacher_ids = set()
        
        for slot in self.time_slots.all():
            if slot.teacher and slot.teacher.id not in teacher_ids:
                teachers.append(slot.teacher)
                teacher_ids.add(slot.teacher.id)
        return teachers

class TeacherSchedule(models.Model):
    """Emploi du temps individuel d'un enseignant"""
    teacher = models.OneToOneField(
        CustomUser,
        on_delete=models.CASCADE,
        related_name='teacher_schedule',
        limit_choices_to={'role': 'teacher'}
    )
    weekly_hours = models.DecimalField(
        max_digits=5, 
        decimal_places=2, 
        default=0.00,
        help_text="Nombre total d'heures par semaine"
    )
    max_hours = models.DecimalField(
        max_digits=5, 
        decimal_places=2, 
        default=20.00,
        help_text="Nombre maximum d'heures par semaine"
    )
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    class Meta:
        verbose_name = "Emploi du temps enseignant"
        verbose_name_plural = "Emplois du temps enseignants"
    
    def __str__(self):
        return f"Emploi - {self.teacher.get_full_name()}"
    
    def update_hours(self):
        """Met à jour le nombre d'heures de l'enseignant"""
        try:
            total_hours = 0.0
            time_slots = TimeSlot.objects.filter(teacher=self.teacher)
            
            for slot in time_slots:
                if slot.start_time and slot.end_time:
                    # Convertir les heures en décimal
                    start_dt = datetime.combine(datetime.today(), slot.start_time)
                    end_dt = datetime.combine(datetime.today(), slot.end_time)
                    
                    duration = end_dt - start_dt
                    hours = duration.total_seconds() / 3600  # Convertir en heures
                    total_hours += float(hours)
            
            self.weekly_hours = round(total_hours, 2)
            self.save(update_fields=['weekly_hours', 'updated_at'])
            return self.weekly_hours
        except Exception as e:
            logger.error(f"Erreur mise à jour heures enseignant {self.teacher.username}: {str(e)}")
            return self.weekly_hours
    
    def is_full(self):
        """Vérifie si l'enseignant a atteint son maximum d'heures"""
        try:
            return float(self.weekly_hours) >= float(self.max_hours)
        except:
            return False

class TimeSlot(models.Model):
    DAY_CHOICES = [
        ('Monday', 'Lundi'),
        ('Tuesday', 'Mardi'),
        ('Wednesday', 'Mercredi'),
        ('Thursday', 'Jeudi'),
        ('Friday', 'Vendredi')
    ]
    
    day = models.CharField(max_length=10, choices=DAY_CHOICES)
    start_time = models.TimeField()
    end_time = models.TimeField()
    subject = models.ForeignKey(Subject, on_delete=models.CASCADE, related_name='time_slots')
    teacher = models.ForeignKey(CustomUser, on_delete=models.CASCADE, limit_choices_to={'role': 'teacher'})
    classroom = models.CharField(max_length=50, blank=True, null=True)
    schedule = models.ForeignKey(
        WeeklySchedule, 
        on_delete=models.CASCADE, 
        related_name='time_slots', 
        null=True, 
        blank=True
    )
    teacher_schedule = models.ForeignKey(
        TeacherSchedule, 
        on_delete=models.CASCADE, 
        related_name='time_slots', 
        null=True, 
        blank=True
    )
    created_at = models.DateTimeField(auto_now_add=True)
    
    class Meta:
        ordering = ['day', 'start_time']
        unique_together = ('teacher', 'day', 'start_time', 'end_time')
        verbose_name = "Créneau horaire"
        verbose_name_plural = "Créneaux horaires"
    
    def __str__(self):
        return f"{self.get_day_display()} {self.start_time}-{self.end_time} - {self.subject.name}"
    
    def save(self, *args, **kwargs):
        # Mettre à jour le champ teacher_schedule si nécessaire
        if self.teacher and not self.teacher_schedule:
            teacher_schedule, created = TeacherSchedule.objects.get_or_create(teacher=self.teacher)
            self.teacher_schedule = teacher_schedule
        
        # Sauvegarder
        super().save(*args, **kwargs)
        
        # Mettre à jour les heures de l'enseignant
        if self.teacher_schedule:
            try:
                self.teacher_schedule.update_hours()
            except Exception as e:
                logger.error(f"Erreur mise à jour heures après sauvegarde créneau: {str(e)}")

# Signaux
@receiver(models.signals.post_save, sender=CustomUser)
def create_teacher_schedule(sender, instance, created, **kwargs):
    """Créer automatiquement un emploi du temps pour les nouveaux enseignants"""
    try:
        if instance.role == 'teacher' and created:
            TeacherSchedule.objects.get_or_create(teacher=instance)
    except Exception as e:
        logger.error(f"Erreur création emploi enseignant: {str(e)}")

@receiver(models.signals.post_save, sender=TimeSlot)
def update_teacher_schedule_on_slot_change(sender, instance, created, **kwargs):
    """Mettre à jour l'emploi de l'enseignant quand un créneau change"""
    try:
        if instance.teacher:
            teacher_schedule, created = TeacherSchedule.objects.get_or_create(teacher=instance.teacher)
            teacher_schedule.update_hours()
    except Exception as e:
        logger.error(f"Erreur mise à jour emploi enseignant: {str(e)}")










# backend/schedule/serializers.py - VERSION COMPLÈTE
from rest_framework import serializers
from .models import WeeklySchedule, TimeSlot, TeacherSchedule
from classes.models import Class
from accounts.models import CustomUser
from datetime import datetime

class TimeSlotSerializer(serializers.ModelSerializer):
    day_display = serializers.CharField(source='get_day_display', read_only=True)
    subject_name = serializers.CharField(source='subject.name', read_only=True)
    teacher_name = serializers.CharField(source='teacher.get_full_name', read_only=True)
    teacher_email = serializers.CharField(source='teacher.email', read_only=True, allow_null=True)
    class_name = serializers.SerializerMethodField(read_only=True)
    specialty_name = serializers.CharField(source='subject.specialty.name', read_only=True, allow_null=True)
    duration = serializers.SerializerMethodField(read_only=True)
    
    class Meta:
        model = TimeSlot
        fields = [
            'id', 'day', 'day_display', 'start_time', 'end_time',
            'subject', 'subject_name', 'teacher', 'teacher_name', 'teacher_email',
            'class_name', 'classroom', 'schedule', 'teacher_schedule',
            'specialty_name', 'duration', 'created_at'
        ]
        read_only_fields = ['created_at']
    
    def get_class_name(self, obj):
        if obj.schedule and obj.schedule.class_assigned:
            return obj.schedule.class_assigned.name
        return None
    
    def get_duration(self, obj):
        if obj.start_time and obj.end_time:
            try:
                start_dt = datetime.combine(datetime.today(), obj.start_time)
                end_dt = datetime.combine(datetime.today(), obj.end_time)
                duration = end_dt - start_dt
                return round(duration.total_seconds() / 3600, 2)
            except:
                return 0
        return 0

class TeacherScheduleSerializer(serializers.ModelSerializer):
    teacher_name = serializers.CharField(source='teacher.get_full_name', read_only=True)
    teacher_email = serializers.CharField(source='teacher.email', read_only=True)
    teacher_specialty = serializers.SerializerMethodField(read_only=True)
    is_full = serializers.SerializerMethodField(read_only=True)
    time_slots = serializers.SerializerMethodField(read_only=True)
    schedule_by_day = serializers.SerializerMethodField(read_only=True)
    available_slots = serializers.SerializerMethodField(read_only=True)
    
    class Meta:
        model = TeacherSchedule
        fields = [
            'id', 'teacher', 'teacher_name', 'teacher_email', 'teacher_specialty',
            'weekly_hours', 'max_hours', 'is_full', 
            'time_slots', 'schedule_by_day', 'available_slots',
            'created_at', 'updated_at'
        ]
        read_only_fields = ['created_at', 'updated_at']
    
    def get_teacher_specialty(self, obj):
        if obj.teacher.specialty:
            return obj.teacher.specialty.name
        return None
    
    def get_is_full(self, obj):
        return obj.is_full()
    
    def get_time_slots(self, obj):
        """Récupère tous les créneaux de l'enseignant"""
        try:
            time_slots = TimeSlot.objects.filter(
                teacher=obj.teacher
            ).select_related(
                'subject', 'subject__specialty', 'schedule__class_assigned'
            ).order_by('day', 'start_time')
            
            return TimeSlotSerializer(time_slots, many=True).data
        except Exception as e:
            return []
    
    def get_schedule_by_day(self, obj):
        """Organise les créneaux par jour"""
        try:
            time_slots = TimeSlot.objects.filter(
                teacher=obj.teacher
            ).select_related(
                'subject', 'subject__specialty', 'schedule__class_assigned'
            ).order_by('day', 'start_time')
            
            schedule_by_day = {}
            for slot in time_slots:
                day = slot.get_day_display()
                if day not in schedule_by_day:
                    schedule_by_day[day] = []
                
                schedule_by_day[day].append(TimeSlotSerializer(slot).data)
            
            return schedule_by_day
        except Exception as e:
            return {}
    
    def get_available_slots(self, obj):
        """Récupère les créneaux disponibles par jour"""
        try:
            available_slots = {}
            days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday']
            
            for day in days:
                slots = obj.get_available_slots(day)
                if slots:
                    day_display = dict(TimeSlot.DAY_CHOICES).get(day, day)
                    available_slots[day_display] = slots
            
            return available_slots
        except Exception as e:
            return {}

class WeeklyScheduleSerializer(serializers.ModelSerializer):
    time_slots = TimeSlotSerializer(many=True, read_only=True)
    class_name = serializers.CharField(source='class_assigned.name', read_only=True)
    class_info = serializers.SerializerMethodField(read_only=True)
    teachers = serializers.SerializerMethodField(read_only=True)
    total_hours = serializers.SerializerMethodField(read_only=True)
    is_complete = serializers.SerializerMethodField(read_only=True)
    
    class Meta:
        model = WeeklySchedule
        fields = [
            'id', 'class_assigned', 'class_name', 'class_info',
            'teachers', 'time_slots', 'total_hours', 'is_complete',
            'created_at', 'updated_at'
        ]
        read_only_fields = ['created_at', 'updated_at']
    
    def get_class_info(self, obj):
        """Retourne des informations détaillées sur la classe"""
        try:
            class_obj = obj.class_assigned
            return {
                'id': class_obj.id,
                'name': class_obj.name,
                'student_count': class_obj.student_count(),
                'max_students': class_obj.max_students,
                'is_full': class_obj.is_full()
            }
        except:
            return {
                'id': obj.class_assigned.id,
                'name': obj.class_assigned.name,
                'student_count': 0,
                'max_students': 30,
                'is_full': False
            }
    
    def get_teachers(self, obj):
        """Retourne la liste des enseignants de cette classe"""
        try:
            teachers = []
            seen_teacher_ids = set()
            
            for slot in obj.time_slots.all():
                if slot.teacher and slot.teacher.id not in seen_teacher_ids:
                    teacher_data = {
                        'id': slot.teacher.id,
                        'name': slot.teacher.get_full_name(),
                        'email': slot.teacher.email,
                    }
                    
                    if slot.teacher.specialty:
                        teacher_data['specialty'] = slot.teacher.specialty.name
                    
                    teachers.append(teacher_data)
                    seen_teacher_ids.add(slot.teacher.id)
            
            return teachers
        except Exception as e:
            return []
    
    def get_total_hours(self, obj):
        """Calcule le total d'heures de la classe"""
        try:
            total_hours = 0.0
            for slot in obj.time_slots.all():
                if slot.start_time and slot.end_time:
                    start_dt = datetime.combine(datetime.today(), slot.start_time)
                    end_dt = datetime.combine(datetime.today(), slot.end_time)
                    duration = end_dt - start_dt
                    total_hours += duration.total_seconds() / 3600
            
            return round(total_hours, 2)
        except:
            return 0.0
    
    def get_is_complete(self, obj):
        """Vérifie si l'emploi est complet (20 créneaux = semaine complète)"""
        return obj.time_slots.count() >= 20









# backend/schedule/urls.py
from django.urls import path, include
from rest_framework.routers import DefaultRouter
from .views import WeeklyScheduleViewSet, TeacherScheduleViewSet, TimeSlotViewSet

router = DefaultRouter()
router.register(r'schedules', WeeklyScheduleViewSet, basename='weeklyschedule')
router.register(r'teacher-schedules', TeacherScheduleViewSet, basename='teacherschedule')
router.register(r'time-slots', TimeSlotViewSet, basename='timeslot')

# backend/schedule/urls.py - AJOUTER CES ROUTES
urlpatterns = [
    path('', include(router.urls)),
    path('generate-smart/', WeeklyScheduleViewSet.as_view({'post': 'generate_smart_schedule'}), name='generate-smart'),
    
    # Routes spécifiques pour étudiants et enseignants
    path('student/my-schedule/', WeeklyScheduleViewSet.as_view({'get': 'student_my_schedule'}), name='student-my-schedule'),
    path('teacher/my-schedule/', TeacherScheduleViewSet.as_view({'get': 'my_schedule'}), name='teacher-my-schedule'),
    
    # Routes admin
    path('class/<int:class_id>/', WeeklyScheduleViewSet.as_view({'get': 'class_schedule'}), name='class-schedule'),
    path('teacher/<int:teacher_id>/', WeeklyScheduleViewSet.as_view({'get': 'teacher_schedule'}), name='teacher-schedule'),
]










# backend/schedule/views.py - VERSION COMPLÈTE CORRIGÉE
from rest_framework import viewsets, permissions, status
from rest_framework.decorators import action
from rest_framework.response import Response
from django.shortcuts import get_object_or_404
from django.db.models import Q
from django.db import transaction
from django.utils import timezone
from .models import WeeklySchedule, TimeSlot, TeacherSchedule
from .serializers import WeeklyScheduleSerializer, TimeSlotSerializer, TeacherScheduleSerializer
from accounts.permissions import IsAdmin
from accounts.models import CustomUser
from classes.models import Class, Subject
import logging
from datetime import datetime, date
import random
from datetime import datetime, timedelta, time
import json

logger = logging.getLogger(__name__)

# ========================================
# CLASSE POUR GÉNÉRATION INTELLIGENTE - CORRIGÉE
# ========================================
# backend/schedule/views.py - SmartScheduleGenerator COMPLÈTE
class SmartScheduleGenerator:
    """Classe intelligente pour générer et mettre à jour les emplois du temps"""
    
    @staticmethod
    def generate_schedule_for_class(class_obj, force_update=False, smart_mode=True):
        """
        Génère ou met à jour l'emploi du temps d'une classe avec synchronisation enseignants
        """
        try:
            logger.info(f"Début génération emploi pour {class_obj.name}, force_update={force_update}, smart_mode={smart_mode}")
            
            with transaction.atomic():
                # Vérifier si l'emploi existe déjà
                schedule, created = WeeklySchedule.objects.get_or_create(
                    class_assigned=class_obj
                )
                
                logger.info(f"Schedule: {'créé' if created else 'existant'}, ID: {schedule.id}")
                
                # Si pas de force_update et emploi existe déjà avec au moins 15 créneaux, on arrête
                if not force_update and not created and schedule.time_slots.count() >= 15:
                    logger.info(f"Emploi existe déjà avec {schedule.time_slots.count()} créneaux")
                    return {
                        'success': True,
                        'message': f'Emploi du temps de {class_obj.name} existe déjà et est presque complet',
                        'schedule_id': schedule.id,
                        'created_slots': schedule.time_slots.count(),
                        'updated': False
                    }
                
                # Récupérer les matières actuelles avec enseignants
                subjects = Subject.objects.filter(
                    class_assigned=class_obj,
                    teacher__isnull=False,
                    teacher__approved=True
                ).select_related('teacher', 'specialty')
                
                subjects_list = list(subjects)
                logger.info(f"Nombre de matières trouvées: {len(subjects_list)}")
                
                if len(subjects_list) == 0:
                    return {
                        'success': False,
                        'message': f'Aucune matière avec enseignant dans la classe {class_obj.name}'
                    }
                
                # Sauvegarder l'ancien nombre de créneaux
                old_slots_count = schedule.time_slots.count()
                
                # Supprimer les anciens créneaux si force_update ou création
                if force_update or created:
                    deleted_count, _ = schedule.time_slots.all().delete()
                    logger.info(f"Créneaux supprimés: {deleted_count}")
                
                # Horaires standards
                days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday']
                slots = [
                    {'start': time(8, 30), 'end': time(10, 0)},
                    {'start': time(10, 15), 'end': time(11, 45)},
                    {'start': time(13, 0), 'end': time(14, 30)},
                    {'start': time(14, 45), 'end': time(16, 15)}
                ]
                
                created_slots = []
                errors = []
                teachers_updated = set()
                
                # Génération intelligente avec rotation des matières
                for day in days:
                    for slot_index, slot in enumerate(slots):
                        try:
                            # Choisir la matière pour ce créneau (rotation)
                            subject_index = (days.index(day) * len(slots) + slot_index) % len(subjects_list)
                            subject = subjects_list[subject_index]
                            teacher = subject.teacher
                            
                            # Vérifier si l'enseignant est déjà occupé à ce créneau
                            teacher_busy = TimeSlot.objects.filter(
                                teacher=teacher,
                                day=day,
                                start_time=slot['start'],
                                end_time=slot['end']
                            ).exists()
                            
                            if teacher_busy and smart_mode:
                                # Chercher une autre matière avec un enseignant disponible
                                alternative_subject = None
                                for sub in subjects_list:
                                    if sub.id != subject.id:
                                        sub_teacher = sub.teacher
                                        
                                        # Vérifier si l'enseignant est disponible
                                        busy = TimeSlot.objects.filter(
                                            teacher=sub_teacher,
                                            day=day,
                                            start_time=slot['start'],
                                            end_time=slot['end']
                                        ).exists()
                                        
                                        if not busy:
                                            alternative_subject = sub
                                            break
                                
                                if alternative_subject:
                                    subject = alternative_subject
                                    teacher = subject.teacher
                                else:
                                    errors.append(f"Pas d'enseignant disponible le {day} à {slot['start'].strftime('%H:%M')}")
                                    continue
                            
                            # Choisir une salle disponible
                            classroom = SmartScheduleGenerator.get_available_classroom(
                                day, slot['start'], slot['end']
                            )
                            
                            if not classroom:
                                classroom = f"B{101 + slot_index}"
                            
                            # Créer le créneau
                            time_slot = TimeSlot.objects.create(
                                day=day,
                                start_time=slot['start'],
                                end_time=slot['end'],
                                subject=subject,
                                teacher=teacher,
                                classroom=classroom,
                                schedule=schedule
                            )
                            
                            created_slots.append(time_slot.id)
                            teachers_updated.add(teacher.id)
                            
                        except Exception as e:
                            error_msg = f"Erreur créneau {day} {slot['start'].strftime('%H:%M')}: {str(e)}"
                            logger.error(error_msg)
                            errors.append(error_msg)
                
                logger.info(f"Créneaux créés: {len(created_slots)}, Enseignants affectés: {len(teachers_updated)}")
                
                # Mettre à jour les emplois des enseignants
                for teacher_id in teachers_updated:
                    try:
                        teacher = CustomUser.objects.get(id=teacher_id)
                        teacher_schedule, _ = TeacherSchedule.objects.get_or_create(teacher=teacher)
                        teacher_schedule.update_hours()
                    except Exception as e:
                        logger.error(f"Erreur mise à jour enseignant {teacher_id}: {str(e)}")
                        errors.append(f"Erreur mise à jour enseignant {teacher_id}")
                
                # Mettre à jour l'horodatage
                schedule.save()
                
                return {
                    'success': True,
                    'message': f'Emploi du temps généré pour {class_obj.name}',
                    'schedule_id': schedule.id,
                    'created_slots': len(created_slots),
                    'teachers_updated': len(teachers_updated),
                    'old_slots_count': old_slots_count,
                    'errors': errors,
                    'updated': True
                }
                
        except Exception as e:
            error_msg = f"Erreur génération emploi {class_obj.name}: {str(e)}"
            logger.error(error_msg)
            return {
                'success': False,
                'message': error_msg
            }
    
    @staticmethod
    def get_available_classroom(day, start_time, end_time):
        """Retourne une salle disponible pour un créneau donné"""
        try:
            all_rooms = [
                'B101', 'B102', 'B103', 'B104',
                'B201', 'B202', 'B203', 'B204',
                'B301', 'B302', 'B303', 'B304',
                'Amphi A', 'Amphi B', 'Labo Info 1', 'Labo Info 2'
            ]
            
            # Récupérer les salles occupées à ce créneau
            occupied_rooms = TimeSlot.objects.filter(
                day=day,
                start_time=start_time,
                end_time=end_time
            ).exclude(classroom__isnull=True).exclude(classroom='').values_list('classroom', flat=True)
            
            occupied_set = set(occupied_rooms)
            available_rooms = [room for room in all_rooms if room not in occupied_set]
            
            # Retourner une salle aléatoire parmi les disponibles
            if available_rooms:
                return random.choice(available_rooms)
            else:
                return "B101"
                
        except Exception as e:
            logger.error(f"Erreur recherche salle: {str(e)}")
            return "B101"
    
    @staticmethod
    def check_teacher_availability(teacher_id, new_class_id):
        """
        Vérifie si un enseignant peut prendre une nouvelle classe
        Retourne (disponible, message, heures_restantes)
        """
        try:
            teacher = CustomUser.objects.get(id=teacher_id, role='teacher')
            class_obj = Class.objects.get(id=new_class_id)
            
            # Récupérer l'emploi de l'enseignant
            teacher_schedule, _ = TeacherSchedule.objects.get_or_create(teacher=teacher)
            
            # Calculer les heures que prendrait la nouvelle classe
            # Estimation: 4 cours de 1h30 par semaine = 6h
            estimated_hours = 6.0
            
            if teacher_schedule.is_full():
                return False, f"L'enseignant a un emploi complet ({teacher_schedule.weekly_hours}/{teacher_schedule.max_hours}h)", 0.0
            
            # Vérifier les conflits d'horaire potentiels
            days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday']
            slots = [
                {'start': time(8, 30), 'end': time(10, 0)},
                {'start': time(10, 15), 'end': time(11, 45)},
                {'start': time(13, 0), 'end': time(14, 30)},
                {'start': time(14, 45), 'end': time(16, 15)}
            ]
            
            for day in days:
                for slot in slots:
                    conflict = TimeSlot.objects.filter(
                        teacher=teacher,
                        day=day,
                        start_time=slot['start'],
                        end_time=slot['end']
                    ).exists()
                    
                    if conflict:
                        return False, f"Conflit d'horaire le {day} à {slot['start'].strftime('%H:%M')}", 0.0
            
            remaining_hours = float(teacher_schedule.max_hours) - float(teacher_schedule.weekly_hours)
            return True, f"L'enseignant peut prendre cette classe ({remaining_hours:.1f}h disponibles)", remaining_hours
            
        except CustomUser.DoesNotExist:
            return False, "Enseignant non trouvé", 0.0
        except Class.DoesNotExist:
            return False, "Classe non trouvée", 0.0
        except Exception as e:
            logger.error(f"Erreur vérification disponibilité: {str(e)}")
            return False, f"Erreur de vérification: {str(e)}", 0.0
    
    @staticmethod
    def sync_all_teachers():
        """Synchronise tous les emplois des enseignants avec les emplois de classe"""
        try:
            teachers_updated = 0
            errors = []
            
            # Pour chaque enseignant
            teacher_schedules = TeacherSchedule.objects.all().select_related('teacher')
            total_teachers = teacher_schedules.count()
            
            for teacher_schedule in teacher_schedules:
                try:
                    # Recalculer les heures
                    old_hours = float(teacher_schedule.weekly_hours)
                    new_hours = teacher_schedule.update_hours()
                    
                    if abs(float(new_hours) - old_hours) > 0.1:
                        teachers_updated += 1
                        logger.info(f"Enseignant {teacher_schedule.teacher.username} mis à jour: {old_hours} -> {new_hours}")
                        
                except Exception as e:
                    error_msg = f"Erreur enseignant {teacher_schedule.teacher.username}: {str(e)}"
                    logger.error(error_msg)
                    errors.append(error_msg)
            
            return {
                'success': True,
                'message': f'Synchronisation terminée: {teachers_updated}/{total_teachers} enseignants mis à jour',
                'teachers_updated': teachers_updated,
                'total_teachers': total_teachers,
                'errors': errors
            }
            
        except Exception as e:
            error_msg = f"Erreur synchro enseignants: {str(e)}"
            logger.error(error_msg)
            return {
                'success': False,
                'message': error_msg
            }
    
    @staticmethod
    def check_for_conflicts():
        """Vérifie les conflits dans les emplois du temps"""
        try:
            conflicts = []
            
            # Vérifier les conflits d'enseignants
            time_slots = TimeSlot.objects.all().select_related(
                'teacher', 'subject', 'schedule__class_assigned'
            )
            
            # Regrouper par enseignant, jour et heure
            teacher_slots = {}
            for slot in time_slots:
                if slot.teacher and slot.start_time and slot.end_time:
                    key = f"{slot.teacher_id}_{slot.day}_{slot.start_time}_{slot.end_time}"
                    if key not in teacher_slots:
                        teacher_slots[key] = []
                    teacher_slots[key].append(slot)
            
            # Détecter les conflits enseignants
            for key, slots in teacher_slots.items():
                if len(slots) > 1:
                    conflict_info = {
                        'type': 'teacher_conflict',
                        'teacher': slots[0].teacher.get_full_name(),
                        'teacher_id': slots[0].teacher_id,
                        'day': slots[0].get_day_display(),
                        'time': f"{slots[0].start_time.strftime('%H:%M')} - {slots[0].end_time.strftime('%H:%M')}",
                        'count': len(slots),
                        'classes': []
                    }
                    
                    for slot in slots:
                        class_name = slot.schedule.class_assigned.name if slot.schedule else 'N/A'
                        conflict_info['classes'].append({
                            'class': class_name,
                            'subject': slot.subject.name if slot.subject else 'N/A',
                            'class_id': slot.schedule.class_assigned.id if slot.schedule else None
                        })
                    
                    conflicts.append(conflict_info)
            
            # Vérifier les conflits de salles
            classroom_slots = {}
            for slot in time_slots:
                if slot.classroom and slot.start_time and slot.end_time:
                    key = f"{slot.classroom}_{slot.day}_{slot.start_time}_{slot.end_time}"
                    if key not in classroom_slots:
                        classroom_slots[key] = []
                    classroom_slots[key].append(slot)
            
            for key, slots in classroom_slots.items():
                if len(slots) > 1:
                    conflict_info = {
                        'type': 'classroom_conflict',
                        'classroom': slots[0].classroom,
                        'day': slots[0].get_day_display(),
                        'time': f"{slots[0].start_time.strftime('%H:%M')} - {slots[0].end_time.strftime('%H:%M')}",
                        'count': len(slots),
                        'classes': []
                    }
                    
                    for slot in slots:
                        class_name = slot.schedule.class_assigned.name if slot.schedule else 'N/A'
                        conflict_info['classes'].append({
                            'class': class_name,
                            'subject': slot.subject.name if slot.subject else 'N/A',
                            'teacher': slot.teacher.get_full_name() if slot.teacher else 'N/A'
                        })
                    
                    conflicts.append(conflict_info)
            
            return conflicts
            
        except Exception as e:
            logger.error(f"Erreur vérification conflits: {str(e)}")
            return []

# ========================================
# VIEWSETS PRINCIPAUX - CORRIGÉS
# ========================================
class TeacherScheduleViewSet(viewsets.ModelViewSet):
    """Gestion des emplois du temps des enseignants"""
    queryset = TeacherSchedule.objects.all().select_related('teacher', 'teacher__specialty')
    serializer_class = TeacherScheduleSerializer
    
    def get_permissions(self):
        if self.action in ['list', 'retrieve', 'my_schedule', 'available_teachers']:
            return [permissions.IsAuthenticated()]
        return [IsAdmin()]
    
    def get_queryset(self):
        """Filtrer selon l'utilisateur"""
        user = self.request.user
        
        if user.is_anonymous:
            return TeacherSchedule.objects.none()
        
        if user.role in ['admin', 'superadmin']:
            return TeacherSchedule.objects.all().select_related('teacher', 'teacher__specialty')
        elif user.role == 'teacher':
            return TeacherSchedule.objects.filter(teacher=user).select_related('teacher', 'teacher__specialty')
        
        return TeacherSchedule.objects.none()
    
    @action(detail=False, methods=['get'], url_path='my-schedule')
    def my_schedule(self, request):
        """L'emploi du temps de l'enseignant connecté"""
        user = request.user
        
        if user.role != 'teacher':
            return Response({
                'success': False,
                'error': 'Cette fonctionnalité est réservée aux enseignants'
            }, status=403)
        
        try:
            teacher_schedule = get_object_or_404(TeacherSchedule, teacher=user)
            serializer = self.get_serializer(teacher_schedule)
            return Response({
                'success': True,
                'data': serializer.data
            })
        except Exception as e:
            logger.error(f"Erreur récupération emploi enseignant: {str(e)}")
            return Response({
                'success': False,
                'error': 'Erreur lors de la récupération de votre emploi du temps'
            }, status=500)
    
    @action(detail=False, methods=['get'], url_path='available-teachers')
    def available_teachers(self, request):
        """Retourne la liste des enseignants disponibles pour une nouvelle classe"""
        try:
            class_id = request.query_params.get('class_id')
            if not class_id:
                return Response({
                    'success': False,
                    'error': 'class_id requis'
                }, status=400)
            
            class_obj = Class.objects.get(id=class_id)
            teachers = CustomUser.objects.filter(role='teacher', approved=True)
            
            available_teachers = []
            for teacher in teachers:
                # Vérifier la disponibilité
                available, message, hours_left = SmartScheduleGenerator.check_teacher_availability(
                    teacher.id, class_obj.id
                )
                
                # Récupérer l'emploi de l'enseignant
                teacher_schedule, _ = TeacherSchedule.objects.get_or_create(teacher=teacher)
                
                available_teachers.append({
                    'id': teacher.id,
                    'name': teacher.get_full_name(),
                    'email': teacher.email,
                    'specialty': teacher.specialty.name if teacher.specialty else None,
                    'available': available,
                    'message': message,
                    'current_hours': float(teacher_schedule.weekly_hours),
                    'max_hours': float(teacher_schedule.max_hours),
                    'hours_left': hours_left,
                    'is_full': teacher_schedule.is_full()
                })
            
            return Response({
                'success': True,
                'class': {
                    'id': class_obj.id,
                    'name': class_obj.name
                },
                'available_teachers': available_teachers,
                'total_teachers': len(available_teachers),
                'available_count': len([t for t in available_teachers if t['available']])
            })
            
        except Class.DoesNotExist:
            return Response({
                'success': False,
                'error': 'Classe non trouvée'
            }, status=404)
        except Exception as e:
            logger.error(f"Erreur récupération enseignants disponibles: {str(e)}")
            return Response({
                'success': False,
                'error': f'Erreur serveur: {str(e)}'
            }, status=500)
        
# backend/schedule/views.py - VERSION COMPLÈTE CORRIGÉE
from rest_framework import viewsets, permissions, status
from rest_framework.decorators import action
from rest_framework.response import Response
from django.shortcuts import get_object_or_404
from django.db.models import Q
from django.db import transaction
from django.utils import timezone
from .models import WeeklySchedule, TimeSlot, TeacherSchedule
from .serializers import WeeklyScheduleSerializer, TimeSlotSerializer, TeacherScheduleSerializer
from accounts.permissions import IsAdmin as IsAdminPermission
from accounts.models import CustomUser
from classes.models import Class, Subject
import logging
import random
from datetime import datetime, timedelta, time
import json

logger = logging.getLogger(__name__)

class WeeklyScheduleViewSet(viewsets.ModelViewSet):
    """Gestion complète des emplois du temps des classes"""
    queryset = WeeklySchedule.objects.all()
    serializer_class = WeeklyScheduleSerializer
    
    def get_permissions(self):
        """
        Définir les permissions selon l'action
        """
        # Actions accessibles aux utilisateurs authentifiés
        if self.action in ['student_my_schedule', 'teacher_my_schedule', 'my_schedule']:
            return [permissions.IsAuthenticated()]
        # Actions accessibles aux admins seulement
        elif self.action in ['list', 'retrieve', 'create', 'update', 'partial_update', 'destroy', 
                            'generate_smart_schedule', 'class_schedule', 'sync_teachers', 
                            'check_conflicts', 'available_teachers']:
            return [IsAdminPermission()]
        # Par défaut, admin seulement
        else:
            return [IsAdminPermission()]
    
    def get_queryset(self):
        return WeeklySchedule.objects.all().prefetch_related(
            'time_slots',
            'time_slots__subject',
            'time_slots__subject__specialty',
            'time_slots__teacher',
            'time_slots__teacher_schedule',
            'class_assigned'
        ).select_related('class_assigned')

    def list(self, request, *args, **kwargs):
        """Liste tous les emplois du temps (admin seulement)"""
        try:
            queryset = self.get_queryset()
            serializer = WeeklyScheduleSerializer(queryset, many=True)
            
            return Response({
                'success': True,
                'count': queryset.count(),
                'schedules': serializer.data
            })
        except Exception as e:
            logger.error(f"Erreur list(): {e}")
            return Response({'success': False, 'error': str(e)}, status=500)

    # ========================================
    # ROUTES SPÉCIFIQUES POUR ÉTUDIANTS ET ENSEIGNANTS
    # ========================================
    
    @action(detail=False, methods=['get'], url_path='student/my-schedule', permission_classes=[permissions.IsAuthenticated])
    def student_my_schedule(self, request):
        """Route SPÉCIFIQUE pour les étudiants seulement"""
        user = request.user
        
        logger.info(f"Route student/my-schedule appelée par {user.username} (rôle: {user.role})")
        
        # Vérifier que c'est bien un étudiant
        if user.role != 'student':
            logger.warning(f"Accès interdit: {user.username} n'est pas étudiant")
            return Response({
                'success': False,
                'error': 'Cette route est réservée aux étudiants'
            }, status=403)
        
        # Appeler la méthode spécifique étudiant
        return self._get_student_schedule(user)
    
    @action(detail=False, methods=['get'], url_path='teacher/my-schedule', permission_classes=[permissions.IsAuthenticated])
    def teacher_my_schedule(self, request):
        """Route SPÉCIFIQUE pour les enseignants seulement"""
        user = request.user
        
        logger.info(f"Route teacher/my-schedule appelée par {user.username} (rôle: {user.role})")
        
        # Vérifier que c'est bien un enseignant
        if user.role != 'teacher':
            logger.warning(f"Accès interdit: {user.username} n'est pas enseignant")
            return Response({
                'success': False,
                'error': 'Cette route est réservée aux enseignants'
            }, status=403)
        
        # Appeler la méthode spécifique enseignant
        return self._get_teacher_schedule(user)
    
    @action(detail=False, methods=['get'], url_path='my-schedule', permission_classes=[permissions.IsAuthenticated])
    def my_schedule(self, request):
        """Route GÉNÉRIQUE qui détermine automatiquement le rôle"""
        user = request.user
        
        logger.info(f"Route my-schedule appelée par {user.username} (rôle: {user.role})")
        
        if not user.is_authenticated:
            logger.error("Utilisateur non authentifié")
            return Response({
                'success': False,
                'error': 'Authentication required'
            }, status=401)
        
        try:
            if user.role == 'student':
                return self._get_student_schedule(user)
            elif user.role == 'teacher':
                return self._get_teacher_schedule(user)
            elif user.role in ['admin', 'superadmin']:
                # Si l'admin est aussi enseignant
                if hasattr(user, 'teacher_profile'):
                    return self._get_teacher_schedule(user)
                else:
                    return Response({
                        'success': False,
                        'error': 'Cette fonctionnalité est réservée aux étudiants et enseignants'
                    }, status=403)
            else:
                return Response({
                    'success': False,
                    'error': 'Rôle utilisateur non reconnu'
                }, status=403)
                
        except Exception as e:
            logger.error(f"Erreur my_schedule pour {user.username}: {str(e)}")
            return Response({
                'success': False,
                'error': 'Erreur lors de la récupération de votre emploi du temps'
            }, status=500)
    
    def _get_student_schedule(self, user):
        """Récupère l'emploi du temps d'un étudiant"""
        logger.info(f"Récupération emploi pour étudiant: {user.username}")
        
        try:
            # Vérifier si l'utilisateur a un profil étudiant
            student_profile = getattr(user, 'student_profile', None)
            
            if not student_profile:
                logger.warning(f"Pas de profil étudiant pour {user.username}")
                return Response({
                    'success': True,
                    'message': 'Vous n\'avez pas de profil étudiant',
                    'data': {
                        'class_name': None,
                        'time_slots': [],
                        'has_schedule': False
                    }
                })
            
            # Vérifier si l'étudiant est assigné à une classe
            if not student_profile.class_assigned:
                logger.info(f"Étudiant {user.username} non assigné à une classe")
                return Response({
                    'success': True,
                    'message': 'Vous n\'êtes pas encore assigné à une classe',
                    'data': {
                        'class_name': None,
                        'time_slots': [],
                        'has_schedule': False
                    }
                })
            
            class_obj = student_profile.class_assigned
            logger.info(f"Étudiant {user.username} dans la classe: {class_obj.name}")
            
            # Chercher l'emploi du temps de la classe
            schedule = WeeklySchedule.objects.filter(
                class_assigned=class_obj
            ).prefetch_related(
                'time_slots',
                'time_slots__subject',
                'time_slots__teacher',
                'time_slots__schedule__class_assigned'
            ).first()
            
            if not schedule:
                logger.info(f"Pas d'emploi du temps pour la classe {class_obj.name}")
                return Response({
                    'success': True,
                    'message': 'Emploi du temps en cours de préparation',
                    'data': {
                        'class_name': class_obj.name,
                        'time_slots': [],
                        'has_schedule': False,
                        'updated_at': None
                    }
                })
            
            # Récupérer tous les créneaux
            time_slots = schedule.time_slots.all().order_by('day', 'start_time')
            
            # Organiser par jour
            schedule_by_day = {}
            day_translation = {
                'Monday': 'Lundi',
                'Tuesday': 'Mardi',
                'Wednesday': 'Mercredi',
                'Thursday': 'Jeudi',
                'Friday': 'Vendredi'
            }
            
            for slot in time_slots:
                day_french = day_translation.get(slot.day, slot.day)
                if day_french not in schedule_by_day:
                    schedule_by_day[day_french] = []
                
                slot_data = {
                    'id': slot.id,
                    'day': slot.day,
                    'day_display': slot.get_day_display(),
                    'start_time': slot.start_time.strftime('%H:%M') if slot.start_time else '',
                    'end_time': slot.end_time.strftime('%H:%M') if slot.end_time else '',
                    'subject_name': slot.subject.name if slot.subject else 'Matière',
                    'teacher_name': slot.teacher.get_full_name() if slot.teacher else 'Enseignant',
                    'classroom': slot.classroom or 'Salle non définie',
                    'duration': self._calculate_duration(slot.start_time, slot.end_time)
                }
                schedule_by_day[day_french].append(slot_data)
            
            logger.info(f"Emploi trouvé pour {user.username}: {time_slots.count()} créneaux")
            
            return Response({
                'success': True,
                'data': {
                    'id': schedule.id,
                    'class_assigned': class_obj.id,
                    'class_name': class_obj.name,
                    'time_slots': [slot_data for day_slots in schedule_by_day.values() for slot_data in day_slots],
                    'schedule_by_day': schedule_by_day,
                    'total_slots': time_slots.count(),
                    'updated_at': schedule.updated_at,
                    'has_schedule': True
                }
            })
            
        except Exception as e:
            logger.error(f"Erreur _get_student_schedule: {str(e)}")
            return Response({
                'success': False,
                'error': f'Erreur technique: {str(e)}'
            }, status=500)
    
    def _get_teacher_schedule(self, user):
        """Récupère l'emploi du temps d'un enseignant"""
        logger.info(f"Récupération emploi pour enseignant: {user.username}")
        
        try:
            # Récupérer tous les créneaux de l'enseignant
            time_slots = TimeSlot.objects.filter(
                teacher=user
            ).select_related(
                'subject', 
                'subject__specialty', 
                'schedule__class_assigned'
            ).order_by('day', 'start_time')
            
            # Récupérer ou créer l'emploi de l'enseignant
            teacher_schedule, created = TeacherSchedule.objects.get_or_create(teacher=user)
            
            # Organiser par jour
            schedule_by_day = {}
            day_translation = {
                'Monday': 'Lundi',
                'Tuesday': 'Mardi',
                'Wednesday': 'Mercredi',
                'Thursday': 'Jeudi',
                'Friday': 'Vendredi'
            }
            
            # Calculer le total d'heures et organiser par jour
            total_hours = 0
            days_with_classes = set()
            
            for slot in time_slots:
                day_french = day_translation.get(slot.day, slot.day)
                if day_french not in schedule_by_day:
                    schedule_by_day[day_french] = []
                
                slot_data = {
                    'id': slot.id,
                    'day': slot.day,
                    'day_display': slot.get_day_display(),
                    'start_time': slot.start_time.strftime('%H:%M') if slot.start_time else '',
                    'end_time': slot.end_time.strftime('%H:%M') if slot.end_time else '',
                    'subject_name': slot.subject.name if slot.subject else 'Matière',
                    'class_name': slot.schedule.class_assigned.name if slot.schedule and slot.schedule.class_assigned else 'Classe',
                    'classroom': slot.classroom or 'Salle non définie',
                    'duration': self._calculate_duration(slot.start_time, slot.end_time)
                }
                schedule_by_day[day_french].append(slot_data)
                
                # Ajouter à la liste des jours avec cours
                days_with_classes.add(day_french)
                
                # Calculer les heures
                if slot.start_time and slot.end_time:
                    start_dt = datetime.combine(datetime.today(), slot.start_time)
                    end_dt = datetime.combine(datetime.today(), slot.end_time)
                    total_hours += (end_dt - start_dt).total_seconds() / 3600
            
            logger.info(f"Emploi trouvé pour enseignant {user.username}: {time_slots.count()} créneaux")
            
            return Response({
                'success': True,
                'data': {
                    'teacher_id': user.id,
                    'teacher_name': user.get_full_name(),
                    'teacher_email': user.email,
                    'teacher_specialty': user.specialty.name if user.specialty else None,
                    'teacher_schedule_id': teacher_schedule.id,
                    'weekly_hours': float(teacher_schedule.weekly_hours),
                    'max_hours': float(teacher_schedule.max_hours),
                    'is_full': teacher_schedule.is_full(),
                    'time_slots': [slot_data for day_slots in schedule_by_day.values() for slot_data in day_slots],
                    'schedule_by_day': schedule_by_day,
                    'total_hours': round(total_hours, 2),
                    'total_slots': time_slots.count(),
                    'days_with_classes': len(days_with_classes),
                    'updated_at': teacher_schedule.updated_at
                }
            })
            
        except Exception as e:
            logger.error(f"Erreur _get_teacher_schedule: {str(e)}")
            return Response({
                'success': False,
                'error': f'Erreur technique: {str(e)}'
            }, status=500)
    
    def _calculate_duration(self, start_time, end_time):
        """Calcule la durée en heures"""
        if not start_time or not end_time:
            return 0.0
        
        try:
            start_dt = datetime.combine(datetime.today(), start_time)
            end_dt = datetime.combine(datetime.today(), end_time)
            duration = (end_dt - start_dt).total_seconds() / 3600
            return round(duration, 2)
        except:
            return 0.0

    # ========================================
    # ACTIONS ADMIN
    # ========================================
    
    @action(detail=False, methods=['post'], url_path='generate-smart')
    def generate_smart_schedule(self, request):
        """Génère un emploi du temps intelligent pour une classe (admin seulement)"""
        try:
            class_id = request.data.get('class_id')
            force_update = request.data.get('force_update', False)
            
            if not class_id:
                return Response({
                    'success': False, 
                    'error': 'class_id requis'
                }, status=400)
            
            class_obj = Class.objects.get(id=class_id)
            
            if Subject.objects.filter(class_assigned=class_obj, teacher__isnull=False).count() == 0:
                return Response({
                    'success': False,
                    'error': 'Pas de matières avec enseignant'
                }, status=400)
            
            # Simuler une génération simple pour test
            schedule, created = WeeklySchedule.objects.get_or_create(
                class_assigned=class_obj
            )
            
            if not created and not force_update and schedule.time_slots.count() > 0:
                return Response({
                    'success': True,
                    'message': f'Emploi existe déjà pour {class_obj.name}',
                    'data': {
                        'schedule_id': schedule.id,
                        'slots_created': 0,
                        'teachers_updated': 0,
                        'schedule': WeeklyScheduleSerializer(schedule).data
                    }
                })
            
            # Créer des créneaux de test
            if created or force_update:
                # Supprimer les anciens créneaux
                schedule.time_slots.all().delete()
                
                # Ajouter quelques créneaux de test
                test_subjects = Subject.objects.filter(class_assigned=class_obj, teacher__isnull=False)[:3]
                
                if test_subjects:
                    days = ['Monday', 'Tuesday', 'Wednesday']
                    for i, day in enumerate(days):
                        if i < len(test_subjects):
                            subject = test_subjects[i]
                            TimeSlot.objects.create(
                                day=day,
                                start_time=time(8 + i, 0),
                                end_time=time(10 + i, 0),
                                subject=subject,
                                teacher=subject.teacher,
                                classroom=f"Salle {101 + i}",
                                schedule=schedule
                            )
            
            return Response({
                'success': True,
                'message': f'Emploi généré pour {class_obj.name}',
                'data': {
                    'schedule_id': schedule.id,
                    'slots_created': schedule.time_slots.count(),
                    'teachers_updated': 1,
                    'schedule': WeeklyScheduleSerializer(schedule).data
                }
            })
            
        except Exception as e:
            logger.error(f"Erreur génération smart: {str(e)}")
            return Response({
                'success': False,
                'error': f'Erreur: {str(e)}'
            }, status=500)
    
    @action(detail=False, methods=['get'], url_path='class/(?P<class_id>[^/.]+)')
    def class_schedule(self, request, class_id=None):
        """Récupère l'emploi du temps d'une classe spécifique (admin seulement)"""
        try:
            schedule = get_object_or_404(
                WeeklySchedule.objects.prefetch_related('time_slots'),
                class_assigned_id=class_id
            )
            
            return Response({
                'success': True,
                'data': WeeklyScheduleSerializer(schedule).data
            })
            
        except Exception as e:
            return Response({
                'success': False,
                'error': f'Emploi non trouvé'
            }, status=404)
    
    @action(detail=False, methods=['get'], url_path='teacher/(?P<teacher_id>[^/.]+)')
    def teacher_schedule(self, request, teacher_id=None):
        """Récupère l'emploi du temps d'un enseignant spécifique (admin seulement)"""
        try:
            teacher = get_object_or_404(CustomUser, id=teacher_id, role='teacher')
            
            time_slots = TimeSlot.objects.filter(
                teacher=teacher
            ).select_related(
                'subject', 
                'subject__specialty', 
                'schedule__class_assigned'
            ).order_by('day', 'start_time')
            
            teacher_schedule = get_object_or_404(TeacherSchedule, teacher=teacher)
            
            return Response({
                'success': True,
                'data': {
                    'teacher_name': teacher.get_full_name(),
                    'time_slots': TimeSlotSerializer(time_slots, many=True).data,
                    'teacher_schedule': TeacherScheduleSerializer(teacher_schedule).data
                }
            })
            
        except Exception as e:
            return Response({
                'success': False,
                'error': f'Enseignant non trouvé'
            }, status=404)

    # ========================================
    # AUTRES ACTIONS
    # ========================================
    
    @action(detail=False, methods=['post'], url_path='sync-teachers')
    def sync_teachers(self, request):
        """Synchronise tous les emplois des enseignants (admin seulement)"""
        try:
            # Simuler une synchronisation
            teacher_schedules = TeacherSchedule.objects.all()
            for ts in teacher_schedules:
                ts.update_hours()
            
            return Response({
                'success': True,
                'message': f'{teacher_schedules.count()} enseignants synchronisés',
                'data': {
                    'teachers_updated': teacher_schedules.count()
                }
            })
            
        except Exception as e:
            return Response({
                'success': False,
                'error': f'Erreur: {str(e)}'
            }, status=500)
    
    @action(detail=False, methods=['get'], url_path='check-conflicts')
    def check_conflicts(self, request):
        """Vérifie les conflits dans les emplois du temps (admin seulement)"""
        try:
            # Simuler une vérification
            return Response({
                'success': True,
                'data': {
                    'conflicts': [],
                    'total_conflicts': 0
                }
            })
            
        except Exception as e:
            return Response({
                'success': False,
                'error': f'Erreur: {str(e)}'
            }, status=500)
    
    @action(detail=False, methods=['get'], url_path='available-teachers')
    def available_teachers(self, request):
        """Retourne la liste des enseignants disponibles (admin seulement)"""
        try:
            class_id = request.query_params.get('class_id')
            if not class_id:
                return Response({
                    'success': False,
                    'error': 'class_id requis'
                }, status=400)
            
            teachers = CustomUser.objects.filter(
                role='teacher', 
                approved=True
            ).select_related('specialty')
            
            available_teachers = []
            for teacher in teachers:
                teacher_schedule, _ = TeacherSchedule.objects.get_or_create(teacher=teacher)
                
                available_teachers.append({
                    'id': teacher.id,
                    'name': teacher.get_full_name(),
                    'email': teacher.email,
                    'specialty': teacher.specialty.name if teacher.specialty else None,
                    'available': not teacher_schedule.is_full(),
                    'message': 'Disponible' if not teacher_schedule.is_full() else 'Emploi complet',
                    'current_hours': float(teacher_schedule.weekly_hours),
                    'max_hours': float(teacher_schedule.max_hours),
                    'is_full': teacher_schedule.is_full()
                })
            
            return Response({
                'success': True,
                'data': {
                    'available_teachers': available_teachers,
                    'total_teachers': len(available_teachers),
                    'available_count': len([t for t in available_teachers if t['available']])
                }
            })
            
        except Exception as e:
            return Response({
                'success': False,
                'error': f'Erreur: {str(e)}'
            }, status=500)

class TimeSlotViewSet(viewsets.ModelViewSet):
    """Gestion des créneaux horaires"""
    queryset = TimeSlot.objects.all().select_related(
        'subject', 'teacher', 'schedule', 'teacher_schedule'
    )
    serializer_class = TimeSlotSerializer
    permission_classes = [IsAdmin]
    
    def create(self, request, *args, **kwargs):
        try:
            response = super().create(request, *args, **kwargs)
            
            # Mettre à jour l'enseignant si nécessaire
            if response.status_code == 201:
                teacher_id = request.data.get('teacher')
                if teacher_id:
                    try:
                        teacher = CustomUser.objects.get(id=teacher_id)
                        teacher_schedule, _ = TeacherSchedule.objects.get_or_create(teacher=teacher)
                        teacher_schedule.update_hours()
                    except Exception as e:
                        logger.error(f"Erreur mise à jour enseignant après création créneau: {str(e)}")
            
            return response
        except Exception as e:
            logger.error(f"Erreur création créneau: {str(e)}")
            return Response({
                'success': False,
                'error': f'Erreur lors de la création du créneau: {str(e)}'
            }, status=500)
    
    def update(self, request, *args, **kwargs):
        try:
            response = super().update(request, *args, **kwargs)
            
            # Mettre à jour l'enseignant si nécessaire
            if response.status_code == 200:
                instance = self.get_object()
                if instance.teacher:
                    teacher_schedule, _ = TeacherSchedule.objects.get_or_create(teacher=instance.teacher)
                    teacher_schedule.update_hours()
            
            return response
        except Exception as e:
            logger.error(f"Erreur mise à jour créneau: {str(e)}")
            return Response({
                'success': False,
                'error': f'Erreur lors de la mise à jour du créneau: {str(e)}'
            }, status=500)
    
    def destroy(self, request, *args, **kwargs):
        try:
            instance = self.get_object()
            teacher = instance.teacher
            
            response = super().destroy(request, *args, **kwargs)
            
            # Mettre à jour l'enseignant après suppression
            if response.status_code == 204:
                if teacher:
                    try:
                        teacher_schedule, _ = TeacherSchedule.objects.get_or_create(teacher=teacher)
                        teacher_schedule.update_hours()
                    except Exception as e:
                        logger.error(f"Erreur mise à jour enseignant après suppression créneau: {str(e)}")
            
            return response
        except Exception as e:
            logger.error(f"Erreur suppression créneau: {str(e)}")
            return Response({
                'success': False,
                'error': f'Erreur lors de la suppression du créneau: {str(e)}'
            }, status=500)















app lms-sessions 


# lms_sessions/models.py
from django.db import models
from accounts.models import CustomUser

class Session(models.Model):
    subject = models.ForeignKey('classes.Subject', on_delete=models.CASCADE, related_name='sessions')
    teacher = models.ForeignKey(CustomUser, on_delete=models.CASCADE, limit_choices_to={'role': 'teacher'})
    start_time = models.DateTimeField(auto_now_add=True)
    end_time = models.DateTimeField(null=True, blank=True)
    is_live = models.BooleanField(default=False)
    recorded_file = models.FileField(upload_to='recorded_sessions/', null=True, blank=True)

    def __str__(self):
        return f"{self.subject.name} - {self.teacher.username} ({'Live' if self.is_live else 'Terminé'})"

class Test(models.Model):
    subject = models.ForeignKey('classes.Subject', on_delete=models.CASCADE)
    title = models.CharField(max_length=200)
    file = models.FileField(upload_to='tests/')
    uploaded_at = models.DateTimeField(auto_now_add=True)

    def __str__(self):
        return self.title

class TestScore(models.Model):
    test = models.ForeignKey(Test, on_delete=models.CASCADE, related_name='scores')
    student = models.ForeignKey(CustomUser, on_delete=models.CASCADE, limit_choices_to={'role': 'student'})
    score = models.FloatField()  # /20
    submitted_at = models.DateTimeField(auto_now_add=True)

    class Meta:
        unique_together = ('test', 'student')
        ordering = ['-score']

    def __str__(self):
        return f"{self.student.username} ? {self.score}/20"










# lms_sessions/serializers.py
from rest_framework import serializers
from .models import Session, Test, TestScore

class SessionSerializer(serializers.ModelSerializer):
    subject_name = serializers.CharField(source='subject.name', read_only=True)
    teacher_name = serializers.CharField(source='teacher.username', read_only=True)
    class_name = serializers.CharField(source='subject.class_assigned.name', read_only=True)

    class Meta:
        model = Session
        fields = ['id', 'subject', 'subject_name', 'class_name', 'teacher', 'teacher_name', 'start_time', 'end_time', 'is_live']
        read_only_fields = ['teacher', 'start_time', 'end_time']

class TestSerializer(serializers.ModelSerializer):
    subject_name = serializers.CharField(source='subject.name', read_only=True)

    class Meta:
        model = Test
        fields = ['id', 'title', 'file', 'subject', 'subject_name', 'uploaded_at']
        read_only_fields = ['uploaded_at']

class TestScoreSerializer(serializers.ModelSerializer):
    student_name = serializers.CharField(source='student.username', read_only=True)
    test_title = serializers.CharField(source='test.title', read_only=True)

    class Meta:
        model = TestScore
        fields = ['id', 'test', 'test_title', 'student', 'student_name', 'score']









# lms_sessions/urls.py
from django.urls import path, include
from rest_framework.routers import DefaultRouter
from .views import SessionViewSet, TestViewSet, TestScoreViewSet

router = DefaultRouter()
router.register(r'sessions', SessionViewSet)
router.register(r'tests', TestViewSet)
router.register(r'scores', TestScoreViewSet)

urlpatterns = [
    path('', include(router.urls)),
]










# lms_sessions/views.py
from rest_framework import viewsets, status
from rest_framework.decorators import action
from rest_framework.response import Response
from rest_framework.permissions import IsAuthenticated
from .models import Session, Test, TestScore
from .serializers import SessionSerializer, TestSerializer, TestScoreSerializer
from accounts.permissions import IsTeacher, IsStudent

class SessionViewSet(viewsets.ModelViewSet):
    queryset = Session.objects.all()
    serializer_class = SessionSerializer
    permission_classes = [IsAuthenticated]

    def perform_create(self, serializer):
        serializer.save(teacher=self.request.user)

    @action(detail=True, methods=['post'])
    def start_live(self, request, pk=None):
        session = self.get_object()
        if session.teacher != request.user:
            return Response({"error": "Pas autorisé"}, status=403)
        session.is_live = True
        session.save()
        return Response({"status": "live démarré", "session_id": session.id})

    @action(detail=True, methods=['post'])
    def stop_live(self, request, pk=None):
        session = self.get_object()
        session.is_live = False
        session.save()
        return Response({"status": "live terminé"})

class TestViewSet(viewsets.ModelViewSet):
    queryset = Test.objects.all()
    serializer_class = TestSerializer
    permission_classes = [IsAuthenticated, IsTeacher]

class TestScoreViewSet(viewsets.ReadOnlyModelViewSet):
    queryset = TestScore.objects.all()
    serializer_class = TestScoreSerializer
    permission_classes = [IsAuthenticated]

    @action(detail=False, methods=['get'])
    def ranking(self, request):
        test_id = request.query_params.get('test_id')
        if not test_id:
            return Response({"error": "test_id requis"}, status=400)
        scores = TestScore.objects.filter(test_id=test_id).select_related('student')
        serializer = self.get_serializer(scores, many=True)
        return Response(serializer.data)
























et voila urls.py global de l'app   # backend/urls.py (version finale)
from django.contrib import admin
from django.urls import path, include
from django.conf import settings
from django.conf.urls.static import static

urlpatterns = [
    path("admin/", admin.site.urls),
    
    # API ROUTES
    path("api/accounts/", include("accounts.urls")),
    path("api/classes/", include("classes.urls")),
    path("api/courses/", include("courses.urls")),
    path("api/lms/", include("lms_sessions.urls")),
    path("api/notifications/", include("notifications.urls")),
    path("api/schedule/", include("schedule.urls")),
    path("api/live/", include("live.urls")),
    path("api/tests/", include("tests.urls")),
    
    # RACCOURCI
    path("api/specialties/", include("classes.urls")),
]

if settings.DEBUG:
    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
    urlpatterns += static(settings.STATIC_URL, document_root=settings.STATIC_ROOT)










et setting.py pour les informatiosn de project   # backend/backend/settings.py ? VERSION CORRIGÉE
import os
from pathlib import Path
from datetime import timedelta

BASE_DIR = Path(__file__).resolve().parent.parent

SECRET_KEY = 'django-insecure-change-me-in-production-123456789'
DEBUG = True
ALLOWED_HOSTS = ['*']

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',

    # Apps tierces
    'rest_framework',
    'rest_framework_simplejwt',
    'corsheaders',
    'channels',
    'django_celery_beat',

    # Tes apps
    'accounts',
    'classes',
    'courses',
    'lms_sessions',
    'notifications',
    'live',
    'tests',
    'schedule',
]

MIDDLEWARE = [
    'corsheaders.middleware.CorsMiddleware',
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]

ROOT_URLCONF = 'backend.urls'

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [BASE_DIR / 'templates'],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

WSGI_APPLICATION = 'backend.wsgi.application'
ASGI_APPLICATION = 'backend.asgi.application'

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}

AUTH_USER_MODEL = 'accounts.CustomUser'

REST_FRAMEWORK = {
    'DEFAULT_AUTHENTICATION_CLASSES': (
        'rest_framework_simplejwt.authentication.JWTAuthentication',
    ),
    'DEFAULT_PERMISSION_CLASSES': [
        'rest_framework.permissions.IsAuthenticated',
    ],
}

SIMPLE_JWT = {
    'ACCESS_TOKEN_LIFETIME': timedelta(days=7),
    'REFRESH_TOKEN_LIFETIME': timedelta(days=30),
}

CORS_ALLOW_ALL_ORIGINS = True
CORS_ALLOW_CREDENTIALS = True

# Channel Layers - Version simplifiée pour développement
CHANNEL_LAYERS = {
    "default": {
        "BACKEND": "channels.layers.InMemoryChannelLayer",
    },
}

# Static & Media
STATIC_URL = '/static/'
STATICFILES_DIRS = [BASE_DIR / "static"]
STATIC_ROOT = BASE_DIR / "staticfiles"
MEDIA_URL = '/media/'
MEDIA_ROOT = BASE_DIR / "media"

LANGUAGE_CODE = 'fr-fr'
TIME_ZONE = 'Africa/Casablanca'
USE_I18N = True
USE_TZ = True

DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

LOGGING = {
    'version': 1,
    'disable_existing_loggers': False,
    'handlers': {
        'console': {
            'class': 'logging.StreamHandler',
        },
    },
    'root': {
        'handlers': ['console'],
        'level': 'DEBUG',
    },
}